{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { inscritUid } from 'src/app/login/login.page';\nimport { getInscritByUid1 } from 'src/firebaseConfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/router\";\nexport let ProfilPage = /*#__PURE__*/(() => {\n  var _ProfilPage;\n  class ProfilPage {\n    constructor(firestore) {\n      this.firestore = firestore;\n      this.uid = inscritUid;\n      this.familyName = \"\";\n      this.name = \"\";\n      this.email = \"\";\n      this.password = \"\";\n      this.date = \"\";\n      this.sexe = \"\";\n      this.formulaireActif = false; // Indicateur pour activer/désactiver le formulaire\n    }\n    ngOnInit() {\n      this.fetchInscrit();\n    }\n    fetchInscrit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          _this.inscrit = yield getInscritByUid1(_this.firestore, inscritUid);\n          console.log('Inscrit récupéré :', _this.inscrit);\n          if (_this.inscrit) {\n            // Mettez à jour les champs du formulaire avec les données récupérées de l'inscrit\n            _this.familyName = _this.inscrit.familyName;\n            _this.name = _this.inscrit.name;\n            _this.email = _this.inscrit.email;\n            _this.password = _this.inscrit.password;\n            _this.date = _this.inscrit.date;\n            _this.sexe = _this.inscrit.sexe;\n          } else {\n            console.error('Aucun inscrit trouvé pour cet UID :', inscritUid);\n          }\n        } catch (error) {\n          console.error('Erreur lors de la récupération de l\\'inscrit :', error);\n        }\n      })();\n    }\n    activerFormulaire() {\n      this.formulaireActif = true; // Active le formulaire pour les modifications\n    }\n    enregistrerDonneesInscrit() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          // Vérifiez que inscrit n'est pas null avant de tenter la mise à jour\n          if (_this2.inscrit) {\n            const inscritModifie = {\n              familyName: _this2.familyName,\n              name: _this2.name,\n              email: _this2.email,\n              password: _this2.password,\n              date: _this2.date,\n              sexe: _this2.sexe\n              // Ajoutez d'autres champs si nécessaire\n            };\n            yield _this2.firestore.collection('inscrits').doc(inscritUid).update(inscritModifie);\n            console.log('Données de l\\'inscrit mises à jour avec succès dans Firebase.');\n            _this2.formulaireActif = false; // Désactivez le formulaire après la mise à jour\n          } else {\n            console.error('Aucun inscrit trouvé pour la mise à jour.');\n          }\n        } catch (error) {\n          console.error('Erreur lors de la mise à jour des données de l\\'inscrit dans Firebase :', error);\n        }\n      })();\n    }\n  }\n  _ProfilPage = ProfilPage;\n  _ProfilPage.ɵfac = function ProfilPage_Factory(t) {\n    return new (t || _ProfilPage)(i0.ɵɵdirectiveInject(i1.AngularFirestore));\n  };\n  _ProfilPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _ProfilPage,\n    selectors: [[\"app-profil\"]],\n    decls: 48,\n    vars: 15,\n    consts: [[3, \"translucent\"], [\"routerLink\", \"/tabs/tab1\", \"fill\", \"clear\", \"slot\", \"start\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [\"medecinForm\", \"ngForm\"], [\"position\", \"floating\"], [\"type\", \"text\", \"name\", \"name\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"familyName\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"email\", \"name\", \"email\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"date\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"name\", \"sexe\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"value\", \"homme\"], [\"value\", \"femme\"], [\"expand\", \"block\", \"color\", \"primary\", 3, \"click\"], [\"expand\", \"block\", \"color\", \"success\", \"type\", \"submit\", 3, \"disabled\", \"click\"]],\n    template: function ProfilPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-button\", 1);\n        i0.ɵɵtext(3, \" Retour\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-title\");\n        i0.ɵɵtext(5, \"Profil\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"ion-content\", 2)(7, \"ion-header\", 3)(8, \"ion-toolbar\")(9, \"ion-title\", 4);\n        i0.ɵɵtext(10, \"Profil\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(11, \"form\", null, 5)(13, \"ion-item\")(14, \"ion-label\", 6);\n        i0.ɵɵtext(15, \"Pr\\u00E9nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"ion-input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_input_ngModelChange_16_listener($event) {\n          return ctx.name = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"ion-item\")(18, \"ion-label\", 6);\n        i0.ɵɵtext(19, \"Nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"ion-input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_input_ngModelChange_20_listener($event) {\n          return ctx.familyName = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"ion-item\")(22, \"ion-label\", 6);\n        i0.ɵɵtext(23, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"ion-input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_input_ngModelChange_24_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"ion-item\")(26, \"ion-label\", 6);\n        i0.ɵɵtext(27, \"Mot de passe\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"ion-input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_input_ngModelChange_28_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"ion-item\")(30, \"ion-label\", 6);\n        i0.ɵɵtext(31, \"Date de naissance\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"ion-input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_input_ngModelChange_32_listener($event) {\n          return ctx.date = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"ion-item\")(34, \"ion-label\", 6);\n        i0.ɵɵtext(35, \"Sexe\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"ion-select\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_select_ngModelChange_36_listener($event) {\n          return ctx.sexe = $event;\n        });\n        i0.ɵɵelementStart(37, \"ion-select-option\", 13);\n        i0.ɵɵtext(38, \"Homme\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"ion-select-option\", 14);\n        i0.ɵɵtext(40, \"Femme\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(41, \"ion-row\")(42, \"ion-col\")(43, \"ion-button\", 15);\n        i0.ɵɵlistener(\"click\", function ProfilPage_Template_ion_button_click_43_listener() {\n          return ctx.activerFormulaire();\n        });\n        i0.ɵɵtext(44, \"Modifier\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(45, \"ion-col\")(46, \"ion-button\", 16);\n        i0.ɵɵlistener(\"click\", function ProfilPage_Template_ion_button_click_46_listener() {\n          return ctx.enregistrerDonneesInscrit();\n        });\n        i0.ɵɵtext(47, \"Enregistrer\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"translucent\", true);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.name)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.familyName)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.email)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.password)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.date)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.sexe)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"disabled\", !ctx.formulaireActif);\n      }\n    },\n    dependencies: [i2.ɵNgNoValidate, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm, i3.IonButton, i3.IonCol, i3.IonContent, i3.IonHeader, i3.IonInput, i3.IonItem, i3.IonLabel, i3.IonRow, i3.IonSelect, i3.IonSelectOption, i3.IonTitle, i3.IonToolbar, i3.SelectValueAccessor, i3.TextValueAccessor, i3.RouterLinkDelegate, i4.RouterLink],\n    styles: [\".header[_ngcontent-%COMP%]{height:180px;background-color:#e97712;width:100%;padding-top:1px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:700}.space-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 10px 0}.followings[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.followings[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin:8px 0 0}.img-box[_ngcontent-%COMP%]{border-radius:50%;overflow:hidden;height:130px;width:130px}.border-white[_ngcontent-%COMP%]{border:white solid 4px;border-radius:50%;width:-moz-fit-content;width:fit-content}.border-blue[_ngcontent-%COMP%]{border:7px solid #006bbf;border-radius:50%;width:-moz-fit-content;width:fit-content}.flex[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:-76px}.ion-color-orange-new[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-orange-new);--ion-color-base-rgb: var(--ion-color-orange-new-rgb);--ion-color-contrast: var(--ion-color-orange-new-contrast);--ion-color-contrast-rgb: var(--ion-color-orange-new-contrast-rgb);--ion-color-shade: var(--ion-color-orange-new-shade);--ion-color-tint: var(--ion-color-orange-new-tint)}.circle[_ngcontent-%COMP%]{width:130px;height:130px;border-radius:50%}\"]\n  });\n  return ProfilPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}