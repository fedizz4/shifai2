{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _Tab2Page;\nimport { isSameDay, isSameMonth } from 'date-fns';\nimport { deleteRendezVousR, getRdvByPatientUid } from 'src/firebaseConfig';\nimport { inscritUid } from '../login/login.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"angular-calendar\";\nfunction Tab2Page_ion_item_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-button\", 23);\n    i0.ɵɵlistener(\"click\", function Tab2Page_ion_item_40_Template_ion_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const rendezVousItems_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteRendezVouscalendar(rendezVousItems_r1));\n    });\n    i0.ɵɵtext(4, \"Supprimer\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const rendezVousItems_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate4(\"\", rendezVousItems_r1.date, \" - \", rendezVousItems_r1.heure, \" - \", rendezVousItems_r1.nom, \" \", rendezVousItems_r1.prenom, \"\");\n  }\n}\nexport class Tab2Page {\n  constructor(firestore) {\n    this.firestore = firestore;\n    this.viewDate = new Date();\n    this.events = [];\n    this.activeDayIsOpen = false;\n    this.uid = inscritUid;\n    this.rdvs = [];\n    this.loadEvents();\n  }\n  loadEvents() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const rdvs = yield getRdvByPatientUid(_this.firestore, _this.uid);\n        if (rdvs && rdvs.length > 0) {\n          _this.events = rdvs.map(rdv => ({\n            start: new Date(rdv.date),\n            // Supposons que rdv.date contient la date du rendez-vous\n            title: `Rendez-vous de ${rdv.prenom} ${rdv.nom} à ${rdv.heure} chez ${rdv.medecinPrenom} ${rdv.medecinNom} <b> ${rdv.statut} ${rdv.excuse} </b> `\n          }));\n        }\n      } catch (error) {\n        console.error('Erreur lors du chargement des rendez-vous:', error);\n      }\n    })();\n  }\n  dayClicked({\n    date,\n    events\n  }) {\n    if (isSameMonth(date, this.viewDate)) {\n      if (isSameDay(this.viewDate, date) && this.activeDayIsOpen === true || events.length === 0) {\n        this.activeDayIsOpen = false;\n      } else {\n        this.activeDayIsOpen = true;\n        this.viewDate = date;\n      }\n    }\n  }\n  deleteRendezVouscalendar(rendezVous) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        yield deleteRendezVousR(_this2.firestore, inscritUid, rendezVous);\n        console.log('Rendez-vous supprimé avec succès.');\n        yield _this2.loadEvents();\n      } catch (error) {\n        console.error('Erreur lors de la suppression du rendez-vous:', error);\n      }\n    })();\n  }\n}\n_Tab2Page = Tab2Page;\n_Tab2Page.ɵfac = function Tab2Page_Factory(t) {\n  return new (t || _Tab2Page)(i0.ɵɵdirectiveInject(i1.AngularFirestore));\n};\n_Tab2Page.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _Tab2Page,\n  selectors: [[\"app-tab2\"]],\n  decls: 54,\n  vars: 6,\n  consts: [[3, \"translucent\"], [\"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\"], [\"href\", \"https://unpkg.com/@fortawesome/fontawesome-free@6.2.1/css/all.css\", \"rel\", \"stylesheet\"], [\"href\", \"https://unpkg.com/angular-calendar@0.31.0/css/angular-calendar.css\", \"rel\", \"stylesheet\"], [\"href\", \"https://unpkg.com/flatpickr@4.6.13/dist/flatpickr.css\", \"rel\", \"stylesheet\"], [1, \"left\"], [\"large\", \"\", \"routerLink\", \"/profil\", 1, \"right\"], [\"name\", \"person-circle-outline\"], [1, \"content\", 3, \"fullscreen\"], [\"color\", \"primary\", 1, \"header-rd\"], [1, \"center\"], [\"color\", \"primary\"], [\"color\", \"light\", \"routerLink\", \"/recherche-medecin\", 1, \"center1\"], [\"name\", \"search-circle-outline\", 2, \"color\", \"rgb(110, 110, 248)\"], [2, \"color\", \"rgb(110, 110, 248)\"], [1, \"calendar\"], [3, \"viewDate\", \"events\", \"activeDayIsOpen\", \"dayClicked\"], [4, \"ngFor\", \"ngForOf\"], [\"collapse\", \"fade\"], [\"slot\", \"bottom\"], [\"name\", \"home-outline\", \"routerLink\", \"/tab1\"], [\"name\", \"calendar-outline\", \"routerLink\", \"/tabs/tab2\"], [\"name\", \"pin-outline\", \"routerLink\", \"/tabs/tab3\"], [\"color\", \"danger\", 3, \"click\"]],\n  template: function Tab2Page_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0);\n      i0.ɵɵelement(1, \"link\", 1)(2, \"link\", 2)(3, \"link\", 3)(4, \"link\", 4);\n      i0.ɵɵelementStart(5, \"ion-toolbar\")(6, \"ion-item\", 5)(7, \"p\");\n      i0.ɵɵtext(8, \"Rendez-vous\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"ion-item\", 6);\n      i0.ɵɵelement(10, \"ion-icon\", 7);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"ion-content\", 8)(12, \"ion-grid\")(13, \"ion-row\")(14, \"ion-col\")(15, \"ion-card\", 9)(16, \"ion-card-header\");\n      i0.ɵɵelement(17, \"br\")(18, \"br\");\n      i0.ɵɵelementStart(19, \"ion-card-title\", 10)(20, \"div\", 10);\n      i0.ɵɵtext(21, \"Trouver\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\")(23, \"span\");\n      i0.ɵɵtext(24, \"Tous les sp\\u00E9cialistes \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(25, \"br\")(26, \"br\")(27, \"ion-card-subtitle\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"ion-content\", 11)(29, \"ion-button\", 12);\n      i0.ɵɵelement(30, \"ion-icon\", 13);\n      i0.ɵɵelementStart(31, \"p\", 14);\n      i0.ɵɵtext(32, \"Rechercher\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(33, \"br\")(34, \"br\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(35, \"ion-row\")(36, \"ion-col\", 15)(37, \"mwl-calendar-month-view\", 16);\n      i0.ɵɵlistener(\"dayClicked\", function Tab2Page_Template_mwl_calendar_month_view_dayClicked_37_listener($event) {\n        return ctx.dayClicked($event.day);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(38, \"div\")(39, \"ion-list\");\n      i0.ɵɵtemplate(40, Tab2Page_ion_item_40_Template, 5, 4, \"ion-item\", 17);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(41, \"ion-footer\", 18)(42, \"ion-toolbar\")(43, \"ion-tabs\")(44, \"ion-tab-bar\", 19)(45, \"ion-tab-button\");\n      i0.ɵɵelement(46, \"ion-icon\", 20);\n      i0.ɵɵtext(47, \" Home \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"ion-tab-button\");\n      i0.ɵɵelement(49, \"ion-icon\", 21);\n      i0.ɵɵtext(50, \" Rendez-vous \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"ion-tab-button\");\n      i0.ɵɵelement(52, \"ion-icon\", 22);\n      i0.ɵɵtext(53, \" A remplir \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(26);\n      i0.ɵɵproperty(\"viewDate\", ctx.viewDate)(\"events\", ctx.events)(\"activeDayIsOpen\", ctx.activeDayIsOpen);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.rdvs);\n    }\n  },\n  dependencies: [i2.IonButton, i2.IonCard, i2.IonCardHeader, i2.IonCardSubtitle, i2.IonCardTitle, i2.IonCol, i2.IonContent, i2.IonFooter, i2.IonGrid, i2.IonHeader, i2.IonIcon, i2.IonItem, i2.IonLabel, i2.IonList, i2.IonRow, i2.IonTabBar, i2.IonTabButton, i2.IonToolbar, i2.IonTabs, i2.RouterLinkDelegate, i3.NgForOf, i4.RouterLink, i5.CalendarMonthViewComponent],\n  styles: [\"@charset \\\"UTF-8\\\";\\n.right[_ngcontent-%COMP%] {\\n  float: right;\\n}\\n\\n.left[_ngcontent-%COMP%] {\\n  float: left;\\n}\\n\\n.header-rd[_ngcontent-%COMP%] {\\n  height: 250px;\\n}\\n\\n.center[_ngcontent-%COMP%] {\\n  margin-left: auto;\\n  margin-right: auto;\\n  display: block;\\n}\\n\\n.center1[_ngcontent-%COMP%] {\\n  padding-top: 15px;\\n  padding-bottom: 5px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  display: block;\\n  width: 200px;\\n  height: 5px;\\n}\\n\\nbody[_ngcontent-%COMP%] {\\n  text-align: center;\\n  background: linear-gradient(141deg, #ccc 25%, #eee 40%, #ddd 55%);\\n  color: #555;\\n  font-family: \\\"Roboto\\\";\\n  font-weight: 300;\\n  font-size: 32px;\\n  padding-top: 40vh;\\n  height: 100vh;\\n  overflow: hidden;\\n}\\n\\ndiv[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n\\ndiv[_ngcontent-%COMP%]:first-of-type { \\n\\n\\n\\n\\n  animation: _ngcontent-%COMP%_showup 7s infinite;\\n}\\n\\ndiv[_ngcontent-%COMP%]:last-of-type {\\n  width: 0px;\\n  animation: _ngcontent-%COMP%_reveal 7s infinite;\\n}\\n\\ndiv[_ngcontent-%COMP%]:last-of-type   span[_ngcontent-%COMP%] {\\n  margin-left: -355px;\\n  animation: _ngcontent-%COMP%_slidein 7s infinite;\\n}\\n\\n@keyframes _ngcontent-%COMP%_showup {\\n  0% {\\n    opacity: 0;\\n  }\\n  20% {\\n    opacity: 1;\\n  }\\n  80% {\\n    opacity: 1;\\n  }\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n@keyframes _ngcontent-%COMP%_slidein {\\n  0% {\\n    margin-left: -800px;\\n  }\\n  20% {\\n    margin-left: -800px;\\n  }\\n  35% {\\n    margin-left: 0px;\\n  }\\n  100% {\\n    margin-left: 0px;\\n  }\\n}\\n@keyframes _ngcontent-%COMP%_reveal {\\n  0% {\\n    opacity: 0;\\n    width: 0px;\\n  }\\n  20% {\\n    opacity: 1;\\n    width: 0px;\\n  }\\n  30% {\\n    width: 355px;\\n  }\\n  80% {\\n    opacity: 1;\\n  }\\n  100% {\\n    opacity: 0;\\n    width: 355px;\\n  }\\n}\\n.calendar[_ngcontent-%COMP%] {\\n  width: 100%;\\n  position: sticky;\\n}\\n\\n.footer[_ngcontent-%COMP%] {\\n  margin-bottom: 0%;\\n}\\n\\n.content[_ngcontent-%COMP%] {\\n  height: -moz-fit-content;\\n  height: fit-content;\\n}\\n\\n.text-rouge[_ngcontent-%COMP%] {\\n  color: var(--ion-color-new); \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uLy4uLy4uLy4uL01hY0Jvb2slMjBBaXIvRGVza3RvcC9zaGlmYWkxVlYvc3JjL2FwcC90YWIyL3RhYjIucGFnZS5zY3NzIiwid2VicGFjazovLy4vc3JjL2FwcC90YWIyL3RhYjIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQ0FoQjtFQUNJLFlBQUE7QURFSjs7QUNBRTtFQUNFLFdBQUE7QURHSjs7QUNERTtFQUNFLGFBQUE7QURJSjs7QUNGRTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0FES0o7O0FDSEU7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBRE1KOztBQ0pBO0VBQ0Usa0JBQUE7RUFDQSxpRUFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0FET0Y7O0FDSEE7RUFDRSxxQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7QURNRjs7QUNIQSxvQkFBQTs7O3FCQUFBO0VBSUUsNkJBQUE7QURNRjs7QUNIQTtFQUNFLFVBQUE7RUFDQSw2QkFBQTtBRE1GOztBQ0hBO0VBQ0UsbUJBQUE7RUFDQSw4QkFBQTtBRE1GOztBQ0hBO0VBQ0k7SUFBSSxVQUFBO0VET047RUNORTtJQUFLLFVBQUE7RURTUDtFQ1JFO0lBQUssVUFBQTtFRFdQO0VDVkU7SUFBTSxVQUFBO0VEYVI7QUFDRjtBQ1hBO0VBQ0k7SUFBSyxtQkFBQTtFRGNQO0VDYkU7SUFBTSxtQkFBQTtFRGdCUjtFQ2ZFO0lBQU0sZ0JBQUE7RURrQlI7RUNqQkU7SUFBTyxnQkFBQTtFRG9CVDtBQUNGO0FDbEJBO0VBQ0k7SUFBSSxVQUFBO0lBQVUsVUFBQTtFRHNCaEI7RUNyQkU7SUFBSyxVQUFBO0lBQVUsVUFBQTtFRHlCakI7RUN4QkU7SUFBSyxZQUFBO0VEMkJQO0VDMUJFO0lBQUssVUFBQTtFRDZCUDtFQzVCRTtJQUFNLFVBQUE7SUFBVSxZQUFBO0VEZ0NsQjtBQUNGO0FDOUJBO0VBQ0UsV0FBQTtFQUNBLGdCQUFBO0FEZ0NGOztBQzdCQTtFQUNFLGlCQUFBO0FEZ0NGOztBQzlCQTtFQUNFLHdCQUFBO0VBQUEsbUJBQUE7QURpQ0Y7O0FDL0JBO0VBQ0UsMkJBQUEsRUFBQSxtRUFBQTtBRGtDRiIsInNvdXJjZXNDb250ZW50IjpbIkBjaGFyc2V0IFwiVVRGLThcIjtcbi5yaWdodCB7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLmxlZnQge1xuICBmbG9hdDogbGVmdDtcbn1cblxuLmhlYWRlci1yZCB7XG4gIGhlaWdodDogMjUwcHg7XG59XG5cbi5jZW50ZXIge1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLmNlbnRlcjEge1xuICBwYWRkaW5nLXRvcDogMTVweDtcbiAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAyMDBweDtcbiAgaGVpZ2h0OiA1cHg7XG59XG5cbmJvZHkge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDFkZWcsICNjY2MgMjUlLCAjZWVlIDQwJSwgI2RkZCA1NSUpO1xuICBjb2xvcjogIzU1NTtcbiAgZm9udC1mYW1pbHk6IFwiUm9ib3RvXCI7XG4gIGZvbnQtd2VpZ2h0OiAzMDA7XG4gIGZvbnQtc2l6ZTogMzJweDtcbiAgcGFkZGluZy10b3A6IDQwdmg7XG4gIGhlaWdodDogMTAwdmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbmRpdiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuZGl2OmZpcnN0LW9mLXR5cGUgeyAvKiBGb3IgaW5jcmVhc2luZyBwZXJmb3JtYW5jZSBcbklEL0NsYXNzIHNob3VsZCd2ZSBiZWVuIHVzZWQuIFxuRm9yIGEgc21hbGwgZGVtbyBcbml0J3Mgb2thaXNoIGZvciBub3cgKi9cbiAgYW5pbWF0aW9uOiBzaG93dXAgN3MgaW5maW5pdGU7XG59XG5cbmRpdjpsYXN0LW9mLXR5cGUge1xuICB3aWR0aDogMHB4O1xuICBhbmltYXRpb246IHJldmVhbCA3cyBpbmZpbml0ZTtcbn1cblxuZGl2Omxhc3Qtb2YtdHlwZSBzcGFuIHtcbiAgbWFyZ2luLWxlZnQ6IC0zNTVweDtcbiAgYW5pbWF0aW9uOiBzbGlkZWluIDdzIGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIHNob3d1cCB7XG4gIDAlIHtcbiAgICBvcGFjaXR5OiAwO1xuICB9XG4gIDIwJSB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxuICA4MCUge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbiAgMTAwJSB7XG4gICAgb3BhY2l0eTogMDtcbiAgfVxufVxuQGtleWZyYW1lcyBzbGlkZWluIHtcbiAgMCUge1xuICAgIG1hcmdpbi1sZWZ0OiAtODAwcHg7XG4gIH1cbiAgMjAlIHtcbiAgICBtYXJnaW4tbGVmdDogLTgwMHB4O1xuICB9XG4gIDM1JSB7XG4gICAgbWFyZ2luLWxlZnQ6IDBweDtcbiAgfVxuICAxMDAlIHtcbiAgICBtYXJnaW4tbGVmdDogMHB4O1xuICB9XG59XG5Aa2V5ZnJhbWVzIHJldmVhbCB7XG4gIDAlIHtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHdpZHRoOiAwcHg7XG4gIH1cbiAgMjAlIHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHdpZHRoOiAwcHg7XG4gIH1cbiAgMzAlIHtcbiAgICB3aWR0aDogMzU1cHg7XG4gIH1cbiAgODAlIHtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG4gIDEwMCUge1xuICAgIG9wYWNpdHk6IDA7XG4gICAgd2lkdGg6IDM1NXB4O1xuICB9XG59XG4uY2FsZW5kYXIge1xuICB3aWR0aDogMTAwJTtcbiAgcG9zaXRpb246IHN0aWNreTtcbn1cblxuLmZvb3RlciB7XG4gIG1hcmdpbi1ib3R0b206IDAlO1xufVxuXG4uY29udGVudCB7XG4gIGhlaWdodDogZml0LWNvbnRlbnQ7XG59XG5cbi50ZXh0LXJvdWdlIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1uZXcpOyAvKiBVdGlsaXNhdGlvbiBkZSBsYSB2YXJpYWJsZSBkw4PCqWZpbmllIGRhbnMgbGUgZmljaGllciBTQ1NTIGdsb2JhbCAqL1xufSIsIi5yaWdodCB7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgfVxyXG4gIC5sZWZ0IHtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gIH1cclxuICAuaGVhZGVyLXJke1xyXG4gICAgaGVpZ2h0IDogMjUwcHg7XHJcbiAgfVxyXG4gIC5jZW50ZXJ7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gIH1cclxuICAuY2VudGVyMXtcclxuICAgIHBhZGRpbmctdG9wOiAxNXB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDVweDtcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB3aWR0aDogMjAwcHg7XHJcbiAgICBoZWlnaHQ6IDVweDtcclxuICB9XHJcbmJvZHkge1xyXG4gIHRleHQtYWxpZ246Y2VudGVyO1xyXG4gIGJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDE0MWRlZywgI2NjYyAyNSUsICNlZWUgNDAlLCAjZGRkIDU1JSk7XHJcbiAgY29sb3I6IzU1NTtcclxuICBmb250LWZhbWlseTonUm9ib3RvJztcclxuICBmb250LXdlaWdodDozMDA7XHJcbiAgZm9udC1zaXplOjMycHg7XHJcbiAgcGFkZGluZy10b3A6NDB2aDtcclxuICBoZWlnaHQ6MTAwdmg7XHJcbiAgb3ZlcmZsb3c6aGlkZGVuO1xyXG4gXHJcbn1cclxuXHJcbmRpdiB7XHJcbiAgZGlzcGxheTppbmxpbmUtYmxvY2s7XHJcbiAgb3ZlcmZsb3c6aGlkZGVuO1xyXG4gIHdoaXRlLXNwYWNlOm5vd3JhcDtcclxufVxyXG5cclxuZGl2OmZpcnN0LW9mLXR5cGUgeyAgICAvKiBGb3IgaW5jcmVhc2luZyBwZXJmb3JtYW5jZSBcclxuICAgICAgICAgICAgICAgICAgICAgICBJRC9DbGFzcyBzaG91bGQndmUgYmVlbiB1c2VkLiBcclxuICAgICAgICAgICAgICAgICAgICAgICBGb3IgYSBzbWFsbCBkZW1vIFxyXG4gICAgICAgICAgICAgICAgICAgICAgIGl0J3Mgb2thaXNoIGZvciBub3cgKi9cclxuICBhbmltYXRpb246IHNob3d1cCA3cyBpbmZpbml0ZTtcclxufVxyXG5cclxuZGl2Omxhc3Qtb2YtdHlwZSB7XHJcbiAgd2lkdGg6MHB4O1xyXG4gIGFuaW1hdGlvbjogcmV2ZWFsIDdzIGluZmluaXRlO1xyXG59XHJcblxyXG5kaXY6bGFzdC1vZi10eXBlIHNwYW4ge1xyXG4gIG1hcmdpbi1sZWZ0Oi0zNTVweDtcclxuICBhbmltYXRpb246IHNsaWRlaW4gN3MgaW5maW5pdGU7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgc2hvd3VwIHtcclxuICAgIDAlIHtvcGFjaXR5OjA7fVxyXG4gICAgMjAlIHtvcGFjaXR5OjE7fVxyXG4gICAgODAlIHtvcGFjaXR5OjE7fVxyXG4gICAgMTAwJSB7b3BhY2l0eTowO31cclxufVxyXG5cclxuQGtleWZyYW1lcyBzbGlkZWluIHtcclxuICAgIDAlIHsgbWFyZ2luLWxlZnQ6LTgwMHB4OyB9XHJcbiAgICAyMCUgeyBtYXJnaW4tbGVmdDotODAwcHg7IH1cclxuICAgIDM1JSB7IG1hcmdpbi1sZWZ0OjBweDsgfVxyXG4gICAgMTAwJSB7IG1hcmdpbi1sZWZ0OjBweDsgfVxyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHJldmVhbCB7XHJcbiAgICAwJSB7b3BhY2l0eTowO3dpZHRoOjBweDt9XHJcbiAgICAyMCUge29wYWNpdHk6MTt3aWR0aDowcHg7fVxyXG4gICAgMzAlIHt3aWR0aDozNTVweDt9XHJcbiAgICA4MCUge29wYWNpdHk6MTt9XHJcbiAgICAxMDAlIHtvcGFjaXR5OjA7d2lkdGg6MzU1cHg7fVxyXG59XHJcblxyXG4uY2FsZW5kYXJ7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcG9zaXRpb246IHN0aWNreTtcclxuICBcclxufVxyXG4uZm9vdGVye1xyXG4gIG1hcmdpbi1ib3R0b206IDAlO1xyXG59XHJcbi5jb250ZW50e1xyXG4gIGhlaWdodDogZml0LWNvbnRlbnQ7XHJcbn1cclxuLnRleHQtcm91Z2Uge1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbmV3KTsgLyogVXRpbGlzYXRpb24gZGUgbGEgdmFyaWFibGUgZMODwqlmaW5pZSBkYW5zIGxlIGZpY2hpZXIgU0NTUyBnbG9iYWwgKi9cclxufVxyXG5cclxuXHJcbiAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["isSameDay","isSameMonth","deleteRendezVousR","getRdvByPatientUid","inscritUid","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","Tab2Page_ion_item_40_Template_ion_button_click_3_listener","restoredCtx","ɵɵrestoreView","_r3","rendezVousItems_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","deleteRendezVouscalendar","ɵɵadvance","ɵɵtextInterpolate4","date","heure","nom","prenom","Tab2Page","constructor","firestore","viewDate","Date","events","activeDayIsOpen","uid","rdvs","loadEvents","_this","_asyncToGenerator","length","map","rdv","start","title","medecinPrenom","medecinNom","statut","excuse","error","console","dayClicked","rendezVous","_this2","log","ɵɵdirectiveInject","i1","AngularFirestore","selectors","decls","vars","consts","template","Tab2Page_Template","rf","ctx","ɵɵelement","Tab2Page_Template_mwl_calendar_month_view_dayClicked_37_listener","$event","day","ɵɵtemplate","Tab2Page_ion_item_40_Template","ɵɵproperty"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\tab2\\tab2.page.ts","C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\tab2\\tab2.page.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { CalendarEvent } from 'angular-calendar';\nimport { isSameDay, isSameMonth } from 'date-fns';\nimport { deleteRendezVous, deleteRendezVousR, getRdvByPatientUid } from 'src/firebaseConfig';\nimport { inscritUid } from '../login/login.page';\n\ninterface RendezVousData {\n  date: string;\n  heure: string;\n  nom: string;\n  prenom: string;\n  useruid: string;\n  medecinNom?: string; // Ajout de la propriété medecinNom comme optionnelle\n  medecinPrenom?: string; \n  medecinuid:string;// Ajout de la propriété medecinPrenom comme optionnelle\n  key:string ;\n}\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n\n  viewDate: Date = new Date();\n  events: CalendarEvent[] = [];\n  activeDayIsOpen: boolean = false;\n  uid: string = inscritUid;\n  rdvs: RendezVousData[] = [];\n\n\n  constructor(private firestore: AngularFirestore) {\n    this.loadEvents();\n  }\n\n  async loadEvents() {\n    try {\n      const rdvs = await getRdvByPatientUid(this.firestore, this.uid);\n      if (rdvs && rdvs.length > 0) {\n        this.events = rdvs.map(rdv => ({\n          start: new Date(rdv.date), // Supposons que rdv.date contient la date du rendez-vous\n          title: `Rendez-vous de ${rdv.prenom} ${rdv.nom} à ${rdv.heure} chez ${rdv.medecinPrenom} ${rdv.medecinNom} <b> ${rdv.statut} ${rdv.excuse} </b> `\n        }));\n      }\n    } catch (error) {\n      console.error('Erreur lors du chargement des rendez-vous:', error);\n    }\n  }\n\n  dayClicked({ date, events }: { date: Date; events: CalendarEvent[] }): void {\n    if (isSameMonth(date, this.viewDate)) {\n      if (\n        (isSameDay(this.viewDate, date) && this.activeDayIsOpen === true) ||\n        events.length === 0\n      ) {\n        this.activeDayIsOpen = false;\n      } else {\n        this.activeDayIsOpen = true;\n        this.viewDate = date;\n      }\n    }\n  }\n  async deleteRendezVouscalendar(rendezVous: RendezVousData) {\n    try {\n        await deleteRendezVousR(this.firestore, inscritUid, rendezVous);\n        console.log('Rendez-vous supprimé avec succès.');\n        await this.loadEvents();\n        \n    } catch (error) {\n        console.error('Erreur lors de la suppression du rendez-vous:', error);\n    }\n}\n\n}\n","<ion-header [translucent]=\"true\">\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n  <link href=\"https://unpkg.com/@fortawesome/fontawesome-free@6.2.1/css/all.css\" rel=\"stylesheet\">\n  <link href=\"https://unpkg.com/angular-calendar@0.31.0/css/angular-calendar.css\" rel=\"stylesheet\">\n  <link href=\"https://unpkg.com/flatpickr@4.6.13/dist/flatpickr.css\" rel=\"stylesheet\">\n  <ion-toolbar>\n    <ion-item class=\"left\">\n      <p>Rendez-vous</p>\n    </ion-item>\n    <ion-item large class=\"right\" routerLink=\"/profil\">\n      <ion-icon name=\"person-circle-outline\"></ion-icon>\n    </ion-item>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\" class=\"content\">\n  <ion-grid>\n    <ion-row>\n      <ion-col>\n        <ion-card color=\"primary\" class=\"header-rd\">\n          <ion-card-header>\n            <br><br>\n            <ion-card-title class=\"center\">\n              <div class=\"center\">Trouver</div> \n              <div> \n                <span>Tous les spécialistes </span>\n              </div>\n            </ion-card-title>\n            <br><br>\n            <ion-card-subtitle class=\"center\"></ion-card-subtitle>\n          </ion-card-header>\n          <ion-content color=\"primary\">\n            <ion-button class=\"center1\"  color=\"light\" routerLink=\"/recherche-medecin\">\n              <ion-icon name=\"search-circle-outline\" style=\"color:rgb(110, 110, 248);\"></ion-icon>\n              <p style=\"color:rgb(110, 110, 248);\">Rechercher</p>\n            </ion-button> \n            <br><br>\n          </ion-content>\n        </ion-card>\n      </ion-col>\n    </ion-row>\n    <ion-row>\n      <ion-col class=\"calendar\">\n        <mwl-calendar-month-view\n          [viewDate]=\"viewDate\"\n          [events]=\"events\"\n          [activeDayIsOpen]=\"activeDayIsOpen\"\n          (dayClicked)=\"dayClicked($event.day)\"\n        ></mwl-calendar-month-view>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n  <div>\n    <ion-list>\n      <ion-item *ngFor=\"let rendezVousItems of rdvs\">\n        <ion-label>{{ rendezVousItems.date }} - {{ rendezVousItems.heure }} - {{ rendezVousItems.nom }} {{ rendezVousItems.prenom }}</ion-label>\n        <ion-button (click)=\"deleteRendezVouscalendar(rendezVousItems)\" color=\"danger\">Supprimer</ion-button>\n      </ion-item>\n    </ion-list>\n  </div>\n</ion-content>\n\n<ion-footer collapse=\"fade\">\n  <ion-toolbar>\n    <ion-tabs>\n      <ion-tab-bar slot=\"bottom\">\n        <ion-tab-button>\n          <ion-icon name=\"home-outline\" routerLink=\"/tab1\"></ion-icon>\n          Home\n        </ion-tab-button>\n        <ion-tab-button>\n          <ion-icon name=\"calendar-outline\" routerLink=\"/tabs/tab2\"></ion-icon>\n          Rendez-vous\n        </ion-tab-button>\n        <ion-tab-button>\n          <ion-icon name=\"pin-outline\" routerLink=\"/tabs/tab3\"></ion-icon>\n          A remplir\n        </ion-tab-button>\n      </ion-tab-bar>\n    </ion-tabs>\n  </ion-toolbar>\n</ion-footer>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}