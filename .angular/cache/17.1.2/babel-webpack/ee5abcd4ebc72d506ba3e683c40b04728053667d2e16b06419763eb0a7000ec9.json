{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/ionic-TP/shifai1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _PatientPage;\nimport { getPatientsByMedecinUid } from 'src/firebaseConfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ionic/angular\";\nfunction PatientPage_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function PatientPage_tr_30_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const patient_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.redirectToPatientPage(patient_r1.uid));\n    });\n    i0.ɵɵtext(16, \"Voir d\\u00E9tails\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const patient_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.nom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.prenom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.telephone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 6, patient_r1.dateNaissance, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(patient_r1.sexe);\n  }\n}\nexport class PatientPage {\n  constructor(router, firestore) {\n    this.router = router;\n    this.firestore = firestore;\n    this.patients = [];\n    this.patientUid = \"\";\n  }\n  ngOnInit() {\n    const medecinUid = 'b2xIfQRkJABI4OL9JehI';\n    // Call the function to get patients\n    this.getPatientsByMedecinUid(medecinUid);\n  }\n  redirectToPatientPage(uid) {\n    this.patientUid = uid;\n    this.router.navigate(['/details-page']);\n  }\n  getPatientsByMedecinUid(medecinUid) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const patients = yield getPatientsByMedecinUid(_this.firestore, medecinUid);\n        // Now you can use the 'patients' array as needed\n        console.log('Patients:', patients);\n      } catch (error) {\n        console.error('Error fetching patients:', error);\n        // Handle the error as needed\n      }\n    })();\n  }\n}\n_PatientPage = PatientPage;\n_PatientPage.ɵfac = function PatientPage_Factory(t) {\n  return new (t || _PatientPage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AngularFirestore));\n};\n_PatientPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _PatientPage,\n  selectors: [[\"app-patient\"]],\n  decls: 31,\n  vars: 3,\n  consts: [[3, \"translucent\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"color\", \"light\", \"slot\", \"start\", \"routerLink\", \"/app-medecin\", \"fill\", \"clear\"], [\"size\", \"large\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n  template: function PatientPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"patient\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-header\", 2)(6, \"ion-toolbar\")(7, \"ion-button\", 3);\n      i0.ɵɵtext(8, \" \\u2190 Retour \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"ion-title\", 4);\n      i0.ɵɵtext(10, \"Patient\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"ion-header\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"table\")(13, \"thead\")(14, \"tr\")(15, \"th\");\n      i0.ɵɵtext(16, \"Nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Pr\\u00E9nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\");\n      i0.ɵɵtext(22, \"T\\u00E9l\\u00E9phone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"th\");\n      i0.ɵɵtext(24, \"Date de naissance\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"th\");\n      i0.ɵɵtext(26, \"Sexe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"th\");\n      i0.ɵɵtext(28, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(29, \"tbody\");\n      i0.ɵɵtemplate(30, PatientPage_tr_30_Template, 17, 9, \"tr\", 5);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(26);\n      i0.ɵɵproperty(\"ngForOf\", ctx.patients);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.IonButton, i4.IonContent, i4.IonHeader, i4.IonTitle, i4.IonToolbar, i4.RouterLinkDelegate, i1.RouterLink, i3.DatePipe],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["getPatientsByMedecinUid","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PatientPage_tr_30_Template_button_click_15_listener","restoredCtx","ɵɵrestoreView","_r3","patient_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","redirectToPatientPage","uid","ɵɵadvance","ɵɵtextInterpolate","nom","prenom","email","telephone","ɵɵpipeBind2","dateNaissance","sexe","PatientPage","constructor","router","firestore","patients","patientUid","ngOnInit","medecinUid","navigate","_this","_asyncToGenerator","console","log","error","ɵɵdirectiveInject","i1","Router","i2","AngularFirestore","selectors","decls","vars","consts","template","PatientPage_Template","rf","ctx","ɵɵelement","ɵɵtemplate","PatientPage_tr_30_Template","ɵɵproperty"],"sources":["C:\\Users\\MacBook Air\\ionic-TP\\shifai1\\src\\app\\patient\\patient.page.ts","C:\\Users\\MacBook Air\\ionic-TP\\shifai1\\src\\app\\patient\\patient.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { Router } from '@angular/router';\nimport { getPatientsByMedecinUid } from 'src/firebaseConfig';\n\n@Component({\n  selector: 'app-patient',\n  templateUrl: './patient.page.html',\n  styleUrls: ['./patient.page.scss'],\n})\nexport class PatientPage implements OnInit {\n\n  patients: any[] = []; \n  patientUid :string = \"\";\n\n  constructor(private router: Router, private firestore: AngularFirestore) { }\n\n  ngOnInit() {\n\n    const medecinUid = 'b2xIfQRkJABI4OL9JehI';\n\n    // Call the function to get patients\n    this.getPatientsByMedecinUid(medecinUid);\n  }\n\n  redirectToPatientPage(uid: string) {\n\n    this.patientUid = uid;\n\n    this.router.navigate(['/details-page']);\n  }\n\n  async getPatientsByMedecinUid(medecinUid: string) {\n    try {\n      const patients = await getPatientsByMedecinUid(this.firestore, medecinUid);\n\n      // Now you can use the 'patients' array as needed\n      console.log('Patients:', patients);\n    } catch (error) {\n      console.error('Error fetching patients:', error);\n      // Handle the error as needed\n    }\n  }\n}\n\n\n\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-title>patient</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n  <ion-header collapse=\"condense\">\n    <ion-toolbar>\n      <ion-button color=\"light\" slot=\"start\" routerLink=\"/app-medecin\" fill=\"clear\">\n        ← Retour\n      </ion-button>\n      <ion-title size=\"large\">Patient</ion-title>\n      <ion-header collapse=\"condense\">\n        \n      </ion-header>\n    </ion-toolbar>\n  </ion-header>\n  <!-- patient-list.component.html -->\n\n<!-- patient-list.component.html -->\n\n<table>\n  <thead>\n    <tr>\n      <th>Nom</th>\n      <th>Prénom</th>\n      <th>Email</th>\n      <th>Téléphone</th>\n      <th>Date de naissance</th>\n      <th>Sexe</th>\n      <th>Action</th>\n    </tr>\n  </thead>\n  <tbody>\n    <!-- Utilisez *ngFor pour parcourir la liste des patients -->\n    <tr *ngFor=\"let patient of patients\">\n      <td>{{ patient.nom }}</td>\n      <td>{{ patient.prenom }}</td>\n      <td>{{ patient.email }}</td>\n      <td>{{ patient.telephone }}</td>\n      <td>{{ patient.dateNaissance | date: 'dd/MM/yyyy' }}</td>\n      <td>{{ patient.sexe }}</td>\n      <td>\n        <!-- Ajoutez un bouton avec un événement click -->\n        <button (click)=\"redirectToPatientPage(patient.uid)\">Voir détails</button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n</ion-content>\n"],"mappings":";;AAGA,SAASA,uBAAuB,QAAQ,oBAAoB;;;;;;;;;ICiCxDC,EAAA,CAAAC,cAAA,SAAqC;IAC/BD,EAAA,CAAAE,MAAA,GAAiB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC1BH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAAoB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC7BH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAAmB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC5BH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAAuB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAChCH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,IAAgD;;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACzDH,EAAA,CAAAC,cAAA,UAAI;IAAAD,EAAA,CAAAE,MAAA,IAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC3BH,EAAA,CAAAC,cAAA,UAAI;IAEMD,EAAA,CAAAI,UAAA,mBAAAC,oDAAA;MAAA,MAAAC,WAAA,GAAAN,EAAA,CAAAO,aAAA,CAAAC,GAAA;MAAA,MAAAC,UAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAX,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAF,MAAA,CAAAG,qBAAA,CAAAL,UAAA,CAAAM,GAAA,CAAkC;IAAA,EAAC;IAACf,EAAA,CAAAE,MAAA,yBAAY;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IARxEH,EAAA,CAAAgB,SAAA,GAAiB;IAAjBhB,EAAA,CAAAiB,iBAAA,CAAAR,UAAA,CAAAS,GAAA,CAAiB;IACjBlB,EAAA,CAAAgB,SAAA,GAAoB;IAApBhB,EAAA,CAAAiB,iBAAA,CAAAR,UAAA,CAAAU,MAAA,CAAoB;IACpBnB,EAAA,CAAAgB,SAAA,GAAmB;IAAnBhB,EAAA,CAAAiB,iBAAA,CAAAR,UAAA,CAAAW,KAAA,CAAmB;IACnBpB,EAAA,CAAAgB,SAAA,GAAuB;IAAvBhB,EAAA,CAAAiB,iBAAA,CAAAR,UAAA,CAAAY,SAAA,CAAuB;IACvBrB,EAAA,CAAAgB,SAAA,GAAgD;IAAhDhB,EAAA,CAAAiB,iBAAA,CAAAjB,EAAA,CAAAsB,WAAA,QAAAb,UAAA,CAAAc,aAAA,gBAAgD;IAChDvB,EAAA,CAAAgB,SAAA,GAAkB;IAAlBhB,EAAA,CAAAiB,iBAAA,CAAAR,UAAA,CAAAe,IAAA,CAAkB;;;ADhC5B,OAAM,MAAOC,WAAW;EAKtBC,YAAoBC,MAAc,EAAUC,SAA2B;IAAnD,KAAAD,MAAM,GAANA,MAAM;IAAkB,KAAAC,SAAS,GAATA,SAAS;IAHrD,KAAAC,QAAQ,GAAU,EAAE;IACpB,KAAAC,UAAU,GAAW,EAAE;EAEoD;EAE3EC,QAAQA,CAAA;IAEN,MAAMC,UAAU,GAAG,sBAAsB;IAEzC;IACA,IAAI,CAACjC,uBAAuB,CAACiC,UAAU,CAAC;EAC1C;EAEAlB,qBAAqBA,CAACC,GAAW;IAE/B,IAAI,CAACe,UAAU,GAAGf,GAAG;IAErB,IAAI,CAACY,MAAM,CAACM,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC;EACzC;EAEMlC,uBAAuBA,CAACiC,UAAkB;IAAA,IAAAE,KAAA;IAAA,OAAAC,iBAAA;MAC9C,IAAI;QACF,MAAMN,QAAQ,SAAS9B,uBAAuB,CAACmC,KAAI,CAACN,SAAS,EAAEI,UAAU,CAAC;QAE1E;QACAI,OAAO,CAACC,GAAG,CAAC,WAAW,EAAER,QAAQ,CAAC;MACpC,CAAC,CAAC,OAAOS,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChD;MACF;IAAC;EACH;;eAhCWb,WAAW;;mBAAXA,YAAW,EAAAzB,EAAA,CAAAuC,iBAAA,CAAAC,EAAA,CAAAC,MAAA,GAAAzC,EAAA,CAAAuC,iBAAA,CAAAG,EAAA,CAAAC,gBAAA;AAAA;;QAAXlB,YAAW;EAAAmB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,qBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCVxBlD,EAAA,CAAAC,cAAA,oBAAiC;MAElBD,EAAA,CAAAE,MAAA,cAAO;MAAAF,EAAA,CAAAG,YAAA,EAAY;MAIlCH,EAAA,CAAAC,cAAA,qBAAiC;MAIzBD,EAAA,CAAAE,MAAA,sBACF;MAAAF,EAAA,CAAAG,YAAA,EAAa;MACbH,EAAA,CAAAC,cAAA,mBAAwB;MAAAD,EAAA,CAAAE,MAAA,eAAO;MAAAF,EAAA,CAAAG,YAAA,EAAY;MAC3CH,EAAA,CAAAoD,SAAA,qBAEa;MACfpD,EAAA,CAAAG,YAAA,EAAc;MAMlBH,EAAA,CAAAC,cAAA,aAAO;MAGGD,EAAA,CAAAE,MAAA,WAAG;MAAAF,EAAA,CAAAG,YAAA,EAAK;MACZH,EAAA,CAAAC,cAAA,UAAI;MAAAD,EAAA,CAAAE,MAAA,mBAAM;MAAAF,EAAA,CAAAG,YAAA,EAAK;MACfH,EAAA,CAAAC,cAAA,UAAI;MAAAD,EAAA,CAAAE,MAAA,aAAK;MAAAF,EAAA,CAAAG,YAAA,EAAK;MACdH,EAAA,CAAAC,cAAA,UAAI;MAAAD,EAAA,CAAAE,MAAA,2BAAS;MAAAF,EAAA,CAAAG,YAAA,EAAK;MAClBH,EAAA,CAAAC,cAAA,UAAI;MAAAD,EAAA,CAAAE,MAAA,yBAAiB;MAAAF,EAAA,CAAAG,YAAA,EAAK;MAC1BH,EAAA,CAAAC,cAAA,UAAI;MAAAD,EAAA,CAAAE,MAAA,YAAI;MAAAF,EAAA,CAAAG,YAAA,EAAK;MACbH,EAAA,CAAAC,cAAA,UAAI;MAAAD,EAAA,CAAAE,MAAA,cAAM;MAAAF,EAAA,CAAAG,YAAA,EAAK;MAGnBH,EAAA,CAAAC,cAAA,aAAO;MAELD,EAAA,CAAAqD,UAAA,KAAAC,0BAAA,iBAWK;MACPtD,EAAA,CAAAG,YAAA,EAAQ;;;MAhDEH,EAAA,CAAAuD,UAAA,qBAAoB;MAMnBvD,EAAA,CAAAgB,SAAA,GAAmB;MAAnBhB,EAAA,CAAAuD,UAAA,oBAAmB;MA8BJvD,EAAA,CAAAgB,SAAA,IAAW;MAAXhB,EAAA,CAAAuD,UAAA,YAAAJ,GAAA,CAAAtB,QAAA,CAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}