{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _FichePatientModalComponent, _FichePatientModalModule;\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { AngularFirestore } from '@angular/fire/compat/firestore'; // Assurez-vous que le chemin d'importation est correct\nimport { savePatient } from 'src/firebaseConfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/forms\";\nexport class FichePatientModalComponent {\n  constructor(firestore, modalController) {\n    this.firestore = firestore;\n    this.modalController = modalController;\n    this.fichePatient = {\n      nom: '',\n      prenom: '',\n      age: null,\n      adresse: '',\n      telephone: ''\n      // Ajoutez d'autres champs selon vos besoins\n    };\n    // Initialisez rendezVousData ici si nécessaire\n    this.rendezVousData = {};\n  }\n  ngOnInit() {}\n  closeModal() {\n    this.modalController.dismiss(); // Fermer le modal\n  }\n  saveFichePatient() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        console.log('Données de la fiche patient à sauvegarder :', _this.fichePatient);\n        // Appel de la fonction savePatient pour sauvegarder le patient chez le médecin\n        yield savePatient(_this.firestore, _this.fichePatient, _this.rendezVousData.medecinuid);\n        _this.modalController.dismiss({\n          data: _this.fichePatient\n        });\n      } catch (error) {\n        console.error('Erreur lors de l\\'ajout du patient chez le médecin :', error);\n      }\n    })();\n  }\n}\n_FichePatientModalComponent = FichePatientModalComponent;\n_FichePatientModalComponent.ɵfac = function FichePatientModalComponent_Factory(t) {\n  return new (t || _FichePatientModalComponent)(i0.ɵɵdirectiveInject(i1.AngularFirestore), i0.ɵɵdirectiveInject(i2.ModalController));\n};\n_FichePatientModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _FichePatientModalComponent,\n  selectors: [[\"app-fiche-patient-modal\"]],\n  inputs: {\n    rendezVousData: \"rendezVousData\"\n  },\n  decls: 35,\n  vars: 7,\n  consts: [[\"slot\", \"end\"], [3, \"click\"], [\"disabled\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngModel\", \"ngModelChange\"], [\"type\", \"tel\", 3, \"ngModel\", \"ngModelChange\"], [\"expand\", \"block\", 3, \"click\"]],\n  template: function FichePatientModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Fiche Patient\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 0)(5, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function FichePatientModalComponent_Template_ion_button_click_5_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵtext(6, \"Fermer\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(7, \"ion-content\")(8, \"ion-card\")(9, \"ion-card-header\")(10, \"ion-card-title\");\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"ion-card-content\")(13, \"ion-item\")(14, \"ion-label\");\n      i0.ɵɵtext(15, \"Nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"ion-input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function FichePatientModalComponent_Template_ion_input_ngModelChange_16_listener($event) {\n        return ctx.rendezVousData.nom = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"ion-item\")(18, \"ion-label\");\n      i0.ɵɵtext(19, \"Pr\\u00E9nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"ion-input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function FichePatientModalComponent_Template_ion_input_ngModelChange_20_listener($event) {\n        return ctx.rendezVousData.prenom = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"ion-item\")(22, \"ion-label\");\n      i0.ɵɵtext(23, \"\\u00C2ge\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"ion-input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function FichePatientModalComponent_Template_ion_input_ngModelChange_24_listener($event) {\n        return ctx.fichePatient.age = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"ion-item\")(26, \"ion-label\");\n      i0.ɵɵtext(27, \"Adresse\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"ion-input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function FichePatientModalComponent_Template_ion_input_ngModelChange_28_listener($event) {\n        return ctx.fichePatient.adresse = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"ion-item\")(30, \"ion-label\");\n      i0.ɵɵtext(31, \"T\\u00E9l\\u00E9phone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"ion-input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function FichePatientModalComponent_Template_ion_input_ngModelChange_32_listener($event) {\n        return ctx.fichePatient.telephone = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"ion-button\", 6);\n      i0.ɵɵlistener(\"click\", function FichePatientModalComponent_Template_ion_button_click_33_listener() {\n        return ctx.saveFichePatient();\n      });\n      i0.ɵɵtext(34, \"Enregistrer\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵtextInterpolate2(\"\", ctx.rendezVousData.nom, \" \", ctx.rendezVousData.prenom, \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.rendezVousData.nom);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.rendezVousData.prenom);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.fichePatient.age);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.fichePatient.adresse);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.fichePatient.telephone);\n    }\n  },\n  dependencies: [i3.NgControlStatus, i3.NgModel, i2.IonButton, i2.IonButtons, i2.IonCard, i2.IonCardContent, i2.IonCardHeader, i2.IonCardTitle, i2.IonContent, i2.IonHeader, i2.IonInput, i2.IonItem, i2.IonLabel, i2.IonTitle, i2.IonToolbar, i2.NumericValueAccessor, i2.TextValueAccessor],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport class FichePatientModalModule {}\n_FichePatientModalModule = FichePatientModalModule;\n_FichePatientModalModule.ɵfac = function FichePatientModalModule_Factory(t) {\n  return new (t || _FichePatientModalModule)();\n};\n_FichePatientModalModule.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n  type: _FichePatientModalModule\n});\n_FichePatientModalModule.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n  providers: [AngularFirestore],\n  imports: [CommonModule, FormsModule, IonicModule]\n});\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(FichePatientModalModule, {\n    declarations: [FichePatientModalComponent],\n    imports: [CommonModule, FormsModule, IonicModule]\n  });\n})();","map":{"version":3,"names":["CommonModule","FormsModule","IonicModule","AngularFirestore","savePatient","FichePatientModalComponent","constructor","firestore","modalController","fichePatient","nom","prenom","age","adresse","telephone","rendezVousData","ngOnInit","closeModal","dismiss","saveFichePatient","_this","_asyncToGenerator","console","log","medecinuid","data","error","i0","ɵɵdirectiveInject","i1","i2","ModalController","selectors","inputs","decls","vars","consts","template","FichePatientModalComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","FichePatientModalComponent_Template_ion_button_click_5_listener","FichePatientModalComponent_Template_ion_input_ngModelChange_16_listener","$event","FichePatientModalComponent_Template_ion_input_ngModelChange_20_listener","FichePatientModalComponent_Template_ion_input_ngModelChange_24_listener","FichePatientModalComponent_Template_ion_input_ngModelChange_28_listener","FichePatientModalComponent_Template_ion_input_ngModelChange_32_listener","FichePatientModalComponent_Template_ion_button_click_33_listener","ɵɵadvance","ɵɵtextInterpolate2","ɵɵproperty","FichePatientModalModule","imports","declarations"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\patient\\fiche-patient-modal\\fiche-patient-modal.component.ts","C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\patient\\fiche-patient-modal\\fiche-patient-modal.component.html"],"sourcesContent":["import {  CommonModule } from '@angular/common';\nimport { Component, Input, NgModule, OnInit } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { AngularFirestore } from '@angular/fire/compat/firestore'; // Assurez-vous que le chemin d'importation est correct\nimport { savePatient } from 'src/firebaseConfig';\n\n\n\ninterface RendezVousData {\n  date: string;\n  heure: string;\n  nom: string;\n  prenom: string;\n  useruid: string;\n  medecinNom?: string; // Ajout de la propriété medecinNom comme optionnelle\n  medecinPrenom?: string; \n  medecinuid:string;// Ajout de la propriété medecinPrenom comme optionnelle\n  key:string ;\n  excuse?:string;\n  statut?:string;\n}\n@Component({\n  selector: 'app-fiche-patient-modal',\n  templateUrl: './fiche-patient-modal.component.html',\n  styleUrls: ['./fiche-patient-modal.component.scss'],\n})\nexport class FichePatientModalComponent implements OnInit {\n  @Input() rendezVousData!: RendezVousData; // Propriété d'entrée pour recevoir les données du rendez-vous\n\n  fichePatient = {\n    nom: '',\n    prenom: '',\n    age: null,\n    adresse: '',\n    telephone: ''\n    // Ajoutez d'autres champs selon vos besoins\n  };\n\n  constructor(private firestore: AngularFirestore,private modalController: ModalController) {\n    // Initialisez rendezVousData ici si nécessaire\n    this.rendezVousData = {} as RendezVousData;\n  }\n\n  ngOnInit() {}\n\n  closeModal() {\n    this.modalController.dismiss(); // Fermer le modal\n  }\n\n  async saveFichePatient() {\n    try {\n      console.log('Données de la fiche patient à sauvegarder :', this.fichePatient);\n\n      // Appel de la fonction savePatient pour sauvegarder le patient chez le médecin\n      await savePatient(this.firestore, this.fichePatient, this.rendezVousData.medecinuid);\n\n      this.modalController.dismiss({ data: this.fichePatient });\n    } catch (error) {\n      console.error('Erreur lors de l\\'ajout du patient chez le médecin :', error);\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [FichePatientModalComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  providers: [AngularFirestore],\n})\nexport class FichePatientModalModule {}\n\n","<ion-header>\n  <ion-toolbar>\n    <ion-title>Fiche Patient</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"closeModal()\">Fermer</ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-card>\n    <ion-card-header>\n      <ion-card-title>{{ rendezVousData.nom }} {{ rendezVousData.prenom }}</ion-card-title>\n    </ion-card-header>\n\n    <ion-card-content>\n      <!-- Champs du rendez-vous -->\n      <ion-item>\n        <ion-label>Nom</ion-label>\n        <ion-input [(ngModel)]=\"rendezVousData.nom\" disabled></ion-input>\n      </ion-item>\n\n      <ion-item>\n        <ion-label>Prénom</ion-label>\n        <ion-input [(ngModel)]=\"rendezVousData.prenom\" disabled></ion-input>\n      </ion-item>\n\n      <!-- Champs classiques d'une fiche patient -->\n      <ion-item>\n        <ion-label>Âge</ion-label>\n        <ion-input type=\"number\" [(ngModel)]=\"fichePatient.age\"></ion-input>\n      </ion-item>\n\n      <ion-item>\n        <ion-label>Adresse</ion-label>\n        <ion-input [(ngModel)]=\"fichePatient.adresse\"></ion-input>\n      </ion-item>\n\n      <ion-item>\n        <ion-label>Téléphone</ion-label>\n        <ion-input type=\"tel\" [(ngModel)]=\"fichePatient.telephone\"></ion-input>\n      </ion-item>\n\n      <!-- Ajoutez d'autres champs selon vos besoins -->\n\n      <ion-button expand=\"block\" (click)=\"saveFichePatient()\">Enregistrer</ion-button>\n    </ion-card-content>\n  </ion-card>\n</ion-content>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}