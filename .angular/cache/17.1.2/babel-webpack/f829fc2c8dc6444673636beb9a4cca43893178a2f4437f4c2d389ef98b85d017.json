{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _PersonneModalComponent;\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./personne-modal.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./personne-modal.component.scss?ngResource\";\nimport { CommonModule } from '@angular/common';\nimport { Component, NgModule } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { getPersonByUid } from 'src/firebaseConfig';\nimport { WorkHoursModalComponent } from '../work-hours-modal/work-hours-modal.component';\nimport { AjoutPersonneModalComponent } from '../ajout-personne-modal/ajout-personne-modal.component';\nlet PersonneModalComponent = (_PersonneModalComponent = class PersonneModalComponent {\n  constructor(firestore, modalController) {\n    this.firestore = firestore;\n    this.modalController = modalController;\n    this.people = [];\n    this.person = [];\n    this.selectedPersonne = null;\n  }\n  ngOnInit() {\n    this.fetchPersonne();\n  }\n  fetchPersonne() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const uid = \"D1UoD4reN0QvhgGDFnarodjbE782\";\n        const personnes = yield getPersonByUid(_this.firestore, uid);\n        if (personnes !== null) {\n          _this.people = _this.people.map(person => ({\n            ...person,\n            selected: false\n          }));\n          personnes.forEach(personne => {\n            _this.people.push(personne);\n          });\n          console.log('Personne trouvée :', _this.people);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la récupération de la personne par UID :', error);\n      }\n    })();\n  }\n  toggleSelection(person) {\n    this.selectedPersonne = person;\n    selectedNom = person.nom;\n    selectedPrenom = person.prenom;\n    selecteduid = person.uid;\n    console.log('Nom de la personne sélectionnée :', selectedNom);\n    console.log('Prénom de la personne sélectionnée :', selectedPrenom);\n  }\n  close() {\n    this.modalController.dismiss();\n  }\n  openWorkHoursModal() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this2.modalController.create({\n        component: WorkHoursModalComponent,\n        cssClass: 'work-hours-modal'\n      });\n      _this2.close;\n      return yield modal.present();\n    })();\n  }\n  ajoutPersonneModal() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this3.modalController.create({\n        component: AjoutPersonneModalComponent,\n        cssClass: 'work-hours-modal'\n      });\n      return yield modal.present();\n    })();\n  }\n}, _PersonneModalComponent.ctorParameters = () => [{\n  type: AngularFirestore\n}, {\n  type: ModalController\n}], _PersonneModalComponent);\nPersonneModalComponent = __decorate([Component({\n  selector: 'app-personne-modal',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], PersonneModalComponent);\nexport { PersonneModalComponent };\nlet PersonneModalModule = class PersonneModalModule {};\nPersonneModalModule = __decorate([NgModule({\n  declarations: [PersonneModalComponent],\n  imports: [CommonModule, FormsModule, IonicModule],\n  providers: [AngularFirestore]\n})], PersonneModalModule);\nexport { PersonneModalModule };\nexport let selectedNom;\nexport let selectedPrenom;\nexport let selecteduid;","map":{"version":3,"names":["CommonModule","Component","NgModule","AngularFirestore","FormsModule","IonicModule","ModalController","getPersonByUid","WorkHoursModalComponent","AjoutPersonneModalComponent","PersonneModalComponent","_PersonneModalComponent","constructor","firestore","modalController","people","person","selectedPersonne","ngOnInit","fetchPersonne","_this","_asyncToGenerator","uid","personnes","map","selected","forEach","personne","push","console","log","error","toggleSelection","selectedNom","nom","selectedPrenom","prenom","selecteduid","close","dismiss","openWorkHoursModal","_this2","modal","create","component","cssClass","present","ajoutPersonneModal","_this3","__decorate","selector","template","__NG_CLI_RESOURCE__0","PersonneModalModule","declarations","imports","providers"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\affiche-medecin\\personne-modal\\personne-modal.component.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component, NgModule, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { inscritUid } from 'src/app/login/login.page';\nimport { getPersonByUid } from 'src/firebaseConfig';\nimport { WorkHoursModalComponent } from '../work-hours-modal/work-hours-modal.component';\nimport { AjoutPersonneModalComponent } from '../ajout-personne-modal/ajout-personne-modal.component';\n\ninterface PersonneData {\n  uid: string;\n  nom: string;\n  prenom: string;\n}\n\n@Component({\n  selector: 'app-personne-modal',\n  templateUrl: './personne-modal.component.html',\n  styleUrls: ['./personne-modal.component.scss'],\n})\nexport class PersonneModalComponent  implements OnInit {\n\n\n  constructor(private firestore: AngularFirestore, private modalController: ModalController) { }\n\n  ngOnInit() {\n    this.fetchPersonne();\n  }\n\n\n  people: any[] = [];\n  \n\n\n  async fetchPersonne() {\n    try {\n      const uid = \"D1UoD4reN0QvhgGDFnarodjbE782\";\n      const personnes = await getPersonByUid(this.firestore, uid);\n      if (personnes !== null) {\n        this.people = this.people.map(person => ({ ...person, selected: false }));\n      personnes.forEach(personne => {\n        this.people.push(personne);\n      });\n      console.log('Personne trouvée :', this.people);\n    }\n    } catch (error) {\n      console.error('Erreur lors de la récupération de la personne par UID :', error);\n    }\n  }\nperson : PersonneData[] = [];\n\nselectedPersonne: PersonneData | null = null;\n\n\ntoggleSelection(person: PersonneData) {\n  this.selectedPersonne = person;\n  selectedNom = person.nom;\n  selectedPrenom = person.prenom;\n  selecteduid=person.uid;\n  console.log('Nom de la personne sélectionnée :', selectedNom);\n  console.log('Prénom de la personne sélectionnée :', selectedPrenom);\n}\n\n  close() {\n    this.modalController.dismiss();\n  }\n\n  async openWorkHoursModal() {\n    const modal = await this.modalController.create({\n      component: WorkHoursModalComponent,\n      cssClass: 'work-hours-modal',\n    });\n    this.close\n    return await modal.present();\n  }\n\n  async ajoutPersonneModal(){\n    const modal = await this.modalController.create({\n      component: AjoutPersonneModalComponent,\n      cssClass: 'work-hours-modal',\n    });\n    return await modal.present();\n  }\n\n}\n\n@NgModule({\n  declarations: [PersonneModalComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  providers: [AngularFirestore],\n})\nexport class PersonneModalModule {}\n\nexport let selectedNom: string ;\nexport let selectedPrenom: string ;\nexport let selecteduid : string ;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}