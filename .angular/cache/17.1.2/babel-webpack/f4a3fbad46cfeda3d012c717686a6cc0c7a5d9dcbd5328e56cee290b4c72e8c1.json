{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _Tab2Page;\nimport { isSameDay, isSameMonth } from 'date-fns';\nimport { deleteRendezVous, getRdvByPatientUid } from 'src/firebaseConfig';\nimport { inscritUid } from '../login/login.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"angular-calendar\";\nfunction Tab2Page_ion_item_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-button\", 23);\n    i0.ɵɵlistener(\"click\", function Tab2Page_ion_item_40_Template_ion_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const rendezVousItem_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteRendezVouscalendar(rendezVousItem_r1));\n    });\n    i0.ɵɵtext(4, \"Supprimer\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const rendezVousItem_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate4(\"\", rendezVousItem_r1.date, \" - \", rendezVousItem_r1.heure, \" - \", rendezVousItem_r1.nom, \" \", rendezVousItem_r1.prenom, \" \");\n  }\n}\nexport class Tab2Page {\n  constructor(firestore) {\n    this.firestore = firestore;\n    this.viewDate = new Date();\n    this.events = [];\n    this.activeDayIsOpen = false;\n    this.uid = inscritUid;\n    this.rdvs = [];\n    this.loadEvents();\n  }\n  loadEvents() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const rdvs = yield getRdvByPatientUid(_this.firestore, _this.uid);\n        if (rdvs && rdvs.length > 0) {\n          _this.events = rdvs.map(rdv => ({\n            start: new Date(rdv.date),\n            // Supposons que rdv.date contient la date du rendez-vous\n            title: `Rendez-vous de ${rdv.prenom} ${rdv.nom} à ${rdv.heure} chez ${rdv.medecinPrenom} ${rdv.medecinNom}  ` // Personne et heure du rendez-vous\n          }));\n        }\n      } catch (error) {\n        console.error('Erreur lors du chargement des rendez-vous:', error);\n      }\n    })();\n  }\n  dayClicked({\n    date,\n    events\n  }) {\n    if (isSameMonth(date, this.viewDate)) {\n      if (isSameDay(this.viewDate, date) && this.activeDayIsOpen === true || events.length === 0) {\n        this.activeDayIsOpen = false;\n      } else {\n        this.activeDayIsOpen = true;\n        this.viewDate = date;\n      }\n    }\n  }\n  deleteRendezVouscalendar(rendezVous) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        yield deleteRendezVous(_this2.firestore, inscritUid, rendezVous);\n        console.log('Rendez-vous supprimé avec succès.');\n        yield _this2.loadEvents();\n      } catch (error) {\n        console.error('Erreur lors de la suppression du rendez-vous:', error);\n      }\n    })();\n  }\n}\n_Tab2Page = Tab2Page;\n_Tab2Page.ɵfac = function Tab2Page_Factory(t) {\n  return new (t || _Tab2Page)(i0.ɵɵdirectiveInject(i1.AngularFirestore));\n};\n_Tab2Page.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _Tab2Page,\n  selectors: [[\"app-tab2\"]],\n  decls: 54,\n  vars: 6,\n  consts: [[3, \"translucent\"], [\"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\"], [\"href\", \"https://unpkg.com/@fortawesome/fontawesome-free@6.2.1/css/all.css\", \"rel\", \"stylesheet\"], [\"href\", \"https://unpkg.com/angular-calendar@0.31.0/css/angular-calendar.css\", \"rel\", \"stylesheet\"], [\"href\", \"https://unpkg.com/flatpickr@4.6.13/dist/flatpickr.css\", \"rel\", \"stylesheet\"], [1, \"left\"], [\"large\", \"\", \"routerLink\", \"/profil\", 1, \"right\"], [\"name\", \"person-circle-outline\"], [1, \"content\", 3, \"fullscreen\"], [\"color\", \"primary\", 1, \"header-rd\"], [1, \"center\"], [\"color\", \"primary\"], [\"color\", \"light\", \"routerLink\", \"/recherche-medecin\", 1, \"center1\"], [\"name\", \"search-circle-outline\", 2, \"color\", \"rgb(110, 110, 248)\"], [2, \"color\", \"rgb(110, 110, 248)\"], [1, \"calendar\"], [3, \"viewDate\", \"events\", \"activeDayIsOpen\", \"dayClicked\"], [4, \"ngFor\", \"ngForOf\"], [\"collapse\", \"fade\"], [\"slot\", \"bottom\"], [\"name\", \"home-outline\", \"routerLink\", \"/tab1\"], [\"name\", \"calendar-outline\", \"routerLink\", \"/tabs/tab2\"], [\"name\", \"pin-outline\", \"routerLink\", \"/tabs/tab3\"], [\"color\", \"danger\", 3, \"click\"]],\n  template: function Tab2Page_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0);\n      i0.ɵɵelement(1, \"link\", 1)(2, \"link\", 2)(3, \"link\", 3)(4, \"link\", 4);\n      i0.ɵɵelementStart(5, \"ion-toolbar\")(6, \"ion-item\", 5)(7, \"p\");\n      i0.ɵɵtext(8, \"Rendez-vous\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"ion-item\", 6);\n      i0.ɵɵelement(10, \"ion-icon\", 7);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"ion-content\", 8)(12, \"ion-grid\")(13, \"ion-row\")(14, \"ion-col\")(15, \"ion-card\", 9)(16, \"ion-card-header\");\n      i0.ɵɵelement(17, \"br\")(18, \"br\");\n      i0.ɵɵelementStart(19, \"ion-card-title\", 10)(20, \"div\", 10);\n      i0.ɵɵtext(21, \"Trouver\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\")(23, \"span\");\n      i0.ɵɵtext(24, \"Tous les sp\\u00E9cialistes \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(25, \"br\")(26, \"br\")(27, \"ion-card-subtitle\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"ion-content\", 11)(29, \"ion-button\", 12);\n      i0.ɵɵelement(30, \"ion-icon\", 13);\n      i0.ɵɵelementStart(31, \"p\", 14);\n      i0.ɵɵtext(32, \"Rechercher\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(33, \"br\")(34, \"br\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(35, \"ion-row\")(36, \"ion-col\", 15)(37, \"mwl-calendar-month-view\", 16);\n      i0.ɵɵlistener(\"dayClicked\", function Tab2Page_Template_mwl_calendar_month_view_dayClicked_37_listener($event) {\n        return ctx.dayClicked($event.day);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(38, \"div\")(39, \"ion-list\");\n      i0.ɵɵtemplate(40, Tab2Page_ion_item_40_Template, 5, 4, \"ion-item\", 17);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(41, \"ion-footer\", 18)(42, \"ion-toolbar\")(43, \"ion-tabs\")(44, \"ion-tab-bar\", 19)(45, \"ion-tab-button\");\n      i0.ɵɵelement(46, \"ion-icon\", 20);\n      i0.ɵɵtext(47, \" Home \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"ion-tab-button\");\n      i0.ɵɵelement(49, \"ion-icon\", 21);\n      i0.ɵɵtext(50, \" Rendez-vous \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"ion-tab-button\");\n      i0.ɵɵelement(52, \"ion-icon\", 22);\n      i0.ɵɵtext(53, \" A remplir \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(26);\n      i0.ɵɵproperty(\"viewDate\", ctx.viewDate)(\"events\", ctx.events)(\"activeDayIsOpen\", ctx.activeDayIsOpen);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.rdvs);\n    }\n  },\n  dependencies: [i2.IonButton, i2.IonCard, i2.IonCardHeader, i2.IonCardSubtitle, i2.IonCardTitle, i2.IonCol, i2.IonContent, i2.IonFooter, i2.IonGrid, i2.IonHeader, i2.IonIcon, i2.IonItem, i2.IonLabel, i2.IonList, i2.IonRow, i2.IonTabBar, i2.IonTabButton, i2.IonToolbar, i2.IonTabs, i2.RouterLinkDelegate, i3.NgForOf, i4.RouterLink, i5.CalendarMonthViewComponent],\n  styles: [\".right[_ngcontent-%COMP%] {\\n  float: right;\\n}\\n\\n.left[_ngcontent-%COMP%] {\\n  float: left;\\n}\\n\\n.header-rd[_ngcontent-%COMP%] {\\n  height: 250px;\\n}\\n\\n.center[_ngcontent-%COMP%] {\\n  margin-left: auto;\\n  margin-right: auto;\\n  display: block;\\n}\\n\\n.center1[_ngcontent-%COMP%] {\\n  padding-top: 15px;\\n  padding-bottom: 5px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  display: block;\\n  width: 200px;\\n  height: 5px;\\n}\\n\\nbody[_ngcontent-%COMP%] {\\n  text-align: center;\\n  background: linear-gradient(141deg, #ccc 25%, #eee 40%, #ddd 55%);\\n  color: #555;\\n  font-family: \\\"Roboto\\\";\\n  font-weight: 300;\\n  font-size: 32px;\\n  padding-top: 40vh;\\n  height: 100vh;\\n  overflow: hidden;\\n}\\n\\ndiv[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n\\ndiv[_ngcontent-%COMP%]:first-of-type { \\n\\n\\n\\n\\n  animation: _ngcontent-%COMP%_showup 7s infinite;\\n}\\n\\ndiv[_ngcontent-%COMP%]:last-of-type {\\n  width: 0px;\\n  animation: _ngcontent-%COMP%_reveal 7s infinite;\\n}\\n\\ndiv[_ngcontent-%COMP%]:last-of-type   span[_ngcontent-%COMP%] {\\n  margin-left: -355px;\\n  animation: _ngcontent-%COMP%_slidein 7s infinite;\\n}\\n\\n@keyframes _ngcontent-%COMP%_showup {\\n  0% {\\n    opacity: 0;\\n  }\\n  20% {\\n    opacity: 1;\\n  }\\n  80% {\\n    opacity: 1;\\n  }\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n@keyframes _ngcontent-%COMP%_slidein {\\n  0% {\\n    margin-left: -800px;\\n  }\\n  20% {\\n    margin-left: -800px;\\n  }\\n  35% {\\n    margin-left: 0px;\\n  }\\n  100% {\\n    margin-left: 0px;\\n  }\\n}\\n@keyframes _ngcontent-%COMP%_reveal {\\n  0% {\\n    opacity: 0;\\n    width: 0px;\\n  }\\n  20% {\\n    opacity: 1;\\n    width: 0px;\\n  }\\n  30% {\\n    width: 355px;\\n  }\\n  80% {\\n    opacity: 1;\\n  }\\n  100% {\\n    opacity: 0;\\n    width: 355px;\\n  }\\n}\\n.calendar[_ngcontent-%COMP%] {\\n  width: 100%;\\n  position: sticky;\\n}\\n\\n.footer[_ngcontent-%COMP%] {\\n  margin-bottom: 0%;\\n}\\n\\n.content[_ngcontent-%COMP%] {\\n  height: -moz-fit-content;\\n  height: fit-content;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uLy4uL01hY0Jvb2slMjBBaXIvRGVza3RvcC9zaGlmYWkxVlYvc3JjL2FwcC90YWIyL3RhYjIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQ0NKOztBRENFO0VBQ0UsV0FBQTtBQ0VKOztBREFFO0VBQ0UsYUFBQTtBQ0dKOztBRERFO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QUNJSjs7QURGRTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FDS0o7O0FESEE7RUFDRSxrQkFBQTtFQUNBLGlFQUFBO0VBQ0EsV0FBQTtFQUNBLHFCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7QUNNRjs7QURGQTtFQUNFLHFCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQ0tGOztBREZBLG9CQUFBOzs7cUJBQUE7RUFJRSw2QkFBQTtBQ0tGOztBREZBO0VBQ0UsVUFBQTtFQUNBLDZCQUFBO0FDS0Y7O0FERkE7RUFDRSxtQkFBQTtFQUNBLDhCQUFBO0FDS0Y7O0FERkE7RUFDSTtJQUFJLFVBQUE7RUNNTjtFRExFO0lBQUssVUFBQTtFQ1FQO0VEUEU7SUFBSyxVQUFBO0VDVVA7RURURTtJQUFNLFVBQUE7RUNZUjtBQUNGO0FEVkE7RUFDSTtJQUFLLG1CQUFBO0VDYVA7RURaRTtJQUFNLG1CQUFBO0VDZVI7RURkRTtJQUFNLGdCQUFBO0VDaUJSO0VEaEJFO0lBQU8sZ0JBQUE7RUNtQlQ7QUFDRjtBRGpCQTtFQUNJO0lBQUksVUFBQTtJQUFVLFVBQUE7RUNxQmhCO0VEcEJFO0lBQUssVUFBQTtJQUFVLFVBQUE7RUN3QmpCO0VEdkJFO0lBQUssWUFBQTtFQzBCUDtFRHpCRTtJQUFLLFVBQUE7RUM0QlA7RUQzQkU7SUFBTSxVQUFBO0lBQVUsWUFBQTtFQytCbEI7QUFDRjtBRDdCQTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQytCRjs7QUQ1QkE7RUFDRSxpQkFBQTtBQytCRjs7QUQ3QkE7RUFDRSx3QkFBQTtFQUFBLG1CQUFBO0FDZ0NGIiwic291cmNlc0NvbnRlbnQiOlsiLnJpZ2h0IHtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICB9XHJcbiAgLmxlZnQge1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgfVxyXG4gIC5oZWFkZXItcmR7XHJcbiAgICBoZWlnaHQgOiAyNTBweDtcclxuICB9XHJcbiAgLmNlbnRlcntcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgfVxyXG4gIC5jZW50ZXIxe1xyXG4gICAgcGFkZGluZy10b3A6IDE1cHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIGhlaWdodDogNXB4O1xyXG4gIH1cclxuYm9keSB7XHJcbiAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbiAgYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTQxZGVnLCAjY2NjIDI1JSwgI2VlZSA0MCUsICNkZGQgNTUlKTtcclxuICBjb2xvcjojNTU1O1xyXG4gIGZvbnQtZmFtaWx5OidSb2JvdG8nO1xyXG4gIGZvbnQtd2VpZ2h0OjMwMDtcclxuICBmb250LXNpemU6MzJweDtcclxuICBwYWRkaW5nLXRvcDo0MHZoO1xyXG4gIGhlaWdodDoxMDB2aDtcclxuICBvdmVyZmxvdzpoaWRkZW47XHJcbiBcclxufVxyXG5cclxuZGl2IHtcclxuICBkaXNwbGF5OmlubGluZS1ibG9jaztcclxuICBvdmVyZmxvdzpoaWRkZW47XHJcbiAgd2hpdGUtc3BhY2U6bm93cmFwO1xyXG59XHJcblxyXG5kaXY6Zmlyc3Qtb2YtdHlwZSB7ICAgIC8qIEZvciBpbmNyZWFzaW5nIHBlcmZvcm1hbmNlIFxyXG4gICAgICAgICAgICAgICAgICAgICAgIElEL0NsYXNzIHNob3VsZCd2ZSBiZWVuIHVzZWQuIFxyXG4gICAgICAgICAgICAgICAgICAgICAgIEZvciBhIHNtYWxsIGRlbW8gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgaXQncyBva2Fpc2ggZm9yIG5vdyAqL1xyXG4gIGFuaW1hdGlvbjogc2hvd3VwIDdzIGluZmluaXRlO1xyXG59XHJcblxyXG5kaXY6bGFzdC1vZi10eXBlIHtcclxuICB3aWR0aDowcHg7XHJcbiAgYW5pbWF0aW9uOiByZXZlYWwgN3MgaW5maW5pdGU7XHJcbn1cclxuXHJcbmRpdjpsYXN0LW9mLXR5cGUgc3BhbiB7XHJcbiAgbWFyZ2luLWxlZnQ6LTM1NXB4O1xyXG4gIGFuaW1hdGlvbjogc2xpZGVpbiA3cyBpbmZpbml0ZTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBzaG93dXAge1xyXG4gICAgMCUge29wYWNpdHk6MDt9XHJcbiAgICAyMCUge29wYWNpdHk6MTt9XHJcbiAgICA4MCUge29wYWNpdHk6MTt9XHJcbiAgICAxMDAlIHtvcGFjaXR5OjA7fVxyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHNsaWRlaW4ge1xyXG4gICAgMCUgeyBtYXJnaW4tbGVmdDotODAwcHg7IH1cclxuICAgIDIwJSB7IG1hcmdpbi1sZWZ0Oi04MDBweDsgfVxyXG4gICAgMzUlIHsgbWFyZ2luLWxlZnQ6MHB4OyB9XHJcbiAgICAxMDAlIHsgbWFyZ2luLWxlZnQ6MHB4OyB9XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgcmV2ZWFsIHtcclxuICAgIDAlIHtvcGFjaXR5OjA7d2lkdGg6MHB4O31cclxuICAgIDIwJSB7b3BhY2l0eToxO3dpZHRoOjBweDt9XHJcbiAgICAzMCUge3dpZHRoOjM1NXB4O31cclxuICAgIDgwJSB7b3BhY2l0eToxO31cclxuICAgIDEwMCUge29wYWNpdHk6MDt3aWR0aDozNTVweDt9XHJcbn1cclxuXHJcbi5jYWxlbmRhcntcclxuICB3aWR0aDogMTAwJTtcclxuICBwb3NpdGlvbjogc3RpY2t5O1xyXG4gIFxyXG59XHJcbi5mb290ZXJ7XHJcbiAgbWFyZ2luLWJvdHRvbTogMCU7XHJcbn1cclxuLmNvbnRlbnR7XHJcbiAgaGVpZ2h0OiBmaXQtY29udGVudDtcclxufVxyXG5cclxuICIsIi5yaWdodCB7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLmxlZnQge1xuICBmbG9hdDogbGVmdDtcbn1cblxuLmhlYWRlci1yZCB7XG4gIGhlaWdodDogMjUwcHg7XG59XG5cbi5jZW50ZXIge1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLmNlbnRlcjEge1xuICBwYWRkaW5nLXRvcDogMTVweDtcbiAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAyMDBweDtcbiAgaGVpZ2h0OiA1cHg7XG59XG5cbmJvZHkge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDFkZWcsICNjY2MgMjUlLCAjZWVlIDQwJSwgI2RkZCA1NSUpO1xuICBjb2xvcjogIzU1NTtcbiAgZm9udC1mYW1pbHk6IFwiUm9ib3RvXCI7XG4gIGZvbnQtd2VpZ2h0OiAzMDA7XG4gIGZvbnQtc2l6ZTogMzJweDtcbiAgcGFkZGluZy10b3A6IDQwdmg7XG4gIGhlaWdodDogMTAwdmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbmRpdiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuZGl2OmZpcnN0LW9mLXR5cGUgeyAvKiBGb3IgaW5jcmVhc2luZyBwZXJmb3JtYW5jZSBcbklEL0NsYXNzIHNob3VsZCd2ZSBiZWVuIHVzZWQuIFxuRm9yIGEgc21hbGwgZGVtbyBcbml0J3Mgb2thaXNoIGZvciBub3cgKi9cbiAgYW5pbWF0aW9uOiBzaG93dXAgN3MgaW5maW5pdGU7XG59XG5cbmRpdjpsYXN0LW9mLXR5cGUge1xuICB3aWR0aDogMHB4O1xuICBhbmltYXRpb246IHJldmVhbCA3cyBpbmZpbml0ZTtcbn1cblxuZGl2Omxhc3Qtb2YtdHlwZSBzcGFuIHtcbiAgbWFyZ2luLWxlZnQ6IC0zNTVweDtcbiAgYW5pbWF0aW9uOiBzbGlkZWluIDdzIGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIHNob3d1cCB7XG4gIDAlIHtcbiAgICBvcGFjaXR5OiAwO1xuICB9XG4gIDIwJSB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxuICA4MCUge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbiAgMTAwJSB7XG4gICAgb3BhY2l0eTogMDtcbiAgfVxufVxuQGtleWZyYW1lcyBzbGlkZWluIHtcbiAgMCUge1xuICAgIG1hcmdpbi1sZWZ0OiAtODAwcHg7XG4gIH1cbiAgMjAlIHtcbiAgICBtYXJnaW4tbGVmdDogLTgwMHB4O1xuICB9XG4gIDM1JSB7XG4gICAgbWFyZ2luLWxlZnQ6IDBweDtcbiAgfVxuICAxMDAlIHtcbiAgICBtYXJnaW4tbGVmdDogMHB4O1xuICB9XG59XG5Aa2V5ZnJhbWVzIHJldmVhbCB7XG4gIDAlIHtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHdpZHRoOiAwcHg7XG4gIH1cbiAgMjAlIHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHdpZHRoOiAwcHg7XG4gIH1cbiAgMzAlIHtcbiAgICB3aWR0aDogMzU1cHg7XG4gIH1cbiAgODAlIHtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG4gIDEwMCUge1xuICAgIG9wYWNpdHk6IDA7XG4gICAgd2lkdGg6IDM1NXB4O1xuICB9XG59XG4uY2FsZW5kYXIge1xuICB3aWR0aDogMTAwJTtcbiAgcG9zaXRpb246IHN0aWNreTtcbn1cblxuLmZvb3RlciB7XG4gIG1hcmdpbi1ib3R0b206IDAlO1xufVxuXG4uY29udGVudCB7XG4gIGhlaWdodDogZml0LWNvbnRlbnQ7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["isSameDay","isSameMonth","deleteRendezVous","getRdvByPatientUid","inscritUid","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","Tab2Page_ion_item_40_Template_ion_button_click_3_listener","restoredCtx","ɵɵrestoreView","_r3","rendezVousItem_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","deleteRendezVouscalendar","ɵɵadvance","ɵɵtextInterpolate4","date","heure","nom","prenom","Tab2Page","constructor","firestore","viewDate","Date","events","activeDayIsOpen","uid","rdvs","loadEvents","_this","_asyncToGenerator","length","map","rdv","start","title","medecinPrenom","medecinNom","error","console","dayClicked","rendezVous","_this2","log","ɵɵdirectiveInject","i1","AngularFirestore","selectors","decls","vars","consts","template","Tab2Page_Template","rf","ctx","ɵɵelement","Tab2Page_Template_mwl_calendar_month_view_dayClicked_37_listener","$event","day","ɵɵtemplate","Tab2Page_ion_item_40_Template","ɵɵproperty"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\tab2\\tab2.page.ts","C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\tab2\\tab2.page.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { CalendarEvent } from 'angular-calendar';\nimport { isSameDay, isSameMonth } from 'date-fns';\nimport { deleteRendezVous, getRdvByPatientUid } from 'src/firebaseConfig';\nimport { inscritUid } from '../login/login.page';\n\ninterface RendezVousData {\n  date: string;\n  heure: string;\n  nom: string;\n  prenom: string;\n  useruid: string;\n  medecinNom?: string; // Ajout de la propriété medecinNom comme optionnelle\n  medecinPrenom?: string; \n  medecinuid:string;// Ajout de la propriété medecinPrenom comme optionnelle\n  key:string ;\n}\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n\n  viewDate: Date = new Date();\n  events: CalendarEvent[] = [];\n  activeDayIsOpen: boolean = false;\n  uid: string = inscritUid;\n  rdvs: RendezVousData[] = [];\n\n\n  constructor(private firestore: AngularFirestore) {\n    this.loadEvents();\n  }\n\n  async loadEvents() {\n    try {\n      const rdvs = await getRdvByPatientUid(this.firestore, this.uid);\n      if (rdvs && rdvs.length > 0) {\n        this.events = rdvs.map(rdv => ({\n          start: new Date(rdv.date), // Supposons que rdv.date contient la date du rendez-vous\n          title: `Rendez-vous de ${rdv.prenom} ${rdv.nom} à ${rdv.heure} chez ${rdv.medecinPrenom} ${rdv.medecinNom}  `, // Personne et heure du rendez-vous\n        }));\n      }\n    } catch (error) {\n      console.error('Erreur lors du chargement des rendez-vous:', error);\n    }\n  }\n\n  dayClicked({ date, events }: { date: Date; events: CalendarEvent[] }): void {\n    if (isSameMonth(date, this.viewDate)) {\n      if (\n        (isSameDay(this.viewDate, date) && this.activeDayIsOpen === true) ||\n        events.length === 0\n      ) {\n        this.activeDayIsOpen = false;\n      } else {\n        this.activeDayIsOpen = true;\n        this.viewDate = date;\n      }\n    }\n  }\n  async deleteRendezVouscalendar(rendezVous: RendezVousData) {\n    try {\n        await deleteRendezVous(this.firestore, inscritUid, rendezVous);\n        console.log('Rendez-vous supprimé avec succès.');\n        await this.loadEvents();\n        \n    } catch (error) {\n        console.error('Erreur lors de la suppression du rendez-vous:', error);\n    }\n}\n}\n","<ion-header [translucent]=\"true\">\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n  <link href=\"https://unpkg.com/@fortawesome/fontawesome-free@6.2.1/css/all.css\" rel=\"stylesheet\">\n  <link href=\"https://unpkg.com/angular-calendar@0.31.0/css/angular-calendar.css\" rel=\"stylesheet\">\n  <link href=\"https://unpkg.com/flatpickr@4.6.13/dist/flatpickr.css\" rel=\"stylesheet\">\n  <ion-toolbar>\n    <ion-item class=\"left\">\n      <p>Rendez-vous</p>\n     </ion-item>\n    <ion-item large class=\"right\" routerLink=\"/profil\">\n    <ion-icon name=\"person-circle-outline\" ></ion-icon>\n  </ion-item>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\" class=\"content\">\n  \n  <ion-grid>\n    <ion-row>\n      <ion-col>\n        <ion-card color=\"primary\" class=\"header-rd\">\n          <ion-card-header>\n            <br><br>\n            <ion-card-title class=\"center\">\n              \n              <div class=\"center\">Trouver</div> \n              <div> \n             <span>Tous les spécialistes </span>\n            </div>\n            </ion-card-title>\n            <br><br>\n            <ion-card-subtitle class=\"center\"></ion-card-subtitle>\n          </ion-card-header>\n          \n       <ion-content color=\"primary\">\n            <ion-button class=\"center1\"  color=\"light\" routerLink=\"/recherche-medecin\">\n              <ion-icon name=\"search-circle-outline\" style=\"color:rgb(110, 110, 248);\"></ion-icon>\n              <p style=\"color:rgb(110, 110, 248);\">Rechercher</p>\n            </ion-button> \n            <br><br>\n          </ion-content>\n        </ion-card>\n\n        \n      \n    </ion-col>\n    </ion-row>\n    <ion-row>\n      <ion-col class=\"calendar\">\n        <mwl-calendar-month-view\n        [viewDate]=\"viewDate\"\n        [events]=\"events\"\n        [activeDayIsOpen]=\"activeDayIsOpen\"\n        (dayClicked)=\"dayClicked($event.day)\"\n      >\n      </mwl-calendar-month-view>\n  </ion-col>\n    </ion-row>\n  </ion-grid>\n  <div>\n  <ion-list>\n    <ion-item *ngFor=\"let rendezVousItem of rdvs\">\n      <ion-label>{{ rendezVousItem.date }} - {{ rendezVousItem.heure }} - {{ rendezVousItem.nom }} {{ rendezVousItem.prenom }}   </ion-label>\n      <ion-button (click)=\"deleteRendezVouscalendar(rendezVousItem)\" color=\"danger\">Supprimer</ion-button>\n    </ion-item>\n  </ion-list>\n</div>\n</ion-content>\n<ion-footer collapse=\"fade\" >\n  <ion-toolbar>\n    <ion-tabs>\n      <ion-tab-bar slot=\"bottom\">\n        <ion-tab-button>\n          <ion-icon name=\"home-outline\" routerLink=\"/tab1\"></ion-icon>\n          Home\n        </ion-tab-button>\n        <ion-tab-button >\n          <ion-icon name=\"calendar-outline\" routerLink=\"/tabs/tab2\"></ion-icon>\n          Rendez-vous\n        </ion-tab-button>\n        <ion-tab-button >\n          <ion-icon name=\"pin-outline\" routerLink=\"/tabs/tab3\"></ion-icon>\n          A remplir\n        </ion-tab-button>\n      </ion-tab-bar>\n    </ion-tabs>\n  </ion-toolbar>\n</ion-footer>\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}