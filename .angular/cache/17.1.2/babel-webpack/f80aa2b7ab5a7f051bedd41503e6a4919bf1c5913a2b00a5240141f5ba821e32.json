{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _PersonneModalComponent, _PersonneModalModule;\nimport { CommonModule } from '@angular/common';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { getPersonByUid } from 'src/firebaseConfig';\nimport { WorkHoursModalComponent } from '../work-hours-modal/work-hours-modal.component';\nimport { AjoutPersonneModalComponent } from '../ajout-personne-modal/ajout-personne-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction PersonneModalComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\")(2, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function PersonneModalComponent_div_13_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const personne_r1 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(personne_r1.selected = $event);\n    })(\"change\", function PersonneModalComponent_div_13_Template_input_change_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const personne_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.toggleSelection(personne_r1));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const personne_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", personne_r1.selected);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", personne_r1.nom, \" \", personne_r1.prenom, \" \");\n  }\n}\nexport class PersonneModalComponent {\n  constructor(firestore, modalController) {\n    this.firestore = firestore;\n    this.modalController = modalController;\n    this.people = [];\n    this.person = [];\n  }\n  ngOnInit() {\n    this.fetchPersonne();\n  }\n  fetchPersonne() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const uid = \"D1UoD4reN0QvhgGDFnarodjbE782\";\n        const personnes = yield getPersonByUid(_this.firestore, uid);\n        if (personnes !== null) {\n          personnes.forEach(personne => {\n            _this.people.push(personne);\n          });\n          console.log('Personne trouvée :', _this.people);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la récupération de la personne par UID :', error);\n      }\n    })();\n  }\n  toggleSelection(person) {\n    this.person = person;\n  }\n  close() {\n    this.modalController.dismiss();\n  }\n  openWorkHoursModal() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this2.modalController.create({\n        component: WorkHoursModalComponent,\n        cssClass: 'work-hours-modal'\n      });\n      return yield modal.present();\n    })();\n  }\n  ajoutPersonneModal() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this3.modalController.create({\n        component: AjoutPersonneModalComponent,\n        cssClass: 'work-hours-modal'\n      });\n      return yield modal.present();\n    })();\n  }\n}\n_PersonneModalComponent = PersonneModalComponent;\n_PersonneModalComponent.ɵfac = function PersonneModalComponent_Factory(t) {\n  return new (t || _PersonneModalComponent)(i0.ɵɵdirectiveInject(i1.AngularFirestore), i0.ɵɵdirectiveInject(i2.ModalController));\n};\n_PersonneModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _PersonneModalComponent,\n  selectors: [[\"app-personne-modal\"]],\n  decls: 16,\n  vars: 1,\n  consts: [[\"slot\", \"end\"], [3, \"click\"], [\"slot\", \"start\"], [\"type\", \"checkbox\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"checkbox\", 3, \"ngModel\", \"ngModelChange\", \"change\"]],\n  template: function PersonneModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Personne\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 0)(5, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function PersonneModalComponent_Template_ion_button_click_5_listener() {\n        return ctx.openWorkHoursModal();\n      });\n      i0.ɵɵtext(6, \"Suivant\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"ion-buttons\", 2)(8, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function PersonneModalComponent_Template_ion_button_click_8_listener() {\n        return ctx.close();\n      });\n      i0.ɵɵtext(9, \"Fermer\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(10, \"label\");\n      i0.ɵɵelement(11, \"input\", 3);\n      i0.ɵɵtext(12, \"\\nVous\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(13, PersonneModalComponent_div_13_Template, 4, 3, \"div\", 4);\n      i0.ɵɵelementStart(14, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function PersonneModalComponent_Template_ion_button_click_14_listener() {\n        return ctx.ajoutPersonneModal();\n      });\n      i0.ɵɵtext(15, \"Ajouter une personne\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngForOf\", ctx.people);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.CheckboxControlValueAccessor, i4.NgControlStatus, i4.NgModel, i2.IonButton, i2.IonButtons, i2.IonHeader, i2.IonTitle, i2.IonToolbar],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport class PersonneModalModule {}\n_PersonneModalModule = PersonneModalModule;\n_PersonneModalModule.ɵfac = function PersonneModalModule_Factory(t) {\n  return new (t || _PersonneModalModule)();\n};\n_PersonneModalModule.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n  type: _PersonneModalModule\n});\n_PersonneModalModule.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n  providers: [AngularFirestore],\n  imports: [CommonModule, FormsModule, IonicModule]\n});\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(PersonneModalModule, {\n    declarations: [PersonneModalComponent],\n    imports: [CommonModule, FormsModule, IonicModule]\n  });\n})();","map":{"version":3,"names":["CommonModule","AngularFirestore","FormsModule","IonicModule","getPersonByUid","WorkHoursModalComponent","AjoutPersonneModalComponent","i0","ɵɵelementStart","ɵɵlistener","PersonneModalComponent_div_13_Template_input_ngModelChange_2_listener","$event","restoredCtx","ɵɵrestoreView","_r3","personne_r1","$implicit","ɵɵresetView","selected","PersonneModalComponent_div_13_Template_input_change_2_listener","ctx_r4","ɵɵnextContext","toggleSelection","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate2","nom","prenom","PersonneModalComponent","constructor","firestore","modalController","people","person","ngOnInit","fetchPersonne","_this","_asyncToGenerator","uid","personnes","forEach","personne","push","console","log","error","close","dismiss","openWorkHoursModal","_this2","modal","create","component","cssClass","present","ajoutPersonneModal","_this3","ɵɵdirectiveInject","i1","i2","ModalController","selectors","decls","vars","consts","template","PersonneModalComponent_Template","rf","ctx","PersonneModalComponent_Template_ion_button_click_5_listener","PersonneModalComponent_Template_ion_button_click_8_listener","ɵɵelement","ɵɵtemplate","PersonneModalComponent_div_13_Template","PersonneModalComponent_Template_ion_button_click_14_listener","PersonneModalModule","imports","declarations"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\affiche-medecin\\personne-modal\\personne-modal.component.ts","C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\affiche-medecin\\personne-modal\\personne-modal.component.html"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component, NgModule, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { userUid } from 'src/app/login/login.page';\nimport { getPersonByUid } from 'src/firebaseConfig';\nimport { WorkHoursModalComponent } from '../work-hours-modal/work-hours-modal.component';\nimport { AjoutPersonneModalComponent } from '../ajout-personne-modal/ajout-personne-modal.component';\n\ninterface PersonneData {\n  nom: string;\n  prenom: string;\n}\n\n@Component({\n  selector: 'app-personne-modal',\n  templateUrl: './personne-modal.component.html',\n  styleUrls: ['./personne-modal.component.scss'],\n})\nexport class PersonneModalComponent  implements OnInit {\n\n\n  constructor(private firestore: AngularFirestore, private modalController: ModalController) { }\n\n  ngOnInit() {\n    this.fetchPersonne();\n  }\n\n\n  people: any[] = [];\n  \n\n\n  async fetchPersonne() {\n    try {\n      const uid = \"D1UoD4reN0QvhgGDFnarodjbE782\";\n      const personnes = await getPersonByUid(this.firestore, uid);\n      if (personnes !== null) {\n      personnes.forEach(personne => {\n        this.people.push(personne);\n      });\n      console.log('Personne trouvée :', this.people);\n    }\n    } catch (error) {\n      console.error('Erreur lors de la récupération de la personne par UID :', error);\n    }\n  }\nperson : PersonneData[] = [];\n\n  toggleSelection(person : any) {\n    this.person = person;\n  }\n\n  close() {\n    this.modalController.dismiss();\n  }\n\n  async openWorkHoursModal() {\n    const modal = await this.modalController.create({\n      component: WorkHoursModalComponent,\n      cssClass: 'work-hours-modal',\n    });\n    return await modal.present();\n  }\n\n  async ajoutPersonneModal(){\n    const modal = await this.modalController.create({\n      component: AjoutPersonneModalComponent,\n      cssClass: 'work-hours-modal',\n    });\n    return await modal.present();\n  }\n\n}\n\n@NgModule({\n  declarations: [PersonneModalComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  providers: [AngularFirestore],\n})\nexport class PersonneModalModule {}\n","\n<ion-header>\n  <ion-toolbar>\n    <ion-title>Personne</ion-title>\n    <ion-buttons slot= \"end\">\n      <ion-button (click)=\"openWorkHoursModal()\">Suivant</ion-button>\n    </ion-buttons>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"close()\">Fermer</ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n\n<label>\n<input type=\"checkbox\">\nVous\n</label>\n<div *ngFor=\"let personne of people\">\n  <label>\n    <input type=\"checkbox\" [(ngModel)]=\"personne.selected\" (change)=\"toggleSelection(personne)\">\n    {{ personne.nom }} {{ personne.prenom }}\n  </label>\n</div>\n\n\n<ion-button (click)=\"ajoutPersonneModal()\">Ajouter une personne</ion-button>\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}