{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _WorkHoursModalComponent;\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./work-hours-modal.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./work-hours-modal.component.scss?ngResource\";\nimport { CommonModule } from '@angular/common';\nimport { Component, NgModule } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { PersonneModalComponent } from '../personne-modal/personne-modal.component';\nimport { RendezvousmodalComponent } from '../rendezvousmodal/rendezvousmodal.component';\nimport { medecinUid } from 'src/app/recherche-medecin/recherche-medecin.page';\nimport { getRdvByMedUid } from 'src/firebaseConfig';\nimport { HeureComponent } from '../heure/heure.component';\nlet WorkHoursModalComponent = (_WorkHoursModalComponent = class WorkHoursModalComponent {\n  constructor(modalController, firestore) {\n    this.modalController = modalController;\n    this.firestore = firestore;\n    this.rdvs = [];\n    this.takenHours = [];\n    this.hoursAvailable = new Array(24).fill(true);\n    this.selectedDate = ''; // Déclarer selectedDate ici\n    this.selectedDate = selectedDate;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const rdvs = yield getRdvByMedUid(_this.firestore, medecinUid);\n      console.log('rdvs', rdvs);\n    })();\n  }\n  close() {\n    this.modalController.dismiss();\n  }\n  toggleSelection(date) {\n    selectedDate = date; // Utiliser this.selectedDate\n    console.log('Date sélectionnée :', selectedDate); // Utiliser this.selectedDate\n    console.log('med   ', medecinUid);\n    this.openHeureModal();\n  }\n  generateDateList() {\n    const dateList = [];\n    const today = new Date();\n    for (let i = 0; i < 8; i++) {\n      const date = new Date(today);\n      date.setDate(today.getDate() + i);\n      if (date.getDay() !== 0 && date.getDay() !== 6) {\n        const formattedDate = this.convertDateToString(date);\n        dateList.push(formattedDate);\n      }\n    }\n    return dateList;\n  }\n  convertDateToString(date) {\n    const year = date.getFullYear();\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const day = date.getDate().toString().padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n  openWorkHoursModal() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this2.modalController.create({\n        component: PersonneModalComponent,\n        cssClass: 'personne-modal'\n      });\n      return yield modal.present();\n    })();\n  }\n  openHeureModal() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this3.modalController.create({\n        component: HeureComponent,\n        cssClass: 'personne-modal'\n      });\n      return yield modal.present();\n    })();\n  }\n  openrdvModal() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this4.modalController.create({\n        component: RendezvousmodalComponent,\n        cssClass: 'work-hours-modal'\n      });\n      _this4.close; // Ajout du ()\n      return yield modal.present();\n    })();\n  }\n}, _WorkHoursModalComponent.ctorParameters = () => [{\n  type: ModalController\n}, {\n  type: AngularFirestore\n}], _WorkHoursModalComponent);\nWorkHoursModalComponent = __decorate([Component({\n  selector: 'app-work-hours-modal',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], WorkHoursModalComponent);\nexport { WorkHoursModalComponent };\nlet WorkHoursModalModule = class WorkHoursModalModule {};\nWorkHoursModalModule = __decorate([NgModule({\n  declarations: [WorkHoursModalComponent],\n  imports: [CommonModule, FormsModule, IonicModule],\n  providers: [AngularFirestore]\n})], WorkHoursModalModule);\nexport { WorkHoursModalModule };\nexport let selectedDate;","map":{"version":3,"names":["CommonModule","Component","NgModule","AngularFirestore","FormsModule","IonicModule","ModalController","PersonneModalComponent","RendezvousmodalComponent","medecinUid","getRdvByMedUid","HeureComponent","WorkHoursModalComponent","_WorkHoursModalComponent","constructor","modalController","firestore","rdvs","takenHours","hoursAvailable","Array","fill","selectedDate","ngOnInit","_this","_asyncToGenerator","console","log","close","dismiss","toggleSelection","date","openHeureModal","generateDateList","dateList","today","Date","i","setDate","getDate","getDay","formattedDate","convertDateToString","push","year","getFullYear","month","getMonth","toString","padStart","day","openWorkHoursModal","_this2","modal","create","component","cssClass","present","_this3","openrdvModal","_this4","__decorate","selector","template","__NG_CLI_RESOURCE__0","WorkHoursModalModule","declarations","imports","providers"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\affiche-medecin\\work-hours-modal\\work-hours-modal.component.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component, NgModule, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { PersonneModalComponent } from '../personne-modal/personne-modal.component';\nimport { RendezvousmodalComponent } from '../rendezvousmodal/rendezvousmodal.component';\nimport { medecinUid } from 'src/app/recherche-medecin/recherche-medecin.page';\nimport { RendezVousData, getRdvByMedUid } from 'src/firebaseConfig';\nimport { HeureComponent } from '../heure/heure.component';\n\n\n\n@Component({\n  selector: 'app-work-hours-modal',\n  templateUrl: './work-hours-modal.component.html',\n  styleUrls: ['./work-hours-modal.component.scss'],\n})\nexport class WorkHoursModalComponent implements OnInit {\n  rdvs: RendezVousData[] = [];\n  takenHours: string[] = [];\n  hoursAvailable: boolean[] = new Array(24).fill(true);\n  selectedDate: string = ''; // Déclarer selectedDate ici\n\n  constructor(private modalController: ModalController, private firestore: AngularFirestore) {\n    this.selectedDate = selectedDate;\n  }\n\n  async ngOnInit() {\n    const rdvs = await getRdvByMedUid(this.firestore, medecinUid);\n    console.log('rdvs', rdvs);\n\n   \n  }\n\n  close() {\n    this.modalController.dismiss();\n  }\n\n  toggleSelection(date: string) {\n    selectedDate = date; // Utiliser this.selectedDate\n    console.log('Date sélectionnée :', selectedDate); // Utiliser this.selectedDate\n    console.log('med   ', medecinUid);\n    this.openHeureModal()\n  }\n\n  generateDateList(): string[] {\n    const dateList: string[] = [];\n    const today = new Date();\n    for (let i = 0; i < 8; i++) {\n      const date = new Date(today);\n      date.setDate(today.getDate() + i);\n\n      if (date.getDay() !== 0 && date.getDay() !== 6) {\n        const formattedDate = this.convertDateToString(date);\n        dateList.push(formattedDate);\n      }\n    }\n    return dateList;\n  }\n\n  convertDateToString(date: Date): string {\n    const year = date.getFullYear();\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const day = date.getDate().toString().padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n\n  async openWorkHoursModal() {\n    const modal = await this.modalController.create({\n      component: PersonneModalComponent,\n      cssClass: 'personne-modal',\n    });\n    return await modal.present();\n  }\n\n  async openHeureModal() {\n    const modal = await this.modalController.create({\n      component: HeureComponent,\n      cssClass: 'personne-modal',\n    });\n    return await modal.present();\n  }\n\n  async openrdvModal() {\n    const modal = await this.modalController.create({\n      component: RendezvousmodalComponent,\n      cssClass: 'work-hours-modal',\n    });\n    this.close; // Ajout du ()\n    return await modal.present();\n  }\n\n \n}\n\n\n@NgModule({\n  declarations: [WorkHoursModalComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  providers: [AngularFirestore],\n})\nexport class WorkHoursModalModule {}\n\nexport let selectedDate: string ;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}