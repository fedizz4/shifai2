{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _DocumentPage;\nimport { getDocumentsforpatient } from 'src/firebaseConfig';\nimport { inscritUid } from '../login/login.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nfunction DocumentPage_ion_item_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\");\n    i0.ɵɵelement(1, \"img\", 9);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"h2\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"a\", 10);\n    i0.ɵɵtext(6, \" Voir d\\u00E9tail..\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const document_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", document_r1.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(document_r1.description);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"href\", document_r1.url, i0.ɵɵsanitizeUrl);\n  }\n}\nexport class DocumentPage {\n  constructor(route, firestore, router, toastController) {\n    this.route = route;\n    this.firestore = firestore;\n    this.router = router;\n    this.toastController = toastController;\n    this.documents = [];\n    this.searchDescription = '';\n  }\n  ngOnInit() {\n    this.getdocument();\n  }\n  getdocument() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const documents = yield getDocumentsforpatient(_this.firestore, inscritUid);\n      if (documents) {\n        _this.documents = documents;\n      }\n    })();\n  }\n  searchDocumentsByDescription(description) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (!description) {\n          console.log('Veuillez entrer une description.');\n          return;\n        }\n        // Filtrer les documents pour la description spécifiée\n        const filteredDocuments = _this2.documents.filter(document => document.description === description);\n        if (filteredDocuments.length > 0) {\n          console.log('Documents trouvés avec la description', description, ':', filteredDocuments);\n          _this2.documents = filteredDocuments;\n        } else {\n          console.log('Aucun document trouvé avec la description', description);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la recherche des documents pour la description :', error);\n      }\n    })();\n  }\n  search(event) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const searchTerm = event.target.value.toLowerCase().trim();\n      if (!searchTerm) {\n        // Si la barre de recherche est vide, réinitialiser la liste des patients\n        _this3.getdocument();\n        return;\n      }\n      // Filtrer les patients dont le nom commence par le terme de recherche\n      _this3.documents = _this3.documents.filter(documents => documents.description.toLowerCase().startsWith(searchTerm));\n    })();\n  }\n}\n_DocumentPage = DocumentPage;\n_DocumentPage.ɵfac = function DocumentPage_Factory(t) {\n  return new (t || _DocumentPage)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AngularFirestore), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i3.ToastController));\n};\n_DocumentPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _DocumentPage,\n  selectors: [[\"app-document\"]],\n  decls: 27,\n  vars: 3,\n  consts: [[3, \"translucent\"], [\"slot\", \"start\"], [\"text\", \"Retour\"], [3, \"fullscreen\"], [1, \"upload-document\"], [\"fill\", \"clear\", 1, \"upload-text\"], [\"name\", \"cloud-upload-outline\", \"large\", \"\"], [\"placeholder\", \"Rechercher\", 3, \"ionInput\"], [4, \"ngFor\", \"ngForOf\"], [\"width\", \"60\", \"height\", \"60\", 3, \"src\"], [\"float\", \"right\", \"target\", \"_blank\", 3, \"href\"]],\n  template: function DocumentPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Mes Documents\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-button\", 1);\n      i0.ɵɵelement(5, \"ion-back-button\", 2);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"ion-content\", 3)(7, \"ion-grid\")(8, \"ion-row\")(9, \"ion-col\")(10, \"ion-card\", 4)(11, \"ion-button\", 5)(12, \"ion-card-header\")(13, \"p\");\n      i0.ɵɵelement(14, \"ion-icon\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"ion-card-title\");\n      i0.ɵɵelementStart(16, \"ion-card-subtitle\");\n      i0.ɵɵtext(17, \"Upload your documents\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(18, \"ion-card-content\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(19, \"ion-row\")(20, \"ion-col\")(21, \"ion-col\");\n      i0.ɵɵelement(22, \"br\");\n      i0.ɵɵelementStart(23, \"ion-searchbar\", 7);\n      i0.ɵɵlistener(\"ionInput\", function DocumentPage_Template_ion_searchbar_ionInput_23_listener($event) {\n        return ctx.search($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"ion-list\");\n      i0.ɵɵtemplate(26, DocumentPage_ion_item_26_Template, 7, 3, \"ion-item\", 8);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngForOf\", ctx.documents);\n    }\n  },\n  dependencies: [i4.NgForOf, i3.IonButton, i3.IonCard, i3.IonCardContent, i3.IonCardHeader, i3.IonCardSubtitle, i3.IonCardTitle, i3.IonCol, i3.IonContent, i3.IonGrid, i3.IonHeader, i3.IonIcon, i3.IonItem, i3.IonLabel, i3.IonList, i3.IonRow, i3.IonSearchbar, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor, i3.IonBackButton],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["getDocumentsforpatient","inscritUid","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","document_r1","url","ɵɵsanitizeUrl","ɵɵtextInterpolate","description","DocumentPage","constructor","route","firestore","router","toastController","documents","searchDescription","ngOnInit","getdocument","_this","_asyncToGenerator","searchDocumentsByDescription","_this2","console","log","filteredDocuments","filter","document","length","error","search","event","_this3","searchTerm","target","value","toLowerCase","trim","startsWith","ɵɵdirectiveInject","i1","ActivatedRoute","i2","AngularFirestore","Router","i3","ToastController","selectors","decls","vars","consts","template","DocumentPage_Template","rf","ctx","ɵɵlistener","DocumentPage_Template_ion_searchbar_ionInput_23_listener","$event","ɵɵtemplate","DocumentPage_ion_item_26_Template"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\document\\document.page.ts","C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\document\\document.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { getDocumentsforpatient, firestore } from 'src/firebaseConfig';\nimport { inscritUid } from '../login/login.page';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\ninterface Documentdata{\n  url:string;\n  description:string;\n  useruid:string;\n}\n\n@Component({\n  selector: 'app-document',\n  templateUrl: './document.page.html',\n  styleUrls: ['./document.page.scss'],\n})\nexport class DocumentPage implements OnInit {\ndocuments:Documentdata[]=[];\nsearchDescription:string=''\n  constructor(\n    private route: ActivatedRoute,\n    private firestore: AngularFirestore,\n    private router: Router,\n    private toastController: ToastController\n  ) {}\n\n  ngOnInit() {\n    this.getdocument();\n  }\n\n  async getdocument(){\n   const documents = await getDocumentsforpatient(this.firestore, inscritUid)\n   if(documents){\n    this.documents=documents;\n   }\n  }\n  async searchDocumentsByDescription(description: string) {\n    try {\n      if (!description) {\n        console.log('Veuillez entrer une description.');\n        return;\n      }\n  \n      // Filtrer les documents pour la description spécifiée\n      const filteredDocuments = this.documents.filter(document => document.description === description);\n  \n      if (filteredDocuments.length > 0) {\n        console.log('Documents trouvés avec la description', description, ':', filteredDocuments);\n        this.documents = filteredDocuments;\n      } else {\n        console.log('Aucun document trouvé avec la description', description);\n      }\n    } catch (error) {\n      console.error('Erreur lors de la recherche des documents pour la description :', error);\n    }\n  }\n  async search(event: CustomEvent) {\n    const searchTerm = (event.target as HTMLInputElement).value.toLowerCase().trim();\n    if (!searchTerm) {\n      // Si la barre de recherche est vide, réinitialiser la liste des patients\n      this.getdocument();\n      return;\n    }\n  \n    // Filtrer les patients dont le nom commence par le terme de recherche\n    this.documents = this.documents.filter(documents =>\n      documents.description.toLowerCase().startsWith(searchTerm)\n    );\n  }\n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-title>Mes Documents</ion-title>\n    <ion-button slot=\"start\">\n      <ion-back-button text=\"Retour\">\n      </ion-back-button>\n    </ion-button>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n  <ion-grid>\n    <ion-row>\n      <ion-col>\n        <ion-card class=\"upload-document\">\n          <ion-button fill=\"clear\" class=\"upload-text\">\n          <ion-card-header>\n            <p>\n            <ion-icon name=\"cloud-upload-outline\" large></ion-icon>\n            </p>\n            <ion-card-title></ion-card-title>\n            <ion-card-subtitle>Upload your documents</ion-card-subtitle>\n          </ion-card-header>\n          <ion-card-content> </ion-card-content>\n        </ion-button>\n        </ion-card>\n      \n\n    </ion-col>\n    </ion-row>\n    <ion-row>\n      <ion-col>\n        <ion-col>\n          <br>\n          <ion-searchbar placeholder=\"Rechercher\" (ionInput)=\"search($event)\"></ion-searchbar>\n          <br>\n        </ion-col>\n        <ion-list>\n          <ion-item *ngFor=\"let document of documents\">\n            <img [src]=\"document.url\" width=\"60\" height=\"60\">\n            <ion-label><h2>{{ document.description }}</h2></ion-label>\n            <a float=\"right\" [href]=\"document.url\"  target=\"_blank\" > Voir détail..</a>\n          </ion-item>\n        </ion-list>\n\n\n      </ion-col>\n    </ion-row>\n    </ion-grid>\n</ion-content>\n"],"mappings":";;AAEA,SAASA,sBAAsB,QAAmB,oBAAoB;AACtE,SAASC,UAAU,QAAQ,qBAAqB;;;;;;;;ICmCtCC,EAAA,CAAAC,cAAA,eAA6C;IAC3CD,EAAA,CAAAE,SAAA,aAAiD;IACjDF,EAAA,CAAAC,cAAA,gBAAW;IAAID,EAAA,CAAAG,MAAA,GAA0B;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC9CJ,EAAA,CAAAC,cAAA,YAAyD;IAACD,EAAA,CAAAG,MAAA,0BAAa;IAAAH,EAAA,CAAAI,YAAA,EAAI;;;;IAFtEJ,EAAA,CAAAK,SAAA,EAAoB;IAApBL,EAAA,CAAAM,UAAA,QAAAC,WAAA,CAAAC,GAAA,EAAAR,EAAA,CAAAS,aAAA,CAAoB;IACVT,EAAA,CAAAK,SAAA,GAA0B;IAA1BL,EAAA,CAAAU,iBAAA,CAAAH,WAAA,CAAAI,WAAA,CAA0B;IACxBX,EAAA,CAAAK,SAAA,EAAqB;IAArBL,EAAA,CAAAM,UAAA,SAAAC,WAAA,CAAAC,GAAA,EAAAR,EAAA,CAAAS,aAAA,CAAqB;;;ADxBlD,OAAM,MAAOG,YAAY;EAGvBC,YACUC,KAAqB,EACrBC,SAA2B,EAC3BC,MAAc,EACdC,eAAgC;IAHhC,KAAAH,KAAK,GAALA,KAAK;IACL,KAAAC,SAAS,GAATA,SAAS;IACT,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,eAAe,GAAfA,eAAe;IAN3B,KAAAC,SAAS,GAAgB,EAAE;IAC3B,KAAAC,iBAAiB,GAAQ,EAAE;EAMtB;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEMA,WAAWA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MAChB,MAAML,SAAS,SAASpB,sBAAsB,CAACwB,KAAI,CAACP,SAAS,EAAEhB,UAAU,CAAC;MAC1E,IAAGmB,SAAS,EAAC;QACZI,KAAI,CAACJ,SAAS,GAACA,SAAS;MACzB;IAAC;EACF;EACMM,4BAA4BA,CAACb,WAAmB;IAAA,IAAAc,MAAA;IAAA,OAAAF,iBAAA;MACpD,IAAI;QACF,IAAI,CAACZ,WAAW,EAAE;UAChBe,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;UAC/C;QACF;QAEA;QACA,MAAMC,iBAAiB,GAAGH,MAAI,CAACP,SAAS,CAACW,MAAM,CAACC,QAAQ,IAAIA,QAAQ,CAACnB,WAAW,KAAKA,WAAW,CAAC;QAEjG,IAAIiB,iBAAiB,CAACG,MAAM,GAAG,CAAC,EAAE;UAChCL,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAEhB,WAAW,EAAE,GAAG,EAAEiB,iBAAiB,CAAC;UACzFH,MAAI,CAACP,SAAS,GAAGU,iBAAiB;QACpC,CAAC,MAAM;UACLF,OAAO,CAACC,GAAG,CAAC,2CAA2C,EAAEhB,WAAW,CAAC;QACvE;MACF,CAAC,CAAC,OAAOqB,KAAK,EAAE;QACdN,OAAO,CAACM,KAAK,CAAC,iEAAiE,EAAEA,KAAK,CAAC;MACzF;IAAC;EACH;EACMC,MAAMA,CAACC,KAAkB;IAAA,IAAAC,MAAA;IAAA,OAAAZ,iBAAA;MAC7B,MAAMa,UAAU,GAAIF,KAAK,CAACG,MAA2B,CAACC,KAAK,CAACC,WAAW,EAAE,CAACC,IAAI,EAAE;MAChF,IAAI,CAACJ,UAAU,EAAE;QACf;QACAD,MAAI,CAACd,WAAW,EAAE;QAClB;MACF;MAEA;MACAc,MAAI,CAACjB,SAAS,GAAGiB,MAAI,CAACjB,SAAS,CAACW,MAAM,CAACX,SAAS,IAC9CA,SAAS,CAACP,WAAW,CAAC4B,WAAW,EAAE,CAACE,UAAU,CAACL,UAAU,CAAC,CAC3D;IAAC;EACJ;;gBApDWxB,YAAY;;mBAAZA,aAAY,EAAAZ,EAAA,CAAA0C,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAA5C,EAAA,CAAA0C,iBAAA,CAAAG,EAAA,CAAAC,gBAAA,GAAA9C,EAAA,CAAA0C,iBAAA,CAAAC,EAAA,CAAAI,MAAA,GAAA/C,EAAA,CAAA0C,iBAAA,CAAAM,EAAA,CAAAC,eAAA;AAAA;;QAAZrC,aAAY;EAAAsC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCjBzBxD,EAAA,CAAAC,cAAA,oBAAiC;MAElBD,EAAA,CAAAG,MAAA,oBAAa;MAAAH,EAAA,CAAAI,YAAA,EAAY;MACpCJ,EAAA,CAAAC,cAAA,oBAAyB;MACvBD,EAAA,CAAAE,SAAA,yBACkB;MACpBF,EAAA,CAAAI,YAAA,EAAa;MAIjBJ,EAAA,CAAAC,cAAA,qBAAiC;MAQrBD,EAAA,CAAAE,SAAA,mBAAuD;MACvDF,EAAA,CAAAI,YAAA,EAAI;MACJJ,EAAA,CAAAE,SAAA,sBAAiC;MACjCF,EAAA,CAAAC,cAAA,yBAAmB;MAAAD,EAAA,CAAAG,MAAA,6BAAqB;MAAAH,EAAA,CAAAI,YAAA,EAAoB;MAE9DJ,EAAA,CAAAE,SAAA,wBAAsC;MACxCF,EAAA,CAAAI,YAAA,EAAa;MAMjBJ,EAAA,CAAAC,cAAA,eAAS;MAGHD,EAAA,CAAAE,SAAA,UAAI;MACJF,EAAA,CAAAC,cAAA,wBAAoE;MAA5BD,EAAA,CAAA0D,UAAA,sBAAAC,yDAAAC,MAAA;QAAA,OAAYH,GAAA,CAAAxB,MAAA,CAAA2B,MAAA,CAAc;MAAA,EAAC;MAAC5D,EAAA,CAAAI,YAAA,EAAgB;MACpFJ,EAAA,CAAAE,SAAA,UAAI;MACNF,EAAA,CAAAI,YAAA,EAAU;MACVJ,EAAA,CAAAC,cAAA,gBAAU;MACRD,EAAA,CAAA6D,UAAA,KAAAC,iCAAA,sBAIW;MACb9D,EAAA,CAAAI,YAAA,EAAW;;;MA3CPJ,EAAA,CAAAM,UAAA,qBAAoB;MAUnBN,EAAA,CAAAK,SAAA,GAAmB;MAAnBL,EAAA,CAAAM,UAAA,oBAAmB;MA4BSN,EAAA,CAAAK,SAAA,IAAY;MAAZL,EAAA,CAAAM,UAAA,YAAAmD,GAAA,CAAAvC,SAAA,CAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}