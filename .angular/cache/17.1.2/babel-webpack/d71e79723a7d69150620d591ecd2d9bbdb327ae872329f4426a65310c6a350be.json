{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { getRdvByMedUid, medecinUid } from 'src/firebaseConfig';\nlet SalleAttentePage = class SalleAttentePage {\n  constructor(firestore, toastController) {\n    this.firestore = firestore;\n    this.toastController = toastController;\n    this.rdvs = [];\n    this.p = false;\n    this.present = false;\n    this.uid = medecinUid.uid;\n  }\n  loadEvents() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const rdvs = yield getRdvByMedUid(_this.firestore, _this.uid);\n      if (rdvs && rdvs.length > 0) {\n        _this.p = true;\n        const today = new Date();\n        today.setHours(0, 0, 0, 0); // Set the time to 00:00:00 to compare only the date\n        _this.rdvs = rdvs.filter(rdv => new Date(rdv.date).setHours(0, 0, 0, 0) === today.setHours(0, 0, 0, 0)).map(rdv => {\n          rdv.present = false;\n          return rdv;\n        }).sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n        console.log(_this.rdvs);\n      } else {\n        _this.p = false;\n        console.log(\"vous n'avez pas de rendezvous aujourd'hui\");\n        const toast = yield _this.toastController.create({\n          message: 'Vous n\\'avez pas de rendez-vous aujourd\\'hui. Veuillez retourner avec le bouton retour.',\n          duration: 1500,\n          position: 'top',\n          color: 'danger'\n        });\n        toast.present(); // Afficher le toast\n      }\n    })();\n  }\n};\nSalleAttentePage = __decorate([Component({\n  selector: 'app-salle-attente',\n  templateUrl: './salle-attente.page.html',\n  styleUrls: ['./salle-attente.page.scss']\n})], SalleAttentePage);\nexport { SalleAttentePage };","map":{"version":3,"names":["Component","getRdvByMedUid","medecinUid","SalleAttentePage","constructor","firestore","toastController","rdvs","p","present","uid","loadEvents","_this","_asyncToGenerator","length","today","Date","setHours","filter","rdv","date","map","sort","a","b","getTime","console","log","toast","create","message","duration","position","color","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\salle\\salle.page.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { ToastController } from '@ionic/angular';\nimport { getRdvByMedUid, medecinUid } from 'src/firebaseConfig';\n\n@Component({\n  selector: 'app-salle-attente',\n  templateUrl: './salle-attente.page.html',\n  styleUrls: ['./salle-attente.page.scss'],\n})\nexport class SalleAttentePage {\n  rdvs: any[] = [];\n  p: boolean = false;\n  present: boolean = false;\nuid=medecinUid.uid;\n  constructor(\n    private firestore: AngularFirestore,\n    private toastController: ToastController\n  ) {}\n\n  async loadEvents() {\n    const rdvs = await getRdvByMedUid(this.firestore, this.uid);\n    if (rdvs && rdvs.length > 0) {\n      this.p = true;\n      const today = new Date();\n      today.setHours(0, 0, 0, 0); // Set the time to 00:00:00 to compare only the date\n      this.rdvs = rdvs\n        .filter(rdv => new Date(rdv.date).setHours(0, 0, 0, 0) === today.setHours(0, 0, 0, 0))\n        .map(rdv => {\n          rdv.present = false;\n          return rdv;\n        })\n        .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n      console.log(this.rdvs);\n    } else {\n      this.p = false;\n      console.log(\"vous n'avez pas de rendezvous aujourd'hui\");\n      const toast = await this.toastController.create({\n        message: 'Vous n\\'avez pas de rendez-vous aujourd\\'hui. Veuillez retourner avec le bouton retour.',\n        duration: 1500,\n        position: 'top',\n        color: 'danger',\n      });\n      toast.present(); // Afficher le toast\n    }\n  }\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,eAAe;AAGzC,SAASC,cAAc,EAAEC,UAAU,QAAQ,oBAAoB;AAOxD,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAK3BC,YACUC,SAA2B,EAC3BC,eAAgC;IADhC,KAAAD,SAAS,GAATA,SAAS;IACT,KAAAC,eAAe,GAAfA,eAAe;IANzB,KAAAC,IAAI,GAAU,EAAE;IAChB,KAAAC,CAAC,GAAY,KAAK;IAClB,KAAAC,OAAO,GAAY,KAAK;IAC1B,KAAAC,GAAG,GAACR,UAAU,CAACQ,GAAG;EAIb;EAEGC,UAAUA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACd,MAAMN,IAAI,SAASN,cAAc,CAACW,KAAI,CAACP,SAAS,EAAEO,KAAI,CAACF,GAAG,CAAC;MAC3D,IAAIH,IAAI,IAAIA,IAAI,CAACO,MAAM,GAAG,CAAC,EAAE;QAC3BF,KAAI,CAACJ,CAAC,GAAG,IAAI;QACb,MAAMO,KAAK,GAAG,IAAIC,IAAI,EAAE;QACxBD,KAAK,CAACE,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC5BL,KAAI,CAACL,IAAI,GAAGA,IAAI,CACbW,MAAM,CAACC,GAAG,IAAI,IAAIH,IAAI,CAACG,GAAG,CAACC,IAAI,CAAC,CAACH,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,KAAKF,KAAK,CAACE,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CACrFI,GAAG,CAACF,GAAG,IAAG;UACTA,GAAG,CAACV,OAAO,GAAG,KAAK;UACnB,OAAOU,GAAG;QACZ,CAAC,CAAC,CACDG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIR,IAAI,CAACQ,CAAC,CAACJ,IAAI,CAAC,CAACK,OAAO,EAAE,GAAG,IAAIT,IAAI,CAACO,CAAC,CAACH,IAAI,CAAC,CAACK,OAAO,EAAE,CAAC;QAC1EC,OAAO,CAACC,GAAG,CAACf,KAAI,CAACL,IAAI,CAAC;MACxB,CAAC,MAAM;QACLK,KAAI,CAACJ,CAAC,GAAG,KAAK;QACdkB,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAC;QACxD,MAAMC,KAAK,SAAShB,KAAI,CAACN,eAAe,CAACuB,MAAM,CAAC;UAC9CC,OAAO,EAAE,yFAAyF;UAClGC,QAAQ,EAAE,IAAI;UACdC,QAAQ,EAAE,KAAK;UACfC,KAAK,EAAE;SACR,CAAC;QACFL,KAAK,CAACnB,OAAO,EAAE,CAAC,CAAC;MACnB;IAAC;EACH;CACD;AApCYN,gBAAgB,GAAA+B,UAAA,EAL5BlC,SAAS,CAAC;EACTmC,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWlC,gBAAgB,CAoC5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}