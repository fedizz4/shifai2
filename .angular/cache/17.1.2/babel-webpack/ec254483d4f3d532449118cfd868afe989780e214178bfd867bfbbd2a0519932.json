{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/ionic-TP/shifai1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _PatientPage;\nimport { getPatientsByMedecinUid } from 'src/firebaseConfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ionic/angular\";\nfunction PatientPage_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\");\n    i0.ɵɵtext(16, \"Voir d\\u00E9tails\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const patient_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.nom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.prenom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.telephone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 6, patient_r1.date, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(patient_r1.sexe);\n  }\n}\nexport class PatientPage {\n  constructor(router, firestore) {\n    this.router = router;\n    this.firestore = firestore;\n    this.patients = [];\n    this.patientUid = \"\";\n  }\n  ngOnInit() {\n    const medecinid = 'b2xIfQRkJABI4OL9JehI';\n    //Call the function to get patients\n    this.getPatientsByMedecinUid(medecinid);\n  }\n  redirectToPatientPage(uid) {\n    this.patientUid = uid;\n    this.router.navigate(['/details-page']);\n  }\n  getPatientsByMedecinUid(medecinUid) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const patients = yield getPatientsByMedecinUid(_this.firestore, medecinUid);\n        // Now you can use the 'patients' array as needed\n        console.log('Patients:', patients);\n      } catch (error) {\n        console.error('Error fetching patients:', error);\n        // Handle the error as needed\n      }\n    })();\n  }\n}\n_PatientPage = PatientPage;\n_PatientPage.ɵfac = function PatientPage_Factory(t) {\n  return new (t || _PatientPage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AngularFirestore));\n};\n_PatientPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _PatientPage,\n  selectors: [[\"app-patient\"]],\n  decls: 27,\n  vars: 2,\n  consts: [[3, \"fullscreen\"], [\"slot\", \"start\", \"routerLink\", \"/app-medecin\", \"fill\", \"clear\"], [\"collapse\", \"condense\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function PatientPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"ion-header\")(2, \"ion-toolbar\")(3, \"ion-button\", 1);\n      i0.ɵɵtext(4, \" \\u2190 Retour \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ion-title\");\n      i0.ɵɵtext(6, \"Patient\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"ion-header\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"table\")(9, \"thead\")(10, \"tr\")(11, \"th\");\n      i0.ɵɵtext(12, \"Nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Pr\\u00E9nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"T\\u00E9l\\u00E9phone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"Date de naissance\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\");\n      i0.ɵɵtext(22, \"Sexe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"th\");\n      i0.ɵɵtext(24, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"tbody\");\n      i0.ɵɵtemplate(26, PatientPage_tr_26_Template, 17, 9, \"tr\", 3);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(26);\n      i0.ɵɵproperty(\"ngForOf\", ctx.patients);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.IonButton, i4.IonContent, i4.IonHeader, i4.IonTitle, i4.IonToolbar, i4.RouterLinkDelegate, i1.RouterLink, i3.DatePipe],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["getPatientsByMedecinUid","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","patient_r1","nom","prenom","email","telephone","ɵɵpipeBind2","date","sexe","PatientPage","constructor","router","firestore","patients","patientUid","ngOnInit","medecinid","redirectToPatientPage","uid","navigate","medecinUid","_this","_asyncToGenerator","console","log","error","ɵɵdirectiveInject","i1","Router","i2","AngularFirestore","selectors","decls","vars","consts","template","PatientPage_Template","rf","ctx","ɵɵelement","ɵɵtemplate","PatientPage_tr_26_Template","ɵɵproperty"],"sources":["C:\\Users\\MacBook Air\\ionic-TP\\shifai1\\src\\app\\patient\\patient.page.ts","C:\\Users\\MacBook Air\\ionic-TP\\shifai1\\src\\app\\patient\\patient.page.html"],"sourcesContent":["//////////////\n\nimport { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { Router } from '@angular/router';\nimport { getPatientsByMedecinUid ,medecinUid } from 'src/firebaseConfig';\n\n\ninterface Patient {\n  id: string;\n  nom: string;\n  prenom: string;\n  email: string;\n  telephone: string;\n  date: string;\n  sexe: string;\n}\n\n@Component({\n  selector: 'app-patient',\n  templateUrl: './patient.page.html',\n  styleUrls: ['./patient.page.scss'],\n})\n\n\n\nexport class PatientPage implements OnInit {\n\n  patients: Patient[] = [];\n  patientUid :string = \"\";\n\n \n  \n\n  constructor(private router: Router, private firestore: AngularFirestore) { }\n\n  ngOnInit() {\n\n    const medecinid = 'b2xIfQRkJABI4OL9JehI';\n\n    //Call the function to get patients\n    this.getPatientsByMedecinUid(medecinid);\n  }\n\n  redirectToPatientPage(uid: string) {\n\n    this.patientUid = uid;\n\n    this.router.navigate(['/details-page']);\n  }\n\n  async getPatientsByMedecinUid(medecinUid: string) {\n    try {\n      const patients = await getPatientsByMedecinUid(this.firestore, medecinUid);\n\n      // Now you can use the 'patients' array as needed\n      console.log('Patients:', patients);\n    } catch (error) {\n      console.error('Error fetching patients:', error);\n      // Handle the error as needed\n    }\n  }\n}\n\n\n\n","<ion-content [fullscreen]=\"true\">\n  <ion-header >\n    <ion-toolbar>\n      <ion-button  slot=\"start\" routerLink=\"/app-medecin\" fill=\"clear\">\n        ← Retour\n      </ion-button>\n      <ion-title>Patient</ion-title>\n      <ion-header collapse=\"condense\">\n        \n      </ion-header>\n    </ion-toolbar>\n  </ion-header>\n  <!-- patient-list.component.html -->\n\n<!-- patient-list.component.html -->\n\n<table>\n  <thead>\n    <tr>\n      <th>Nom</th>\n      <th>Prénom</th>\n      <th>Email</th>\n      <th>Téléphone</th>\n      <th>Date de naissance</th>\n      <th>Sexe</th>\n      <th>Action</th>\n    </tr>\n  </thead>\n  <tbody>\n    <!-- Utilisez *ngFor pour parcourir la liste des patients -->\n    <tr *ngFor=\"let patient of patients\">\n      <td>{{ patient.nom }}</td>\n      <td>{{ patient.prenom }}</td>\n      <td>{{ patient.email }}</td>\n      <td>{{ patient.telephone }}</td>\n      <td>{{ patient.date | date: 'dd/MM/yyyy' }}</td>\n      <td>{{ patient.sexe }}</td>\n      <td>\n        <!-- Ajoutez un bouton avec un événement click -->\n        <button >Voir détails</button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}