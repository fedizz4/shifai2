{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _WorkHoursModalModule;\nimport { __decorate } from \"tslib\";\nimport { CommonModule } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { Subject } from 'rxjs';\nimport { PersonneModalComponent } from '../personne-modal/personne-modal.component';\nimport { RendezvousmodalComponent } from '../rendezvousmodal/rendezvousmodal.component';\nimport * as i0 from \"@angular/core\";\nlet WorkHoursModalComponent = class WorkHoursModalComponent {\n  constructor(modalController, firestore) {\n    this.modalController = modalController;\n    this.firestore = firestore;\n    // Working hours for the day\n    this.workHours = ['8H00 - 8H30', '8H30 - 9H00', '9H00 - 9H30', '9H30 - 10H00', '10H00 - 10H30', '10H30 - 11H00', '11H00 - 11H30', '11H30 - 12H00', '14H00 - 14H30', '14H30 - 15H00', '15H00 - 15H30', '15H30 - 16H00', '16H00 - 16H30', '16H30 - 17H00'];\n    this.todayDate = new Date();\n    // Reserved hours for the day\n    this.destroy$ = new Subject();\n    /*fetchReservedHours() {\n     this.firestore.collection('medecins').doc(medecinUid ).collection('rdv').valueChanges()\n       .subscribe((rdvs: any[]) => {\n         this.reservedHours = rdvs.map(rdv => rdv.heure) as string[];\n         console.log('Heures réservées :', this.reservedHours);\n       });\n    }\n           isHourReserved(hour: string): boolean {\n      return this.reservedHours.includes(hour);\n    }\n    */\n    this.selectedHour = '';\n  }\n  ngOnInit() {\n    throw new Error('Method not implemented.');\n  }\n  generateDateList() {\n    const dateList = [];\n    for (let i = 0; i < 8; i++) {\n      const date = new Date();\n      date.setDate(this.todayDate.getDate() + i);\n      // Vérifier si la date générée est un samedi ou un dimanche\n      if (date.getDay() !== 0 && date.getDay() !== 6) {\n        dateList.push(date);\n      }\n    }\n    return dateList;\n  }\n  /*\n    ngOnInit() {\n      this.fetchReservedHours();\n    }\n  */\n  close() {\n    this.modalController.dismiss();\n  }\n  toggleSelection(hour) {\n    selectedHour = hour;\n    console.log('Heure sélectionnée :', selectedHour);\n    // Ajoutez ici votre logique pour gérer l'heure réservée si nécessaire\n  }\n  openWorkHoursModal() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this.modalController.create({\n        component: PersonneModalComponent,\n        cssClass: 'personne-modal'\n      });\n      return yield modal.present();\n    })();\n  }\n  openrdvModal() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this2.modalController.create({\n        component: RendezvousmodalComponent,\n        cssClass: 'work-hours-modal'\n      });\n      _this2.close;\n      return yield modal.present();\n    })();\n  }\n};\nWorkHoursModalComponent = __decorate([Component({\n  selector: 'app-work-hours-modal',\n  templateUrl: './work-hours-modal.component.html',\n  styleUrls: ['./work-hours-modal.component.scss']\n})], WorkHoursModalComponent);\nexport { WorkHoursModalComponent };\nexport class WorkHoursModalModule {}\n_WorkHoursModalModule = WorkHoursModalModule;\n_WorkHoursModalModule.ɵfac = function WorkHoursModalModule_Factory(t) {\n  return new (t || _WorkHoursModalModule)();\n};\n_WorkHoursModalModule.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n  type: _WorkHoursModalModule\n});\n_WorkHoursModalModule.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n  providers: [AngularFirestore],\n  imports: [CommonModule, FormsModule, IonicModule]\n});\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(WorkHoursModalModule, {\n    declarations: [WorkHoursModalComponent],\n    imports: [CommonModule, FormsModule, IonicModule]\n  });\n})();\nexport let selectedHour;","map":{"version":3,"names":["CommonModule","Component","AngularFirestore","FormsModule","IonicModule","Subject","PersonneModalComponent","RendezvousmodalComponent","WorkHoursModalComponent","constructor","modalController","firestore","workHours","todayDate","Date","destroy$","selectedHour","ngOnInit","Error","generateDateList","dateList","i","date","setDate","getDate","getDay","push","close","dismiss","toggleSelection","hour","console","log","openWorkHoursModal","_this","_asyncToGenerator","modal","create","component","cssClass","present","openrdvModal","_this2","__decorate","selector","templateUrl","styleUrls","WorkHoursModalModule","imports","declarations"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\affiche-medecin\\work-hours-modal\\work-hours-modal.component.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component, NgModule, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { Subject, takeUntil } from 'rxjs';\nimport { PersonneModalComponent } from '../personne-modal/personne-modal.component';\nimport { RendezvousmodalComponent } from '../rendezvousmodal/rendezvousmodal.component';\nimport { medecinUid } from 'src/app/recherche-medecin/recherche-medecin.page';\n\n\n\n@Component({\n  selector: 'app-work-hours-modal',\n  templateUrl: './work-hours-modal.component.html',\n  styleUrls: ['./work-hours-modal.component.scss'],\n})\nexport class WorkHoursModalComponent implements OnInit {\n\n  // Working hours for the day\n  workHours: string[] = [\n    '8H00 - 8H30',\n    '8H30 - 9H00',\n    '9H00 - 9H30',\n    '9H30 - 10H00',\n    '10H00 - 10H30',\n    '10H30 - 11H00',\n    '11H00 - 11H30',\n    '11H30 - 12H00',\n    '14H00 - 14H30',\n    '14H30 - 15H00',\n    '15H00 - 15H30',\n    '15H30 - 16H00',\n    '16H00 - 16H30',\n    '16H30 - 17H00',\n  ];\n  constructor(private modalController: ModalController, private firestore: AngularFirestore) { }\n  ngOnInit(): void {\n    throw new Error('Method not implemented.');\n  }\n  todayDate: Date = new Date();\n  generateDateList(): Date[] {\n    const dateList: Date[] = [];\n    for (let i = 0; i < 8; i++) {\n      const date = new Date();\n      date.setDate(this.todayDate.getDate() + i);\n\n      // Vérifier si la date générée est un samedi ou un dimanche\n      if (date.getDay() !== 0 && date.getDay() !== 6) {\n        dateList.push(date);\n      }\n    }\n    return dateList;\n  \n}\n/*\n  ngOnInit() {\n    this.fetchReservedHours();\n  }\n*/\n  close() {\n    this.modalController.dismiss();\n  }\n\n  \n   // Reserved hours for the day\n\n   destroy$: Subject<boolean> = new Subject<boolean>();\n \n \n   \n   /*fetchReservedHours() {\n    this.firestore.collection('medecins').doc(medecinUid ).collection('rdv').valueChanges()\n      .subscribe((rdvs: any[]) => {\n        this.reservedHours = rdvs.map(rdv => rdv.heure) as string[];\n        console.log('Heures réservées :', this.reservedHours);\n      });\n  }\n \n   isHourReserved(hour: string): boolean {\n     return this.reservedHours.includes(hour);\n   }\n   */\n\n   selectedHour: string = '';\n   \n   toggleSelection(hour: string) {\n     selectedHour = hour;\n     console.log('Heure sélectionnée :', selectedHour);\n   \n     // Ajoutez ici votre logique pour gérer l'heure réservée si nécessaire\n   }\n   \n\n\n   async openWorkHoursModal() {\n    const modal = await this.modalController.create({\n      component: PersonneModalComponent,\n      cssClass: 'personne-modal',\n    });\n    return await modal.present();\n  }\n\n  async openrdvModal() {\n    const modal = await this.modalController.create({\n      component: RendezvousmodalComponent,\n      cssClass: 'work-hours-modal',\n    });\n    this.close\n    return await modal.present();\n  }\n \n}\n\n\n@NgModule({\n  declarations: [WorkHoursModalComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  providers: [AngularFirestore],\n})\nexport class WorkHoursModalModule {}\n\nexport let selectedHour: string ;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}