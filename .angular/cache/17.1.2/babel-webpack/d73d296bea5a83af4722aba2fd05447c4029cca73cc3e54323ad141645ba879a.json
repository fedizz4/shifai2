{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _MedicamentFormComponent;\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./medicament-form.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./medicament-form.component.scss?ngResource\";\n// Importations inchangées...\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule, ModalController, ToastController } from '@ionic/angular';\nimport { AddMedicament, app } from 'src/firebaseConfig';\nimport { Component, NgModule } from '@angular/core';\nimport { inscritUid } from 'src/app/login/login.page';\nimport { EventService } from 'src/app/event.service';\nlet MedicamentFormComponent = (_MedicamentFormComponent = class MedicamentFormComponent {\n  constructor(firestore, toastController, modalController, eventService) {\n    this.firestore = firestore;\n    this.toastController = toastController;\n    this.modalController = modalController;\n    this.eventService = eventService;\n    this.uid = inscritUid;\n    this.nom = '';\n    this.dosage = 0;\n    this.prises = [{\n      label: 'Matin',\n      checked: false\n    }, {\n      label: 'Midi',\n      checked: false\n    }, {\n      label: 'Soir',\n      checked: false\n    }];\n  }\n  presentToast(message) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const toast = yield _this.toastController.create({\n        message: message,\n        duration: 3000,\n        position: 'bottom'\n      });\n      toast.present();\n    })();\n  }\n  addMedicament() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (typeof _this2.uid === 'string') {\n          yield AddMedicament(_this2.firestore, app, _this2.nom, _this2.dosage, _this2.prises, _this2.uid);\n          // Déclencher l'événement de mise à jour des médicaments\n          _this2.eventService.triggerMedicamentUpdated();\n          _this2.presentToast('Médicament ajouté avec succès!');\n          // Réinitialisez les valeurs du formulaire après l'ajout réussi\n          _this2.nom = '';\n          _this2.dosage = 0;\n          _this2.prises = [{\n            label: 'Matin',\n            checked: false\n          }, {\n            label: 'Midi',\n            checked: false\n          }, {\n            label: 'Soir',\n            checked: false\n          }];\n          _this2.modalController.dismiss();\n        } else {\n          console.log('uid non string');\n        }\n      } catch (error) {\n        console.log('Erreur lors de l\\'ajout du médicament:', error);\n      }\n    })();\n  }\n}, _MedicamentFormComponent.ctorParameters = () => [{\n  type: AngularFirestore\n}, {\n  type: ToastController\n}, {\n  type: ModalController\n}, {\n  type: EventService\n}], _MedicamentFormComponent);\nMedicamentFormComponent = __decorate([Component({\n  selector: 'app-medicament-form',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], MedicamentFormComponent);\nexport { MedicamentFormComponent };\nlet MedicamentFormModule = class MedicamentFormModule {};\nMedicamentFormModule = __decorate([NgModule({\n  declarations: [MedicamentFormComponent],\n  imports: [CommonModule, FormsModule, IonicModule],\n  exports: [MedicamentFormComponent],\n  providers: [AngularFirestore]\n})], MedicamentFormModule);\nexport { MedicamentFormModule };","map":{"version":3,"names":["AngularFirestore","CommonModule","FormsModule","IonicModule","ModalController","ToastController","AddMedicament","app","Component","NgModule","inscritUid","EventService","MedicamentFormComponent","_MedicamentFormComponent","constructor","firestore","toastController","modalController","eventService","uid","nom","dosage","prises","label","checked","presentToast","message","_this","_asyncToGenerator","toast","create","duration","position","present","addMedicament","_this2","triggerMedicamentUpdated","dismiss","console","log","error","__decorate","selector","template","__NG_CLI_RESOURCE__0","MedicamentFormModule","declarations","imports","exports","providers"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\medicament\\medicament-form\\medicament-form.component.ts"],"sourcesContent":["// Importations inchangées...\r\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\r\nimport { AngularFireModule } from '@angular/fire/compat';\r\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\r\nimport { AngularFireStorage } from '@angular/fire/compat/storage';\r\nimport { AngularFireDatabase } from '@angular/fire/compat/database';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule, ModalController, ToastController } from '@ionic/angular';\r\nimport { AddMedicament , app } from  'src/firebaseConfig';\r\nimport { Component, NgModule } from '@angular/core';\r\nimport { inscritUid } from 'src/app/login/login.page';\r\nimport { EventService } from 'src/app/event.service';\r\n\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-medicament-form',\r\n  templateUrl: 'medicament-form.component.html',\r\n  styleUrls: ['medicament-form.component.scss']\r\n})\r\n\r\n\r\n\r\n\r\nexport class MedicamentFormComponent {\r\n\r\n    uid = inscritUid;\r\n    nom= '';\r\n    dosage= 0;\r\n    prises = [{ label: 'Matin', checked: false },{ label: 'Midi', checked: false },{ label: 'Soir', checked: false }];\r\n\r\n    \r\n\r\n  constructor(private firestore: AngularFirestore, private toastController: ToastController, private modalController: ModalController, private eventService: EventService) {}\r\n\r\n  async presentToast(message: string) {\r\n    const toast = await this.toastController.create({\r\n      message: message,\r\n      duration: 3000,\r\n      position: 'bottom',\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async addMedicament() {\r\n    try {\r\n      if (typeof this.uid === 'string') {\r\n      await AddMedicament(this.firestore, app, this.nom, this.dosage, this.prises, this.uid);\r\n       // Déclencher l'événement de mise à jour des médicaments\r\n       this.eventService.triggerMedicamentUpdated();\r\n      this.presentToast('Médicament ajouté avec succès!');\r\n      // Réinitialisez les valeurs du formulaire après l'ajout réussi\r\n      this.nom = '';\r\n      this.dosage = 0;\r\n      this.prises = [\r\n        { label: 'Matin', checked: false },\r\n        { label: 'Midi', checked: false },\r\n        { label: 'Soir', checked: false }\r\n      ];\r\n      this.modalController.dismiss();\r\n    }else{\r\n      console.log('uid non string');\r\n    }\r\n    } catch (error) {\r\n      console.log('Erreur lors de l\\'ajout du médicament:', error);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// Dans un fichier approprié, par exemple medicament.model.ts\r\nexport interface Medicament {\r\n  nom: string;\r\n  dosage: number;\r\n  prise: { label: string; checked: boolean }[];\r\n}\r\n\r\n\r\n@NgModule({\r\n  declarations: [MedicamentFormComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n  ],\r\n  exports: [MedicamentFormComponent],\r\n  providers: [AngularFirestore],\r\n})\r\nexport class MedicamentFormModule {}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}