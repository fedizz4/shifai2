{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { TestBed, fakeAsync, tick, waitForAsync } from '@angular/core/testing';\nimport { AjoutMedecinPage } from './ajout-medecin.page';\nimport { AngularFirestore } from '@angular/fire/compat/firestore'; // Importez AngularFirestore\nimport { NavController, ToastController } from '@ionic/angular';\ndescribe('AjoutMedecinPage', () => {\n  let component;\n  let fixture;\n  let fakeFirestore;\n  let fakeToastController; // Définissez le type correct pour le ToastController simulé\n  beforeEach(waitForAsync(() => {\n    TestBed.configureTestingModule({\n      declarations: [AjoutMedecinPage],\n      providers: [AngularFirestore, NavController, ToastController] // Ajoutez les services nécessaires ici le cas échéant\n    }).compileComponents().then(() => {\n      fixture = TestBed.createComponent(AjoutMedecinPage);\n      component = fixture.componentInstance;\n      // Créez un fake AngularFirestore pour les tests\n      fakeFirestore = TestBed.inject(AngularFirestore);\n      // Créez un fake ToastController pour les tests\n      fakeToastController = jasmine.createSpyObj('ToastController', ['create', 'present']); // Créez un faux objet ToastController\n      component.setToastController(fakeToastController);\n      fixture.detectChanges();\n    });\n  }));\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n  it('should fetch medecins successfully', fakeAsync(() => {\n    component.etat = 'Beja';\n    component.specialite = \"Médecine générale\";\n    component.fetchMedecins(); // Appel de la méthode asynchrone directement\n    tick(); // Avance dans le temps pour exécuter les tâches asynchrones\n    expect(component.medecins.length).toBeGreaterThan(0);\n  }));\n  it('should add medecin for patient successfully', fakeAsync(() => {\n    const fakeMedecin = {\n      uid: '',\n      nom: '',\n      prenom: '',\n      sexe: '',\n      email: '',\n      password: '',\n      date: '',\n      delegation: '',\n      etat: '',\n      specialite: '',\n      telephone: ''\n    };\n    component.AddMedecinforpatient(fakeMedecin); // Appel de la méthode asynchrone directement\n    tick(); // Avance dans le temps pour exécuter les tâches asynchrones\n    expect(fakeToastController.create).toHaveBeenCalled();\n    expect(console.log).toHaveBeenCalledWith('ajout avec succes');\n  }));\n  it('should add medecin for patient successfully', waitForAsync( /*#__PURE__*/_asyncToGenerator(function* () {\n    const fakeMedecin = {\n      uid: 'fake-uid',\n      nom: 'Dr. John Doe',\n      prenom: 'Jane',\n      sexe: 'Masculin',\n      email: 'john.doe@example.com',\n      password: '123456',\n      date: '01/01/1990',\n      delegation: 'Tunis',\n      etat: 'Tunis',\n      specialite: 'Cardiologie',\n      telephone: '1234567890'\n    };\n    yield component.AddMedecinforpatient(fakeMedecin);\n    expect(fakeToastController.create).toHaveBeenCalled(); // Vérifie que la méthode create du ToastController simulé a été appelée\n    expect(console.log).toHaveBeenCalledWith('ajout avec succes');\n  })));\n});","map":{"version":3,"names":["TestBed","fakeAsync","tick","waitForAsync","AjoutMedecinPage","AngularFirestore","NavController","ToastController","describe","component","fixture","fakeFirestore","fakeToastController","beforeEach","configureTestingModule","declarations","providers","compileComponents","then","createComponent","componentInstance","inject","jasmine","createSpyObj","setToastController","detectChanges","it","expect","toBeTruthy","etat","specialite","fetchMedecins","medecins","length","toBeGreaterThan","fakeMedecin","uid","nom","prenom","sexe","email","password","date","delegation","telephone","AddMedecinforpatient","create","toHaveBeenCalled","console","log","toHaveBeenCalledWith","_asyncToGenerator"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\ajout-medecin\\ajout-medecin.page.spec.ts"],"sourcesContent":["import { ComponentFixture, TestBed, fakeAsync, tick, waitForAsync } from '@angular/core/testing';\nimport { AjoutMedecinPage, MedecinData } from './ajout-medecin.page';\nimport { AngularFirestore } from '@angular/fire/compat/firestore'; // Importez AngularFirestore\nimport { NavController, ToastController } from '@ionic/angular';\n\ndescribe('AjoutMedecinPage', () => {\n  let component: AjoutMedecinPage;\n  let fixture: ComponentFixture<AjoutMedecinPage>;\n  let fakeFirestore: AngularFirestore;\n  let fakeToastController: any; // Définissez le type correct pour le ToastController simulé\n\n  beforeEach(waitForAsync(() => {\n    TestBed.configureTestingModule({\n      declarations: [AjoutMedecinPage],\n      providers: [AngularFirestore, NavController, ToastController], // Ajoutez les services nécessaires ici le cas échéant\n    }).compileComponents().then(() => {\n      fixture = TestBed.createComponent(AjoutMedecinPage);\n      component = fixture.componentInstance;\n\n      // Créez un fake AngularFirestore pour les tests\n      fakeFirestore = TestBed.inject(AngularFirestore);\n\n      // Créez un fake ToastController pour les tests\n      fakeToastController = jasmine.createSpyObj('ToastController', ['create', 'present']); // Créez un faux objet ToastController\n      component.setToastController(fakeToastController);\n\n      fixture.detectChanges();\n    });\n  }));\n\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n\n  it('should fetch medecins successfully', fakeAsync(() => {\n    component.etat = 'Beja';\n    component.specialite = \"Médecine générale\"    ;\n    component.fetchMedecins(); // Appel de la méthode asynchrone directement\n    tick(); // Avance dans le temps pour exécuter les tâches asynchrones\n    expect(component.medecins.length).toBeGreaterThan(0);\n  }));\n  \n  it('should add medecin for patient successfully', fakeAsync(() => {\n    const fakeMedecin: MedecinData = {\n      uid: '',\n      nom: '',\n      prenom: '',\n      sexe: '',\n      email: '',\n      password: '',\n      date: '',\n      delegation: '',\n      etat: '',\n      specialite: '',\n      telephone: ''\n    };\n    component.AddMedecinforpatient(fakeMedecin); // Appel de la méthode asynchrone directement\n    tick(); // Avance dans le temps pour exécuter les tâches asynchrones\n    expect(fakeToastController.create).toHaveBeenCalled();\n    expect(console.log).toHaveBeenCalledWith('ajout avec succes');\n  }));\n\n  it('should add medecin for patient successfully', waitForAsync(async () => {\n    const fakeMedecin: MedecinData = {\n      uid: 'fake-uid',\n      nom: 'Dr. John Doe',\n      prenom: 'Jane',\n      sexe: 'Masculin',\n      email: 'john.doe@example.com',\n      password: '123456',\n      date: '01/01/1990',\n      delegation: 'Tunis',\n      etat: 'Tunis',\n      specialite: 'Cardiologie',\n      telephone: '1234567890',\n    };\n    await component.AddMedecinforpatient(fakeMedecin);\n    expect(fakeToastController.create).toHaveBeenCalled(); // Vérifie que la méthode create du ToastController simulé a été appelée\n    expect(console.log).toHaveBeenCalledWith('ajout avec succes');\n  }));\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}