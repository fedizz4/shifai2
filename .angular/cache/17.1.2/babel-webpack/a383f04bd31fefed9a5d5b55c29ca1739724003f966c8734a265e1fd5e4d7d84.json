{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _ProfilPage;\nimport { inscritUid } from 'src/app/login/login.page';\nimport { getInscritByUid1 } from 'src/firebaseConfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/router\";\nexport class ProfilPage {\n  constructor(firestore) {\n    this.firestore = firestore;\n    this.uid = inscritUid;\n    this.familyName = \"\";\n    this.name = \"\";\n    this.email = \"\";\n    this.password = \"\";\n    this.date = \"\";\n    this.sexe = \"\";\n    this.formulaireActif = false; // Indicateur pour activer/désactiver le formulaire\n  }\n  ngOnInit() {\n    this.fetchInscrit();\n  }\n  fetchInscrit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        _this.inscrit = yield getInscritByUid1(_this.firestore, inscritUid);\n        console.log('Inscrit récupéré :', _this.inscrit);\n        if (_this.inscrit) {\n          // Mettez à jour les champs du formulaire avec les données récupérées de l'inscrit\n          _this.familyName = _this.inscrit.familyName;\n          _this.name = _this.inscrit.name;\n          _this.email = _this.inscrit.email;\n          _this.password = _this.inscrit.password;\n          _this.date = _this.inscrit.date;\n          _this.sexe = _this.inscrit.sexe;\n        } else {\n          console.error('Aucun inscrit trouvé pour cet UID :', inscritUid);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la récupération de l\\'inscrit :', error);\n      }\n    })();\n  }\n  activerFormulaire() {\n    this.formulaireActif = true; // Active le formulaire pour les modifications\n  }\n  enregistrerDonneesInscrit() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        // Vérifiez que inscrit n'est pas null avant de tenter la mise à jour\n        if (_this2.inscrit) {\n          const inscritModifie = {\n            familyName: _this2.familyName,\n            name: _this2.name,\n            email: _this2.email,\n            password: _this2.password,\n            date: _this2.date,\n            sexe: _this2.sexe\n            // Ajoutez d'autres champs si nécessaire\n          };\n          yield _this2.firestore.collection('inscrit').doc(inscritUid).update(inscritModifie);\n          console.log('Données de l\\'inscrit mises à jour avec succès dans Firebase.');\n          _this2.formulaireActif = false; // Désactivez le formulaire après la mise à jour\n        } else {\n          console.error('Aucun inscrit trouvé pour la mise à jour.');\n        }\n      } catch (error) {\n        console.error('Erreur lors de la mise à jour des données de l\\'inscrit dans Firebase :', error);\n      }\n    })();\n  }\n}\n_ProfilPage = ProfilPage;\n_ProfilPage.ɵfac = function ProfilPage_Factory(t) {\n  return new (t || _ProfilPage)(i0.ɵɵdirectiveInject(i1.AngularFirestore));\n};\n_ProfilPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _ProfilPage,\n  selectors: [[\"app-profil\"]],\n  decls: 48,\n  vars: 15,\n  consts: [[3, \"translucent\"], [\"routerLink\", \"/tabs/tab1\", \"fill\", \"clear\", \"slot\", \"start\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [\"medecinForm\", \"ngForm\"], [\"position\", \"floating\"], [\"type\", \"text\", \"name\", \"name\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"familyName\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"email\", \"name\", \"email\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"date\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"name\", \"sexe\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"value\", \"homme\"], [\"value\", \"femme\"], [\"expand\", \"block\", \"color\", \"primary\", 3, \"click\"], [\"expand\", \"block\", \"color\", \"success\", \"type\", \"submit\", 3, \"disabled\", \"click\"]],\n  template: function ProfilPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-button\", 1);\n      i0.ɵɵtext(3, \" Retour\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-title\");\n      i0.ɵɵtext(5, \"Profil\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"ion-content\", 2)(7, \"ion-header\", 3)(8, \"ion-toolbar\")(9, \"ion-title\", 4);\n      i0.ɵɵtext(10, \"Profil\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"form\", null, 5)(13, \"ion-item\")(14, \"ion-label\", 6);\n      i0.ɵɵtext(15, \"Pr\\u00E9nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"ion-input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_input_ngModelChange_16_listener($event) {\n        return ctx.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"ion-item\")(18, \"ion-label\", 6);\n      i0.ɵɵtext(19, \"Nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"ion-input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_input_ngModelChange_20_listener($event) {\n        return ctx.familyName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"ion-item\")(22, \"ion-label\", 6);\n      i0.ɵɵtext(23, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"ion-input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_input_ngModelChange_24_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"ion-item\")(26, \"ion-label\", 6);\n      i0.ɵɵtext(27, \"Mot de passe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"ion-input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_input_ngModelChange_28_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"ion-item\")(30, \"ion-label\", 6);\n      i0.ɵɵtext(31, \"Date de naissance\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"ion-input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_input_ngModelChange_32_listener($event) {\n        return ctx.date = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"ion-item\")(34, \"ion-label\", 6);\n      i0.ɵɵtext(35, \"Sexe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"ion-select\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilPage_Template_ion_select_ngModelChange_36_listener($event) {\n        return ctx.sexe = $event;\n      });\n      i0.ɵɵelementStart(37, \"ion-select-option\", 13);\n      i0.ɵɵtext(38, \"Homme\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"ion-select-option\", 14);\n      i0.ɵɵtext(40, \"Femme\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(41, \"ion-row\")(42, \"ion-col\")(43, \"ion-button\", 15);\n      i0.ɵɵlistener(\"click\", function ProfilPage_Template_ion_button_click_43_listener() {\n        return ctx.activerFormulaire();\n      });\n      i0.ɵɵtext(44, \"Modifier\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(45, \"ion-col\")(46, \"ion-button\", 16);\n      i0.ɵɵlistener(\"click\", function ProfilPage_Template_ion_button_click_46_listener() {\n        return ctx.enregistrerDonneesInscrit();\n      });\n      i0.ɵɵtext(47, \"Enregistrer\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.name)(\"disabled\", !ctx.formulaireActif);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.familyName)(\"disabled\", !ctx.formulaireActif);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.email)(\"disabled\", !ctx.formulaireActif);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password)(\"disabled\", !ctx.formulaireActif);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.date)(\"disabled\", !ctx.formulaireActif);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.sexe)(\"disabled\", !ctx.formulaireActif);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"disabled\", !ctx.formulaireActif);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm, i3.IonButton, i3.IonCol, i3.IonContent, i3.IonHeader, i3.IonInput, i3.IonItem, i3.IonLabel, i3.IonRow, i3.IonSelect, i3.IonSelectOption, i3.IonTitle, i3.IonToolbar, i3.SelectValueAccessor, i3.TextValueAccessor, i3.RouterLinkDelegate, i4.RouterLink],\n  styles: [\".header[_ngcontent-%COMP%] {\\n  height: 180px;\\n  background-color: #E97712;\\n  width: 100%;\\n  padding-top: 1px;\\n}\\n\\n.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  color: white;\\n  text-align: center;\\n  font-weight: bold;\\n}\\n\\n.space-between[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 10px 10px 0px 10px;\\n}\\n\\n.followings[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\n.followings[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  color: white;\\n  margin: 8px 0px 0px 0px;\\n}\\n\\n.img-box[_ngcontent-%COMP%] {\\n  border-radius: 50%;\\n  overflow: hidden;\\n  height: 130px;\\n  width: 130px;\\n}\\n\\n.border-white[_ngcontent-%COMP%] {\\n  border: white solid 4px;\\n  border-radius: 50%;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\n\\n.border-blue[_ngcontent-%COMP%] {\\n  border: 7px solid #006bbf;\\n  border-radius: 50%;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\n\\n.flex[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  margin-top: -76px;\\n}\\n\\n.ion-color-orange-new[_ngcontent-%COMP%] {\\n  --ion-color-base: var(--ion-color-orange-new);\\n  --ion-color-base-rgb: var(--ion-color-orange-new-rgb);\\n  --ion-color-contrast: var(--ion-color-orange-new-contrast);\\n  --ion-color-contrast-rgb: var(--ion-color-orange-new-contrast-rgb);\\n  --ion-color-shade: var(--ion-color-orange-new-shade);\\n  --ion-color-tint: var(--ion-color-orange-new-tint);\\n}\\n\\n.circle[_ngcontent-%COMP%] {\\n  width: 130px;\\n  height: 130px;\\n  border-radius: 50% 50% 50% 50%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZmlsL3Byb2ZpbC5wYWdlLnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi8uLi9NYWNCb29rJTIwQWlyL0Rlc2t0b3Avc2hpZmFpMVZWL3NyYy9hcHAvcHJvZmlsL3Byb2ZpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURDQTtFQUNJLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FDRUo7O0FEQUE7RUFDSSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSwyQkFBQTtBQ0dKOztBRERBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7QUNJSjs7QURGQTtFQUNJLFlBQUE7RUFDQSx1QkFBQTtBQ0tKOztBREhBO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0FDTUo7O0FESkE7RUFDSSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7RUFBQSxrQkFBQTtBQ09KOztBRExBO0VBQ0kseUJBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0VBQUEsa0JBQUE7QUNRSjs7QUROQTtFQUNJLGFBQUE7RUFDQSx1QkFBQTtFQUNBLGlCQUFBO0FDU0o7O0FEUEE7RUFDQyw2Q0FBQTtFQUNBLHFEQUFBO0VBQ0EsMERBQUE7RUFDQSxrRUFBQTtFQUNBLG9EQUFBO0VBQ0Esa0RBQUE7QUNVRDs7QURSQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7QUNXSiIsInNvdXJjZXNDb250ZW50IjpbIi5oZWFkZXIge1xyXG4gICAgaGVpZ2h0OiAxODBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNFOTc3MTI7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmctdG9wOiAxcHg7XHJcbn1cclxuLmhlYWRlciBoMiB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG4uc3BhY2UtYmV0d2VlbiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgcGFkZGluZzogMTBweCAxMHB4IDBweCAxMHB4O1xyXG59XHJcbi5mb2xsb3dpbmdzIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG4uZm9sbG93aW5ncyBwIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIG1hcmdpbjogOHB4IDBweCAwcHggMHB4O1xyXG59XHJcbi5pbWctYm94IHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBoZWlnaHQ6IDEzMHB4O1xyXG4gICAgd2lkdGg6IDEzMHB4O1xyXG59XHJcbi5ib3JkZXItd2hpdGUge1xyXG4gICAgYm9yZGVyOiB3aGl0ZSBzb2xpZCA0cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbn1cclxuLmJvcmRlci1ibHVlIHtcclxuICAgIGJvcmRlcjogN3B4IHNvbGlkICMwMDZiYmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbn1cclxuLmZsZXgge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogLTc2cHg7XHJcbn1cclxuLmlvbi1jb2xvci1vcmFuZ2UtbmV3IHtcclxuXHQtLWlvbi1jb2xvci1iYXNlOiB2YXIoLS1pb24tY29sb3Itb3JhbmdlLW5ldyk7XHJcblx0LS1pb24tY29sb3ItYmFzZS1yZ2I6IHZhcigtLWlvbi1jb2xvci1vcmFuZ2UtbmV3LXJnYik7XHJcblx0LS1pb24tY29sb3ItY29udHJhc3Q6IHZhcigtLWlvbi1jb2xvci1vcmFuZ2UtbmV3LWNvbnRyYXN0KTtcclxuXHQtLWlvbi1jb2xvci1jb250cmFzdC1yZ2I6IHZhcigtLWlvbi1jb2xvci1vcmFuZ2UtbmV3LWNvbnRyYXN0LXJnYik7XHJcblx0LS1pb24tY29sb3Itc2hhZGU6IHZhcigtLWlvbi1jb2xvci1vcmFuZ2UtbmV3LXNoYWRlKTtcclxuXHQtLWlvbi1jb2xvci10aW50OiB2YXIoLS1pb24tY29sb3Itb3JhbmdlLW5ldy10aW50KTtcclxufVxyXG4uY2lyY2xle1xyXG4gICAgd2lkdGg6IDEzMHB4O1xyXG4gICAgaGVpZ2h0OiAxMzBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJSA1MCUgNTAlIDUwJTtcclxuICB9IiwiLmhlYWRlciB7XG4gIGhlaWdodDogMTgwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNFOTc3MTI7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nLXRvcDogMXB4O1xufVxuXG4uaGVhZGVyIGgyIHtcbiAgY29sb3I6IHdoaXRlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uc3BhY2UtYmV0d2VlbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgcGFkZGluZzogMTBweCAxMHB4IDBweCAxMHB4O1xufVxuXG4uZm9sbG93aW5ncyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5mb2xsb3dpbmdzIHAge1xuICBjb2xvcjogd2hpdGU7XG4gIG1hcmdpbjogOHB4IDBweCAwcHggMHB4O1xufVxuXG4uaW1nLWJveCB7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgaGVpZ2h0OiAxMzBweDtcbiAgd2lkdGg6IDEzMHB4O1xufVxuXG4uYm9yZGVyLXdoaXRlIHtcbiAgYm9yZGVyOiB3aGl0ZSBzb2xpZCA0cHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xufVxuXG4uYm9yZGVyLWJsdWUge1xuICBib3JkZXI6IDdweCBzb2xpZCAjMDA2YmJmO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHdpZHRoOiBmaXQtY29udGVudDtcbn1cblxuLmZsZXgge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogLTc2cHg7XG59XG5cbi5pb24tY29sb3Itb3JhbmdlLW5ldyB7XG4gIC0taW9uLWNvbG9yLWJhc2U6IHZhcigtLWlvbi1jb2xvci1vcmFuZ2UtbmV3KTtcbiAgLS1pb24tY29sb3ItYmFzZS1yZ2I6IHZhcigtLWlvbi1jb2xvci1vcmFuZ2UtbmV3LXJnYik7XG4gIC0taW9uLWNvbG9yLWNvbnRyYXN0OiB2YXIoLS1pb24tY29sb3Itb3JhbmdlLW5ldy1jb250cmFzdCk7XG4gIC0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYjogdmFyKC0taW9uLWNvbG9yLW9yYW5nZS1uZXctY29udHJhc3QtcmdiKTtcbiAgLS1pb24tY29sb3Itc2hhZGU6IHZhcigtLWlvbi1jb2xvci1vcmFuZ2UtbmV3LXNoYWRlKTtcbiAgLS1pb24tY29sb3ItdGludDogdmFyKC0taW9uLWNvbG9yLW9yYW5nZS1uZXctdGludCk7XG59XG5cbi5jaXJjbGUge1xuICB3aWR0aDogMTMwcHg7XG4gIGhlaWdodDogMTMwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJSA1MCUgNTAlIDUwJTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["inscritUid","getInscritByUid1","ProfilPage","constructor","firestore","uid","familyName","name","email","password","date","sexe","formulaireActif","ngOnInit","fetchInscrit","_this","_asyncToGenerator","inscrit","console","log","error","activerFormulaire","enregistrerDonneesInscrit","_this2","inscritModifie","collection","doc","update","i0","ɵɵdirectiveInject","i1","AngularFirestore","selectors","decls","vars","consts","template","ProfilPage_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ProfilPage_Template_ion_input_ngModelChange_16_listener","$event","ProfilPage_Template_ion_input_ngModelChange_20_listener","ProfilPage_Template_ion_input_ngModelChange_24_listener","ProfilPage_Template_ion_input_ngModelChange_28_listener","ProfilPage_Template_ion_input_ngModelChange_32_listener","ProfilPage_Template_ion_select_ngModelChange_36_listener","ProfilPage_Template_ion_button_click_43_listener","ProfilPage_Template_ion_button_click_46_listener","ɵɵproperty","ɵɵadvance"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\profil\\profil.page.ts","C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\profil\\profil.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { inscritUid } from 'src/app/login/login.page';\nimport { getInscritByUid1 } from 'src/firebaseConfig';\n\ninterface Inscrit {\n  familyName: string;\n  name: string;\n  email: string;\n  password: string;\n  date: string;\n  sexe: string;\n}\n\n\n@Component({\n  selector: 'app-profil',\n  templateUrl: './profil.page.html',\n  styleUrls: ['./profil.page.scss'],\n})\nexport class ProfilPage implements OnInit {\n\n  uid=inscritUid;\n\n\n  familyName: string=\"\";\n  name: string=\"\";\n  email: string=\"\";\n  password: string=\"\";\n  date: string=\"\";\n  sexe: string=\"\";\n \n  inscrit: Inscrit | null | undefined;\n\n  formulaireActif: boolean = false; // Indicateur pour activer/désactiver le formulaire\n  constructor(private firestore: AngularFirestore) { }\n\n  ngOnInit() {\n    this.fetchInscrit();\n  }\n\n  async fetchInscrit() {\n    try {\n\n      \n      this.inscrit = await getInscritByUid1(this.firestore, inscritUid);\n      console.log('Inscrit récupéré :', this.inscrit);\n      if (this.inscrit) {\n        // Mettez à jour les champs du formulaire avec les données récupérées de l'inscrit\n        this.familyName = this.inscrit.familyName;\n        this.name = this.inscrit.name;\n        this.email = this.inscrit.email;\n        this.password = this.inscrit.password;\n        this.date = this.inscrit.date;\n        this.sexe = this.inscrit.sexe;\n      } else {\n        console.error('Aucun inscrit trouvé pour cet UID :', inscritUid);\n      }\n    } catch (error) {\n      console.error('Erreur lors de la récupération de l\\'inscrit :', error);\n    }\n  }\n  \n  \n  activerFormulaire() {\n    this.formulaireActif = true; // Active le formulaire pour les modifications\n  }\n\n  async enregistrerDonneesInscrit() {\n    try {\n      // Vérifiez que inscrit n'est pas null avant de tenter la mise à jour\n      if (this.inscrit) {\n        const inscritModifie = {\n          familyName: this.familyName,\n          name: this.name,\n          email: this.email,\n          password: this.password,\n          date: this.date,\n          sexe: this.sexe\n          // Ajoutez d'autres champs si nécessaire\n        };\n  \n        await this.firestore.collection('inscrit').doc(inscritUid).update(inscritModifie);\n        console.log('Données de l\\'inscrit mises à jour avec succès dans Firebase.');\n        this.formulaireActif = false; // Désactivez le formulaire après la mise à jour\n      } else {\n        console.error('Aucun inscrit trouvé pour la mise à jour.');\n      }\n    } catch (error) {\n      console.error('Erreur lors de la mise à jour des données de l\\'inscrit dans Firebase :', error);\n    }\n  }\n  \n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-button routerLink=\"/tabs/tab1\" fill=\"clear\" slot=\"start\"> Retour</ion-button>\n    <ion-title>Profil</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n  <ion-header collapse=\"condense\">\n    <ion-toolbar>\n      <ion-title size=\"large\">Profil</ion-title>\n    </ion-toolbar>\n  </ion-header>\n\n\n\n  \n      <form #medecinForm=\"ngForm\" >\n        <ion-item>\n          <ion-label position=\"floating\">Prénom</ion-label>\n          <ion-input type=\"text\" [(ngModel)]=\"name\" name=\"name\" [disabled]=\"!formulaireActif\"></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-label position=\"floating\">Nom</ion-label>\n          <ion-input type=\"text\" [(ngModel)]=\"familyName\" name=\"familyName\" [disabled]=\"!formulaireActif\"></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-label position=\"floating\">Email</ion-label>\n          <ion-input type=\"email\" [(ngModel)]=\"email\" name=\"email\" [disabled]=\"!formulaireActif\"></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-label position=\"floating\">Mot de passe</ion-label>\n          <ion-input type=\"password\" [(ngModel)]=\"password\" name=\"password\" [disabled]=\"!formulaireActif\"></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-label position=\"floating\">Date de naissance</ion-label>\n          <ion-input type=\"date\" [(ngModel)]=\"date\" name=\"date\" [disabled]=\"!formulaireActif\"></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-label position=\"floating\">Sexe</ion-label>\n          <ion-select [(ngModel)]=\"sexe\" name=\"sexe\" [disabled]=\"!formulaireActif\">\n            <ion-select-option value=\"homme\">Homme</ion-select-option>\n            <ion-select-option value=\"femme\">Femme</ion-select-option>\n          </ion-select>\n        </ion-item>\n       \n        \n        <ion-row>\n          <ion-col>\n            <ion-button expand=\"block\" color=\"primary\" (click)=\"activerFormulaire()\">Modifier</ion-button>\n          </ion-col>\n          <ion-col>\n            <ion-button expand=\"block\" color=\"success\" type=\"submit\" [disabled]=\"!formulaireActif\" (click)=\"enregistrerDonneesInscrit()\">Enregistrer</ion-button>\n          </ion-col>\n        </ion-row>\n      </form>\n\n\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}