{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/ionic-TP/shifai1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { AddMedecin } from 'src/firebaseConfig'; // Assurez-vous d'importer AddMedecin correctement\nlet SignupMedecinPage = class SignupMedecinPage {\n  constructor(firestore, storage, toastController) {\n    this.firestore = firestore;\n    this.storage = storage;\n    this.toastController = toastController;\n    this.selectedFile = null;\n    this.selectedFileUrl = null;\n    this.selectedState = null;\n    this.selectedDelegation = null;\n    this.familyName = \"\";\n    this.name = \"\";\n    this.email = \"\";\n    this.password = \"\";\n    this.date = \"\";\n    this.sexe = \"\";\n    this.localisation = \"\";\n    this.specialite = \"\";\n    this.role = \"medecin\";\n    this.telephone = \"\";\n  }\n  onStateChange() {\n    // Réinitialiser la délégation sélectionnée lorsque l'état change\n    this.selectedDelegation = null;\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      this.selectedFile = file;\n      this.selectedFileUrl = URL.createObjectURL(this.selectedFile); // Obtenez l'URL de l'image sélectionnée\n      console.log(\"url image\", this.selectedFileUrl);\n    }\n  }\n  presentToast(message) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const toast = yield _this.toastController.create({\n        message: message,\n        duration: 3000,\n        position: 'bottom'\n      });\n      toast.present();\n    })();\n  }\n  ngOnInit() {}\n  AddUser() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const file = _this2.selectedFile;\n        yield AddMedecin(_this2.firestore, _this2.storage, _this2.familyName, _this2.name, _this2.email, _this2.password, _this2.date, _this2.sexe, _this2.role, _this2.specialite, _this2.localisation, _this2.telephone, file);\n        _this2.presentToast('Registration successful!');\n        _this2.resetForm(); // Réinitialiser le formulaire après l'ajout réussi\n      } catch (error) {\n        console.log('Error during registration:', error);\n        _this2.presentToast('Error during registration.');\n      }\n    })();\n  }\n  resetForm() {\n    this.familyName = '';\n    this.name = '';\n    this.email = '';\n    this.password = '';\n    this.localisation = '';\n    this.specialite = '';\n    this.date = '';\n    this.sexe = '';\n    this.telephone = '';\n    this.selectedFile = null;\n  }\n};\nSignupMedecinPage = __decorate([Component({\n  selector: 'app-signup-medecin',\n  templateUrl: './signup-medecin.page.html',\n  styleUrls: ['./signup-medecin.page.scss']\n})], SignupMedecinPage);\nexport { SignupMedecinPage };","map":{"version":3,"names":["Component","AddMedecin","SignupMedecinPage","constructor","firestore","storage","toastController","selectedFile","selectedFileUrl","selectedState","selectedDelegation","familyName","name","email","password","date","sexe","localisation","specialite","role","telephone","onStateChange","onFileSelected","event","file","target","files","URL","createObjectURL","console","log","presentToast","message","_this","_asyncToGenerator","toast","create","duration","position","present","ngOnInit","AddUser","_this2","resetForm","error","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\MacBook Air\\ionic-TP\\shifai1\\src\\app\\signup-medecin\\signup-medecin.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFireStorage } from '@angular/fire/compat/storage';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { ToastController } from '@ionic/angular';\nimport { AddMedecin } from  'src/firebaseConfig'; // Assurez-vous d'importer AddMedecin correctement\n\n@Component({\n  selector: 'app-signup-medecin',\n  templateUrl: './signup-medecin.page.html',\n  styleUrls: ['./signup-medecin.page.scss'],\n})\nexport class SignupMedecinPage implements OnInit {\n \n  selectedFile: File | null = null;\n  selectedFileUrl: string | null = null;\n\n  selectedState: string | null = null;\n  selectedDelegation: string | null = null;\n\n\n  \n\n\n  \n\n\n\n\n  familyName = \"\";\n  name = \"\";\n  email = \"\";\n  password = \"\";\n  date = \"\";\n  sexe = \"\";\n  localisation = \"\";\n  specialite = \"\";\n  role = \"medecin\";\n  telephone = \"\";\n\n  constructor(\n    private firestore: AngularFirestore,\n    private storage: AngularFireStorage,\n    private toastController: ToastController\n  ) { }\n\n  onStateChange() {\n    // Réinitialiser la délégation sélectionnée lorsque l'état change\n    this.selectedDelegation = null;\n  }\n\n  onFileSelected(event: any) {\n    const file: File | null = event.target.files[0];\n    if (file) {\n      this.selectedFile = file;\n      this.selectedFileUrl = URL.createObjectURL(this.selectedFile); // Obtenez l'URL de l'image sélectionnée\n      console.log(\"url image\", this.selectedFileUrl);\n    }\n  }\n\n  async presentToast(message: string) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 3000,\n      position: 'bottom',\n    });\n    toast.present();\n  }\n\n  ngOnInit() {}\n\n  async AddUser() {\n    try {\n      const file = this.selectedFile;\n      await AddMedecin(\n        this.firestore,\n        this.storage,\n        this.familyName,\n        this.name,\n        this.email,\n        this.password,\n        this.date,\n        this.sexe,\n        this.role,\n        this.specialite,\n        this.localisation,\n        this.telephone,\n        file\n      );\n      this.presentToast('Registration successful!');\n      this.resetForm(); // Réinitialiser le formulaire après l'ajout réussi\n    } catch(error) {\n      console.log('Error during registration:', error);\n      this.presentToast('Error during registration.');\n    }\n  }\n\n  resetForm() {\n    this.familyName = '';\n    this.name = '';\n    this.email = '';\n    this.password = '';\n    this.localisation = '';\n    this.specialite = '';\n    this.date = '';\n    this.sexe = '';\n    this.telephone = '';\n    this.selectedFile = null;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}