{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { getConsultations } from 'src/firebaseConfig';\nimport { patientUidA } from '../patient/patient.page';\nimport { medecinUid } from 'src/firebaseConfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction ConsultationlistePage_ion_item_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-button\", 5);\n    i0.ɵɵlistener(\"click\", function ConsultationlistePage_ion_item_11_Template_ion_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const consultation_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.showConsultationdetails(consultation_r1.date));\n    });\n    i0.ɵɵtext(4, \" Voir d\\u00E9tails \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const consultation_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(consultation_r1.date);\n  }\n}\nexport let ConsultationlistePage = /*#__PURE__*/(() => {\n  var _ConsultationlistePage;\n  class ConsultationlistePage {\n    constructor(firestore, modalController, router) {\n      this.firestore = firestore;\n      this.modalController = modalController;\n      this.router = router;\n      this.consultations = [];\n    }\n    ngOnInit() {\n      this.loadConsultations();\n      console.log('patientuid', patientUidA);\n      console.log('meduid', medecinUid.uid);\n    }\n    loadConsultations() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          // Utilisez la fonction getConsultation pour obtenir les consultations\n          const consultations = yield getConsultations(_this.firestore, medecinUid.uid, patientUidA);\n          if (consultations && consultations.length > 0) {\n            // Assurez-vous que les consultations sont définies et non vides\n            _this.consultations = consultations;\n          } else {\n            console.log('Aucune consultation trouvée pour ce patient.');\n          }\n        } catch (error) {\n          console.error('Erreur lors du chargement des consultations du patient :', error);\n        }\n      })();\n    }\n    showConsultationdetails(date) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        consultationdate = date;\n        _this2.router.navigate(['/consultation']);\n      })();\n    }\n  }\n  _ConsultationlistePage = ConsultationlistePage;\n  _ConsultationlistePage.ɵfac = function ConsultationlistePage_Factory(t) {\n    return new (t || _ConsultationlistePage)(i0.ɵɵdirectiveInject(i1.AngularFirestore), i0.ɵɵdirectiveInject(i2.ModalController), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  _ConsultationlistePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _ConsultationlistePage,\n    selectors: [[\"app-consultationliste\"]],\n    decls: 12,\n    vars: 3,\n    consts: [[3, \"translucent\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [4, \"ngFor\", \"ngForOf\"], [\"color\", \"primary\", 3, \"click\"]],\n    template: function ConsultationlistePage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n        i0.ɵɵtext(3, \"consultationliste\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-header\", 2)(6, \"ion-toolbar\")(7, \"ion-title\", 3);\n        i0.ɵɵtext(8, \"consultationliste\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(9, \"ion-content\")(10, \"ion-list\");\n        i0.ɵɵtemplate(11, ConsultationlistePage_ion_item_11_Template, 5, 1, \"ion-item\", 4);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"translucent\", true);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.consultations);\n      }\n    },\n    dependencies: [i4.NgForOf, i2.IonButton, i2.IonContent, i2.IonHeader, i2.IonItem, i2.IonLabel, i2.IonList, i2.IonTitle, i2.IonToolbar]\n  });\n  return ConsultationlistePage;\n})();\nexport let consultationdate;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}