{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/ionic-TP/shifai1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _FormulaireComponent, _FormulaireModule;\n// formulaire.component.ts\nimport { CommonModule } from '@angular/common';\nimport { EventEmitter } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { ajouterSecretaire } from 'src/firebaseConfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@angular/forms\";\nexport class FormulaireComponent {\n  constructor(modalController, firestore, fb) {\n    this.modalController = modalController;\n    this.firestore = firestore;\n    this.fb = fb;\n    this.formulaireSoumis = new EventEmitter();\n    this.fermerFormulaire = new EventEmitter();\n    this.myForm = this.fb.group({\n      prenom: ['', Validators.required],\n      nom: ['', Validators.required],\n      numero: ['', Validators.required],\n      gmail: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n      // Ajoutez d'autres champs ici\n    });\n  }\n  onSubmit() {\n    if (this.myForm.valid) {\n      this.formulaireSoumis.emit(this.myForm.value);\n      this.fermerFormulaire.emit();\n    }\n  }\n  ouvrirFormulaireModal() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this.modalController.create({\n        component: FormulaireComponent\n      });\n      modal.onDidDismiss().then(result => {\n        // Vérifiez si le formulaire a été soumis\n        if (result.role === 'formulaireSoumis') {\n          const secretarieData = result.data; // Obtenez les données du formulaire soumis\n          _this.enregistrerSecretaire(secretarieData);\n        }\n      });\n      yield modal.present();\n    })();\n  }\n  enregistrerSecretaire(secretarieData) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        yield ajouterSecretaire(_this2.firestore, secretarieData);\n        // Effectuez d'autres actions après l'enregistrement réussi\n        console.log('Secrétaire enregistrée avec succès.');\n      } catch (error) {\n        console.error('Erreur lors de l\\'enregistrement du secrétaire :', error);\n        // Gérez les erreurs ici\n      }\n    })();\n  }\n}\n_FormulaireComponent = FormulaireComponent;\n_FormulaireComponent.ɵfac = function FormulaireComponent_Factory(t) {\n  return new (t || _FormulaireComponent)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.AngularFirestore), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\n_FormulaireComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _FormulaireComponent,\n  selectors: [[\"app-formulaire\"]],\n  outputs: {\n    formulaireSoumis: \"formulaireSoumis\",\n    fermerFormulaire: \"fermerFormulaire\"\n  },\n  decls: 21,\n  vars: 2,\n  consts: [[3, \"translucent\"], [\"slot\", \"end\"], [3, \"click\"], [\"name\", \"close\"], [3, \"formGroup\"], [\"formControlName\", \"prenom\", \"label\", \"Pr\\u00E9nom\"], [\"formControlName\", \"nom\", \"label\", \"Nom\"], [\"formControlName\", \"numero\", \"label\", \"Num\\u00E9ro\"], [\"formControlName\", \"gmail\", \"label\", \"Gmail\"], [\"formControlName\", \"password\", \"type\", \"password\", \"label\", \"Password\"], [\"expand\", \"full\", \"type\", \"submit\", 3, \"click\"]],\n  template: function FormulaireComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Formulaire\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 1)(5, \"ion-button\", 2);\n      i0.ɵɵlistener(\"click\", function FormulaireComponent_Template_ion_button_click_5_listener() {\n        return ctx.fermerFormulaire.emit();\n      });\n      i0.ɵɵelement(6, \"ion-icon\", 3);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(7, \"ion-content\")(8, \"form\", 4)(9, \"ion-item\");\n      i0.ɵɵelement(10, \"ion-input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"ion-item\");\n      i0.ɵɵelement(12, \"ion-input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"ion-item\");\n      i0.ɵɵelement(14, \"ion-input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"ion-item\");\n      i0.ɵɵelement(16, \"ion-input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"ion-item\");\n      i0.ɵɵelement(18, \"ion-input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"ion-button\", 10);\n      i0.ɵɵlistener(\"click\", function FormulaireComponent_Template_ion_button_click_19_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵtext(20, \"Soumettre\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"formGroup\", ctx.myForm);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i1.IonButton, i1.IonButtons, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonInput, i1.IonItem, i1.IonTitle, i1.IonToolbar, i1.TextValueAccessor],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport class FormulaireModule {}\n_FormulaireModule = FormulaireModule;\n_FormulaireModule.ɵfac = function FormulaireModule_Factory(t) {\n  return new (t || _FormulaireModule)();\n};\n_FormulaireModule.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n  type: _FormulaireModule\n});\n_FormulaireModule.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n  providers: [AngularFirestore],\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, IonicModule]\n});\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(FormulaireModule, {\n    declarations: [FormulaireComponent],\n    imports: [CommonModule, FormsModule, ReactiveFormsModule, IonicModule],\n    exports: [FormulaireComponent]\n  });\n})();","map":{"version":3,"names":["CommonModule","EventEmitter","AngularFirestore","FormsModule","ReactiveFormsModule","Validators","IonicModule","ajouterSecretaire","FormulaireComponent","constructor","modalController","firestore","fb","formulaireSoumis","fermerFormulaire","myForm","group","prenom","required","nom","numero","gmail","email","password","onSubmit","valid","emit","value","ouvrirFormulaireModal","_this","_asyncToGenerator","modal","create","component","onDidDismiss","then","result","role","secretarieData","data","enregistrerSecretaire","present","_this2","console","log","error","i0","ɵɵdirectiveInject","i1","ModalController","i2","i3","FormBuilder","selectors","outputs","decls","vars","consts","template","FormulaireComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","FormulaireComponent_Template_ion_button_click_5_listener","ɵɵelement","FormulaireComponent_Template_ion_button_click_19_listener","ɵɵproperty","ɵɵadvance","FormulaireModule","imports","declarations","exports"],"sources":["C:\\Users\\MacBook Air\\ionic-TP\\shifai1\\src\\app\\parametre-secretaire\\formulaire\\formulaire.component.ts","C:\\Users\\MacBook Air\\ionic-TP\\shifai1\\src\\app\\parametre-secretaire\\formulaire\\formulaire.component.html"],"sourcesContent":["// formulaire.component.ts\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { Component, Output, EventEmitter, NgModule } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\r\nimport { FormBuilder, FormGroup, FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { IonicModule, ModalController } from '@ionic/angular';\r\nimport { ajouterSecretaire } from 'src/firebaseConfig';\r\n\r\n@Component({\r\n  selector: 'app-formulaire',\r\n  templateUrl: './formulaire.component.html',\r\n  styleUrls: ['./formulaire.component.scss']\r\n})\r\n\r\n\r\n\r\n\r\nexport class FormulaireComponent {\r\n  @Output() formulaireSoumis = new EventEmitter<any>();\r\n  @Output() fermerFormulaire = new EventEmitter<void>();\r\n\r\n  myForm: FormGroup = this.fb.group({\r\n    prenom: ['', Validators.required],\r\n    nom: ['', Validators.required],\r\n    numero: ['', Validators.required],\r\n    gmail: ['', [Validators.required, Validators.email]],\r\n    password: ['', Validators.required],\r\n    // Ajoutez d'autres champs ici\r\n  });\r\n\r\n\r\n\r\n  constructor(private modalController: ModalController, private firestore: AngularFirestore,private fb: FormBuilder) {}\r\n\r\n  onSubmit() {\r\n    if (this.myForm.valid) {\r\n      this.formulaireSoumis.emit(this.myForm.value);\r\n      this.fermerFormulaire.emit();\r\n    }\r\n  }\r\n\r\n\r\n  async ouvrirFormulaireModal() {\r\n    const modal = await this.modalController.create({\r\n      component: FormulaireComponent,\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      // Vérifiez si le formulaire a été soumis\r\n      if (result.role === 'formulaireSoumis') {\r\n        const secretarieData = result.data; // Obtenez les données du formulaire soumis\r\n        this.enregistrerSecretaire(secretarieData);\r\n      }\r\n    });\r\n\r\n    await modal.present();\r\n  }\r\n\r\n  async enregistrerSecretaire(secretarieData: any) {\r\n    try {\r\n      await ajouterSecretaire(this.firestore, secretarieData);\r\n      // Effectuez d'autres actions après l'enregistrement réussi\r\n      console.log('Secrétaire enregistrée avec succès.');\r\n    } catch (error) {\r\n      console.error('Erreur lors de l\\'enregistrement du secrétaire :', error);\r\n      // Gérez les erreurs ici\r\n    }\r\n  }\r\n}\r\n\r\n\r\n@NgModule({\r\n  declarations: [FormulaireComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n  ],\r\n  exports: [FormulaireComponent],\r\n  providers: [AngularFirestore],\r\n})\r\nexport class FormulaireModule {}\r\n\r\n\r\n","<ion-header [translucent]=\"true\">\r\n    <ion-toolbar>\r\n      <ion-title>Formulaire</ion-title>\r\n      <ion-buttons slot=\"end\">\r\n        <ion-button (click)=\"fermerFormulaire.emit()\">\r\n          <ion-icon name=\"close\"></ion-icon>\r\n        </ion-button>\r\n      </ion-buttons>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n  \r\n  <ion-content>\r\n    <form [formGroup]=\"myForm\" >\r\n      <!-- Champs Prénom -->\r\n      <ion-item>\r\n        \r\n        <ion-input formControlName=\"prenom\" label=\"Prénom\"></ion-input>\r\n      </ion-item>\r\n      \r\n      <ion-item>\r\n        \r\n        <ion-input formControlName=\"nom\" label=\"Nom\"></ion-input>\r\n      </ion-item>\r\n      \r\n      <ion-item>\r\n        \r\n        <ion-input formControlName=\"numero\" label=\"Numéro\"></ion-input>\r\n      </ion-item>\r\n      \r\n      <ion-item>\r\n        \r\n        <ion-input formControlName=\"gmail\" label=\"Gmail\"></ion-input>\r\n      </ion-item>\r\n      \r\n      <ion-item>\r\n        \r\n        <ion-input formControlName=\"password\" type=\"password\" label=\"Password\"></ion-input>\r\n      </ion-item>\r\n      \r\n      \r\n      \r\n  \r\n      <ion-button expand=\"full\" type=\"submit\" (click)=\"onSubmit()\">Soumettre</ion-button>\r\n\r\n    </form>\r\n  </ion-content>\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}