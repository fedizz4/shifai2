{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { getMedecinByUidA, medecinUid } from 'src/firebaseConfig'; // Importez votre fonction getMedecinByUid\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@ionic/angular\";\nexport let ParametreMedProfilPage = /*#__PURE__*/(() => {\n  var _ParametreMedProfilPage;\n  class ParametreMedProfilPage {\n    // Remplacez ceci par l'UID du médecin que vous souhaitez afficher\n    constructor(router, firestore) {\n      this.router = router;\n      this.firestore = firestore;\n      this.uid = medecinUid.uid;\n      this.nom = \"\";\n      this.prenom = \"\";\n      this.sexe = \"\";\n      this.email = \"\";\n      this.password = \"\";\n      this.date = \"\";\n      this.delegation = \"\";\n      this.etat = \"\";\n      this.specialite = \"\";\n      this.telephone = \"\";\n      this.medecin = null; // Initialisez medecin à null\n      this.formulaireActif = false; // Indicateur pour activer/désactiver le formulaire\n    }\n    ngOnInit() {\n      this.fetchMedecin();\n    }\n    fetchMedecin() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          _this.medecin = yield getMedecinByUidA(_this.firestore, medecinUid.uid);\n          console.log(' vfvfedc   ', _this.medecin);\n          if (_this.medecin) {\n            console.log('Médecin récupéré :', _this.medecin);\n            // Mettez à jour les champs du formulaire avec les données récupérées du médecin\n            _this.nom = _this.medecin.nom;\n            _this.prenom = _this.medecin.prenom;\n            _this.sexe = _this.medecin.sexe;\n            _this.email = _this.medecin.email;\n            _this.password = _this.medecin.password;\n            _this.date = _this.medecin.date;\n            _this.delegation = _this.medecin.delegation;\n            _this.etat = _this.medecin.etat;\n            _this.specialite = _this.medecin.specialite;\n            _this.telephone = _this.medecin.telephone;\n          } else {\n            console.error('Aucun médecin trouvé pour cet UID :', medecinUid.uid);\n          }\n        } catch (error) {\n          console.error('Erreur lors de la récupération du médecin :', error);\n        }\n      })();\n    }\n    activerFormulaire() {\n      this.formulaireActif = true; // Active le formulaire pour les modifications\n    }\n    enregistrerDonnees() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          // Vérifiez que medecin n'est pas null avant de tenter la mise à jour\n          if (_this2.medecin) {\n            const medecinA = {\n              nom: _this2.nom,\n              prenom: _this2.prenom,\n              sexe: _this2.sexe,\n              email: _this2.email,\n              password: _this2.password,\n              date: _this2.date,\n              delegation: _this2.delegation,\n              etat: _this2.etat,\n              specialite: _this2.specialite,\n              telephone: _this2.telephone\n            };\n            yield _this2.firestore.collection('medecin').doc(_this2.uid).update(medecinA);\n            console.log('Données du médecin mises à jour avec succès dans Firebase.');\n            _this2.formulaireActif = false; // Désactivez le formulaire après la mise à jour\n          } else {\n            console.error('Aucun médecin trouvé pour la mise à jour.');\n          }\n        } catch (error) {\n          console.error('Erreur lors de la mise à jour des données du médecin dans Firebase :', error);\n        }\n      })();\n    }\n  }\n  _ParametreMedProfilPage = ParametreMedProfilPage;\n  _ParametreMedProfilPage.ɵfac = function ParametreMedProfilPage_Factory(t) {\n    return new (t || _ParametreMedProfilPage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AngularFirestore));\n  };\n  _ParametreMedProfilPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _ParametreMedProfilPage,\n    selectors: [[\"app-parametre-med-profil\"]],\n    decls: 66,\n    vars: 23,\n    consts: [[3, \"translucent\"], [\"routerLink\", \"/parametre-med\", \"fill\", \"clear\", \"slot\", \"start\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [\"medecinForm\", \"ngForm\"], [\"position\", \"floating\"], [\"type\", \"text\", \"name\", \"nom\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"prenom\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"email\", \"name\", \"email\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"date\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"name\", \"sexe\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"value\", \"homme\"], [\"value\", \"femme\"], [\"type\", \"text\", \"name\", \"specialite\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"tel\", \"name\", \"telephone\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"delegation\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"etat\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"expand\", \"block\", \"color\", \"primary\", 3, \"click\"], [\"expand\", \"block\", \"color\", \"success\", \"type\", \"submit\", 3, \"disabled\", \"click\"]],\n    template: function ParametreMedProfilPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-button\", 1);\n        i0.ɵɵtext(3, \" Retour\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-title\");\n        i0.ɵɵtext(5, \"Param\\u00E8tre du profil du m\\u00E9decin\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"ion-content\", 2)(7, \"ion-header\", 3)(8, \"ion-toolbar\")(9, \"ion-title\", 4);\n        i0.ɵɵtext(10, \"Param\\u00E8tre du profil du m\\u00E9decin\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(11, \"h3\");\n        i0.ɵɵtext(12, \"Param\\u00E8tres du m\\u00E9decin\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"form\", null, 5)(15, \"ion-item\")(16, \"ion-label\", 6);\n        i0.ɵɵtext(17, \"Nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"ion-input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function ParametreMedProfilPage_Template_ion_input_ngModelChange_18_listener($event) {\n          return ctx.nom = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"ion-item\")(20, \"ion-label\", 6);\n        i0.ɵɵtext(21, \"Pr\\u00E9nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"ion-input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function ParametreMedProfilPage_Template_ion_input_ngModelChange_22_listener($event) {\n          return ctx.prenom = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"ion-item\")(24, \"ion-label\", 6);\n        i0.ɵɵtext(25, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"ion-input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function ParametreMedProfilPage_Template_ion_input_ngModelChange_26_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"ion-item\")(28, \"ion-label\", 6);\n        i0.ɵɵtext(29, \"Mot de passe\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"ion-input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function ParametreMedProfilPage_Template_ion_input_ngModelChange_30_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"ion-item\")(32, \"ion-label\", 6);\n        i0.ɵɵtext(33, \"Date de naissance\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"ion-input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function ParametreMedProfilPage_Template_ion_input_ngModelChange_34_listener($event) {\n          return ctx.date = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"ion-item\")(36, \"ion-label\", 6);\n        i0.ɵɵtext(37, \"Sexe\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"ion-select\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function ParametreMedProfilPage_Template_ion_select_ngModelChange_38_listener($event) {\n          return ctx.sexe = $event;\n        });\n        i0.ɵɵelementStart(39, \"ion-select-option\", 13);\n        i0.ɵɵtext(40, \"Homme\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"ion-select-option\", 14);\n        i0.ɵɵtext(42, \"Femme\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(43, \"ion-item\")(44, \"ion-label\", 6);\n        i0.ɵɵtext(45, \"Sp\\u00E9cialit\\u00E9\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"ion-input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function ParametreMedProfilPage_Template_ion_input_ngModelChange_46_listener($event) {\n          return ctx.specialite = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(47, \"ion-item\")(48, \"ion-label\", 6);\n        i0.ɵɵtext(49, \"T\\u00E9l\\u00E9phone\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"ion-input\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function ParametreMedProfilPage_Template_ion_input_ngModelChange_50_listener($event) {\n          return ctx.telephone = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(51, \"ion-item\")(52, \"ion-label\", 6);\n        i0.ɵɵtext(53, \"Delegation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"ion-input\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function ParametreMedProfilPage_Template_ion_input_ngModelChange_54_listener($event) {\n          return ctx.delegation = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(55, \"ion-item\")(56, \"ion-label\", 6);\n        i0.ɵɵtext(57, \"Etat\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"ion-input\", 18);\n        i0.ɵɵlistener(\"ngModelChange\", function ParametreMedProfilPage_Template_ion_input_ngModelChange_58_listener($event) {\n          return ctx.etat = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(59, \"ion-row\")(60, \"ion-col\")(61, \"ion-button\", 19);\n        i0.ɵɵlistener(\"click\", function ParametreMedProfilPage_Template_ion_button_click_61_listener() {\n          return ctx.activerFormulaire();\n        });\n        i0.ɵɵtext(62, \"Modifier\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(63, \"ion-col\")(64, \"ion-button\", 20);\n        i0.ɵɵlistener(\"click\", function ParametreMedProfilPage_Template_ion_button_click_64_listener() {\n          return ctx.enregistrerDonnees();\n        });\n        i0.ɵɵtext(65, \"Enregistrer\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"translucent\", true);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.nom)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.prenom)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.email)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.password)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.date)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.sexe)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.specialite)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.telephone)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.delegation)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.etat)(\"disabled\", !ctx.formulaireActif);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disabled\", !ctx.formulaireActif);\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i4.IonButton, i4.IonCol, i4.IonContent, i4.IonHeader, i4.IonInput, i4.IonItem, i4.IonLabel, i4.IonRow, i4.IonSelect, i4.IonSelectOption, i4.IonTitle, i4.IonToolbar, i4.SelectValueAccessor, i4.TextValueAccessor, i4.RouterLinkDelegate, i1.RouterLink]\n  });\n  return ParametreMedProfilPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}