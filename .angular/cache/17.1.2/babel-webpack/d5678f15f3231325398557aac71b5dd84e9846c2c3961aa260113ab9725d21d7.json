{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _FormulaireComponent, _FormulaireModule;\nimport { CommonModule } from '@angular/common';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { ajouterSecretaire, medecinUid } from 'src/firebaseConfig';\nimport { uida } from '../parametre-secretaire.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@angular/forms\";\nexport class FormulaireComponent {\n  constructor(modalController, firestore, fb) {\n    this.modalController = modalController;\n    this.firestore = firestore;\n    this.fb = fb;\n    this.myForm = this.fb.group({\n      prenom: ['', Validators.required],\n      nom: ['', Validators.required],\n      numero: ['', Validators.required],\n      gmail: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n      // Ajoutez d'autres champs ici\n    });\n  }\n  ngOnInit() {\n    console.log('uid   ', uida);\n  }\n  onSubmit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const medecinId = medecinUid.uid;\n      if (_this.myForm.valid) {\n        yield _this.enregistrerSecretaire();\n        yield _this.modalController.dismiss();\n      }\n    })();\n  }\n  enregistrerSecretaire() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      var _this2$myForm$get, _this2$myForm$get2, _this2$myForm$get3, _this2$myForm$get4, _this2$myForm$get5;\n      const nom = (_this2$myForm$get = _this2.myForm.get('nom')) === null || _this2$myForm$get === void 0 ? void 0 : _this2$myForm$get.value;\n      const prenom = (_this2$myForm$get2 = _this2.myForm.get('prenom')) === null || _this2$myForm$get2 === void 0 ? void 0 : _this2$myForm$get2.value;\n      const mail = (_this2$myForm$get3 = _this2.myForm.get('gmail')) === null || _this2$myForm$get3 === void 0 ? void 0 : _this2$myForm$get3.value;\n      const numero = (_this2$myForm$get4 = _this2.myForm.get('numero')) === null || _this2$myForm$get4 === void 0 ? void 0 : _this2$myForm$get4.value;\n      const password = (_this2$myForm$get5 = _this2.myForm.get('password')) === null || _this2$myForm$get5 === void 0 ? void 0 : _this2$myForm$get5.value;\n      const medecinUid = 'meduid';\n      try {\n        yield ajouterSecretaire(_this2.firestore, nom, prenom, mail, numero, password, uida);\n        yield _this2.modalController.dismiss();\n        window.dispatchEvent(new Event('refreshPage'));\n        console.log('Secrétaire enregistrée avec succès.');\n      } catch (error) {\n        console.error('Erreur lors de l\\'enregistrement du secrétaire :', error);\n        // Gérez les erreurs ici\n      }\n    })();\n  }\n  fermer() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      yield _this3.modalController.dismiss();\n    })();\n  }\n}\n_FormulaireComponent = FormulaireComponent;\n_FormulaireComponent.ɵfac = function FormulaireComponent_Factory(t) {\n  return new (t || _FormulaireComponent)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.AngularFirestore), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\n_FormulaireComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _FormulaireComponent,\n  selectors: [[\"app-formulaire\"]],\n  decls: 21,\n  vars: 2,\n  consts: [[3, \"translucent\"], [\"slot\", \"end\"], [3, \"click\"], [\"name\", \"close\"], [3, \"formGroup\"], [\"formControlName\", \"prenom\", \"label\", \"Pr\\u00E9nom\"], [\"formControlName\", \"nom\", \"label\", \"Nom\"], [\"formControlName\", \"numero\", \"label\", \"Num\\u00E9ro\"], [\"formControlName\", \"gmail\", \"label\", \"Gmail\"], [\"formControlName\", \"password\", \"type\", \"password\", \"label\", \"Password\"], [\"expand\", \"full\", \"type\", \"submit\", 3, \"click\"]],\n  template: function FormulaireComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Formulaire\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 1)(5, \"ion-button\", 2);\n      i0.ɵɵlistener(\"click\", function FormulaireComponent_Template_ion_button_click_5_listener() {\n        return ctx.fermer();\n      });\n      i0.ɵɵelement(6, \"ion-icon\", 3);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(7, \"ion-content\")(8, \"form\", 4)(9, \"ion-item\");\n      i0.ɵɵelement(10, \"ion-input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"ion-item\");\n      i0.ɵɵelement(12, \"ion-input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"ion-item\");\n      i0.ɵɵelement(14, \"ion-input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"ion-item\");\n      i0.ɵɵelement(16, \"ion-input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"ion-item\");\n      i0.ɵɵelement(18, \"ion-input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"ion-button\", 10);\n      i0.ɵɵlistener(\"click\", function FormulaireComponent_Template_ion_button_click_19_listener() {\n        return ctx.enregistrerSecretaire();\n      });\n      i0.ɵɵtext(20, \"Soumettre\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"formGroup\", ctx.myForm);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i1.IonButton, i1.IonButtons, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonInput, i1.IonItem, i1.IonTitle, i1.IonToolbar, i1.TextValueAccessor],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport class FormulaireModule {}\n_FormulaireModule = FormulaireModule;\n_FormulaireModule.ɵfac = function FormulaireModule_Factory(t) {\n  return new (t || _FormulaireModule)();\n};\n_FormulaireModule.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n  type: _FormulaireModule\n});\n_FormulaireModule.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n  providers: [AngularFirestore],\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, IonicModule]\n});\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(FormulaireModule, {\n    declarations: [FormulaireComponent],\n    imports: [CommonModule, FormsModule, ReactiveFormsModule, IonicModule],\n    exports: [FormulaireComponent]\n  });\n})();","map":{"version":3,"names":["CommonModule","AngularFirestore","FormsModule","ReactiveFormsModule","Validators","IonicModule","ajouterSecretaire","medecinUid","uida","FormulaireComponent","constructor","modalController","firestore","fb","myForm","group","prenom","required","nom","numero","gmail","email","password","ngOnInit","console","log","onSubmit","_this","_asyncToGenerator","medecinId","uid","valid","enregistrerSecretaire","dismiss","_this2","_this2$myForm$get","_this2$myForm$get2","_this2$myForm$get3","_this2$myForm$get4","_this2$myForm$get5","get","value","mail","window","dispatchEvent","Event","error","fermer","_this3","i0","ɵɵdirectiveInject","i1","ModalController","i2","i3","FormBuilder","selectors","decls","vars","consts","template","FormulaireComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","FormulaireComponent_Template_ion_button_click_5_listener","ɵɵelement","FormulaireComponent_Template_ion_button_click_19_listener","ɵɵproperty","ɵɵadvance","FormulaireModule","imports","declarations","exports"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\parametre-secretaire\\formulaire\\formulaire.component.ts","C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\parametre-secretaire\\formulaire\\formulaire.component.html"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { Component, NgModule } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\r\nimport { FormBuilder, FormGroup, FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { IonicModule, ModalController } from '@ionic/angular';\r\nimport { ajouterSecretaire, medecinUid } from 'src/firebaseConfig';\r\nimport { uida } from '../parametre-secretaire.page';\r\n\r\n@Component({\r\n  selector: 'app-formulaire',\r\n  templateUrl: './formulaire.component.html',\r\n  styleUrls: ['./formulaire.component.scss']\r\n})\r\nexport class FormulaireComponent {\r\n  myForm: FormGroup = this.fb.group({\r\n    prenom: ['', Validators.required],\r\n    nom: ['', Validators.required],\r\n    numero: ['', Validators.required],\r\n    gmail: ['', [Validators.required, Validators.email]],\r\n    password: ['', Validators.required],\r\n    // Ajoutez d'autres champs ici\r\n  });\r\n\r\n  constructor(private modalController: ModalController, private firestore: AngularFirestore, private fb: FormBuilder) {}\r\n  ngOnInit() {\r\n    \r\n  console.log('uid   ', uida);\r\n  }\r\n\r\n  async onSubmit() {\r\n    const medecinId = medecinUid.uid;\r\n\r\n    if (this.myForm.valid) {\r\n      await this.enregistrerSecretaire();\r\n      await this.modalController.dismiss();\r\n    }\r\n  }\r\n\r\n  async enregistrerSecretaire() {\r\n    const nom = this.myForm.get('nom')?.value;\r\n    const prenom = this.myForm.get('prenom')?.value;\r\n    const mail = this.myForm.get('gmail')?.value;\r\n    const numero = this.myForm.get('numero')?.value;\r\n    const password = this.myForm.get('password')?.value;\r\n    const medecinUid = 'meduid';\r\n\r\n    try {\r\n      await ajouterSecretaire(this.firestore, nom, prenom, mail, numero, password, uida);\r\n      await this.modalController.dismiss(); \r\n      window.dispatchEvent(new Event('refreshPage'));\r\n      console.log('Secrétaire enregistrée avec succès.');\r\n    } catch (error) {\r\n      console.error('Erreur lors de l\\'enregistrement du secrétaire :', error);\r\n      // Gérez les erreurs ici\r\n    }\r\n  }\r\n\r\n  async fermer() {\r\n    await this.modalController.dismiss(); \r\n  }\r\n}\r\n\r\n@NgModule({\r\n  declarations: [FormulaireComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n  ],\r\n  exports: [FormulaireComponent],\r\n  providers: [AngularFirestore],\r\n})\r\nexport class FormulaireModule {}\r\n","<ion-header [translucent]=\"true\">\r\n    <ion-toolbar>\r\n      <ion-title>Formulaire</ion-title>\r\n      <ion-buttons slot=\"end\">\r\n        <ion-button (click)=\"fermer()\">\r\n          <ion-icon name=\"close\"></ion-icon>\r\n        </ion-button>\r\n      </ion-buttons>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n  \r\n  <ion-content>\r\n    <form [formGroup]=\"myForm\" >\r\n      <!-- Champs Prénom -->\r\n      <ion-item>\r\n        \r\n        <ion-input formControlName=\"prenom\" label=\"Prénom\"></ion-input>\r\n      </ion-item>\r\n      \r\n      <ion-item>\r\n        \r\n        <ion-input formControlName=\"nom\" label=\"Nom\"></ion-input>\r\n      </ion-item>\r\n      \r\n      <ion-item>\r\n        \r\n        <ion-input formControlName=\"numero\" label=\"Numéro\"></ion-input>\r\n      </ion-item>\r\n      \r\n      <ion-item>\r\n        \r\n        <ion-input formControlName=\"gmail\" label=\"Gmail\"></ion-input>\r\n      </ion-item>\r\n      \r\n      <ion-item>\r\n        \r\n        <ion-input formControlName=\"password\" type=\"password\" label=\"Password\"></ion-input>\r\n      </ion-item>\r\n      \r\n      \r\n      \r\n  \r\n      <ion-button expand=\"full\" type=\"submit\" (click)=\"enregistrerSecretaire()\">Soumettre</ion-button>\r\n\r\n    </form>\r\n  </ion-content>\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}