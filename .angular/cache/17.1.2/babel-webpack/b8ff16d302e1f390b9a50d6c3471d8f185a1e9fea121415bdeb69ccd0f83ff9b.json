{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _ConsultationlistePage;\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./consultationliste.page.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./consultationliste.page.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { ModalController } from '@ionic/angular';\nimport { getConsultations } from 'src/firebaseConfig';\nimport { patientUidA } from '../patient/patient.page';\nimport { medecinUid } from 'src/firebaseConfig';\nimport { Router } from '@angular/router';\nlet ConsultationlistePage = (_ConsultationlistePage = class ConsultationlistePage {\n  constructor(firestore, modalController, router) {\n    this.firestore = firestore;\n    this.modalController = modalController;\n    this.router = router;\n    this.consultations = [];\n  }\n  ngOnInit() {\n    this.loadConsultations();\n    console.log('patientuid', patientUidA);\n    console.log('meduid', medecinUid.uid);\n  }\n  loadConsultations() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        // Utilisez la fonction getConsultation pour obtenir les consultations\n        const consultations = yield getConsultations(_this.firestore, medecinUid.uid, patientUidA);\n        if (consultations && consultations.length > 0) {\n          // Assurez-vous que les consultations sont définies et non vides\n          _this.consultations = consultations;\n        } else {\n          console.log('Aucune consultation trouvée pour ce patient.');\n        }\n      } catch (error) {\n        console.error('Erreur lors du chargement des consultations du patient :', error);\n      }\n    })();\n  }\n  showConsultationdetails(date) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      consultationdate = date;\n      _this2.router.navigate(['/consultation']);\n    })();\n  }\n}, _ConsultationlistePage.ctorParameters = () => [{\n  type: AngularFirestore\n}, {\n  type: ModalController\n}, {\n  type: Router\n}], _ConsultationlistePage);\nConsultationlistePage = __decorate([Component({\n  selector: 'app-consultationliste',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], ConsultationlistePage);\nexport { ConsultationlistePage };\nexport let consultationdate;","map":{"version":3,"names":["Component","AngularFirestore","ModalController","getConsultations","patientUidA","medecinUid","Router","ConsultationlistePage","_ConsultationlistePage","constructor","firestore","modalController","router","consultations","ngOnInit","loadConsultations","console","log","uid","_this","_asyncToGenerator","length","error","showConsultationdetails","date","_this2","consultationdate","navigate","__decorate","selector","template","__NG_CLI_RESOURCE__0"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\consultationliste\\consultationliste.page.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component, NgModule, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule } from '@angular/forms';\nimport { ModalController, IonicModule } from '@ionic/angular';\nimport { getConsultations } from 'src/firebaseConfig';\nimport { ConsultationslisteModalComponent } from '../patients/consultationsliste-modal/consultationsliste-modal.component';\nimport { patientUidA } from '../patient/patient.page';\nimport { meduid } from '../login-medecin/login-medecin.page';\nimport { medecinUid } from 'src/firebaseConfig';\nimport { Router } from '@angular/router';\n\n\ninterface PatientData {\n  id: string;\n  nom: string;\n  prenom: string;\n  age?: number;\n  adresse?: string;\n  telephones?: string;\n  uid?: string;\n  medecinUid?: string; // Ajout de medecinUid dans PatientData\n}\ninterface consultationData {\n  date: string;\n  details?: string;\n}\n@Component({\n  selector: 'app-consultationliste',\n  templateUrl: './consultationliste.page.html',\n  styleUrls: ['./consultationliste.page.scss'],\n})\nexport class ConsultationlistePage implements OnInit {\n\n  \n\n  consultations: consultationData[] = [];\n  constructor(private firestore: AngularFirestore, private modalController: ModalController , private router :Router) {}\n\n  ngOnInit() {\n\n    this.loadConsultations();\n    console.log('patientuid',patientUidA);\n    console.log('meduid',medecinUid.uid);\n  }\n\n  async loadConsultations() {\n    try {\n      // Utilisez la fonction getConsultation pour obtenir les consultations\n      const consultations = await getConsultations(this.firestore,medecinUid.uid, patientUidA);\n  \n      if (consultations && consultations.length > 0) {\n        // Assurez-vous que les consultations sont définies et non vides\n        this.consultations = consultations;\n      } else {\n        console.log('Aucune consultation trouvée pour ce patient.');\n      }\n    } catch (error) {\n      console.error('Erreur lors du chargement des consultations du patient :', error);\n    }\n  }\n  async showConsultationdetails(date :string) {\n     consultationdate=date \n    this.router.navigate(['/consultation']);\n\n  }\n \n\n  \n \n  \n}\nexport let consultationdate: string ; \n"],"mappings":";;;;;AACA,SAASA,SAAS,QAA0B,eAAe;AAC3D,SAASC,gBAAgB,QAAQ,gCAAgC;AAEjE,SAASC,eAAe,QAAqB,gBAAgB;AAC7D,SAASC,gBAAgB,QAAQ,oBAAoB;AAErD,SAASC,WAAW,QAAQ,yBAAyB;AAErD,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,SAASC,MAAM,QAAQ,iBAAiB;AAsBjC,IAAMC,qBAAqB,IAAAC,sBAAA,GAA3B,MAAMD,qBAAqB;EAKhCE,YAAoBC,SAA2B,EAAUC,eAAgC,EAAWC,MAAc;IAA9F,KAAAF,SAAS,GAATA,SAAS;IAA4B,KAAAC,eAAe,GAAfA,eAAe;IAA4B,KAAAC,MAAM,GAANA,MAAM;IAD1G,KAAAC,aAAa,GAAuB,EAAE;EAC+E;EAErHC,QAAQA,CAAA;IAEN,IAAI,CAACC,iBAAiB,EAAE;IACxBC,OAAO,CAACC,GAAG,CAAC,YAAY,EAACb,WAAW,CAAC;IACrCY,OAAO,CAACC,GAAG,CAAC,QAAQ,EAACZ,UAAU,CAACa,GAAG,CAAC;EACtC;EAEMH,iBAAiBA,CAAA;IAAA,IAAAI,KAAA;IAAA,OAAAC,iBAAA;MACrB,IAAI;QACF;QACA,MAAMP,aAAa,SAASV,gBAAgB,CAACgB,KAAI,CAACT,SAAS,EAACL,UAAU,CAACa,GAAG,EAAEd,WAAW,CAAC;QAExF,IAAIS,aAAa,IAAIA,aAAa,CAACQ,MAAM,GAAG,CAAC,EAAE;UAC7C;UACAF,KAAI,CAACN,aAAa,GAAGA,aAAa;QACpC,CAAC,MAAM;UACLG,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC;QAC7D;MACF,CAAC,CAAC,OAAOK,KAAK,EAAE;QACdN,OAAO,CAACM,KAAK,CAAC,0DAA0D,EAAEA,KAAK,CAAC;MAClF;IAAC;EACH;EACMC,uBAAuBA,CAACC,IAAY;IAAA,IAAAC,MAAA;IAAA,OAAAL,iBAAA;MACvCM,gBAAgB,GAACF,IAAI;MACtBC,MAAI,CAACb,MAAM,CAACe,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC;IAAC;EAE1C;;;;;;;;AAjCWpB,qBAAqB,GAAAqB,UAAA,EALjC5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,uBAAuB;EACjCC,QAAA,EAAAC,oBAA4C;;CAE7C,CAAC,C,EACWxB,qBAAqB,CAuCjC;;AACD,OAAO,IAAImB,gBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}