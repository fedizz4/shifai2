{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/ionic-TP/shifai1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _LoginPage;\nimport { loginUser } from 'src/firebaseConfig'; // Assurez-vous que le chemin est correct\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = () => ({\n  standalone: true\n});\nexport class LoginPage {\n  constructor(navCtrl, toastController) {\n    this.navCtrl = navCtrl;\n    this.toastController = toastController;\n    this.email = '';\n    this.password = '';\n  }\n  loginUser() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const userCredential = yield loginUser(_this.email, _this.password);\n        const user = userCredential.user;\n        if (user) {\n          const uid = user.uid;\n          userUid = uid;\n          console.log('UID de l\\'utilisateur connecté :', uid);\n          _this.navCtrl.navigateForward('tabs/tab1');\n        } else {\n          _this.presentToast('Identifiants invalides'); // Gérez les erreurs d'authentification ici (par exemple, affichez un message à l'utilisateur)\n          console.log('le toast d erreur s affiche ');\n        }\n      } catch (error) {\n        console.log('Error during login:', error);\n        // Affichez un message à l'utilisateur pour l'informer de l'erreur\n      }\n    })();\n  }\n  presentToast(message) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const toast = yield _this2.toastController.create({\n        message: message,\n        duration: 3000,\n        position: 'bottom'\n      });\n      toast.present();\n    })();\n  }\n  back() {\n    this.navCtrl.navigateForward('/home');\n  }\n  ngOnInit() {}\n}\n_LoginPage = LoginPage;\n_LoginPage.ɵfac = function LoginPage_Factory(t) {\n  return new (t || _LoginPage)(i0.ɵɵdirectiveInject(i1.NavController), i0.ɵɵdirectiveInject(i1.ToastController));\n};\n_LoginPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _LoginPage,\n  selectors: [[\"app-login\"]],\n  decls: 37,\n  vars: 4,\n  consts: [[1, \"connexion\"], [\"collapse\", \"condense\"], [\"color\", \"light\", \"slot\", \"start\", \"fill\", \"clear\", 3, \"click\"], [1, \"ion-text-center\"], [1, \"form\"], [1, \"item\"], [\"placeholder\", \"Enter email\", \"type\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"mail-outline\"], [\"shape\", \"round\", 1, \"item\"], [\"placeholder\", \"Enter password\", \"type\", \"password\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"name\", \"lock-closed-outline\"], [\"size\", \"large\", \"expand\", \"block\", \"shape\", \"round\", 3, \"click\"], [\"routerLink\", \"/forgotpass\", \"fill\", \"clear\"], [\"routerLink\", \"/signup\", \"fill\", \"clear\"]],\n  template: function LoginPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-content\")(1, \"div\", 0)(2, \"ion-header\", 1)(3, \"ion-button\", 2);\n      i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_3_listener() {\n        return ctx.back();\n      });\n      i0.ɵɵtext(4, \" \\u2190 Retour \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 3);\n      i0.ɵɵelement(6, \"br\");\n      i0.ɵɵelementStart(7, \"h4\");\n      i0.ɵɵtext(8, \"Connexion\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(9, \"br\")(10, \"br\")(11, \"br\");\n      i0.ɵɵelementStart(12, \"div\", 4)(13, \"div\", 5)(14, \"ion-item\")(15, \"ion-input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_15_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelement(16, \"ion-icon\", 7);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(17, \"br\");\n      i0.ɵɵelementStart(18, \"form\")(19, \"div\", 8)(20, \"ion-item\")(21, \"ion-input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_21_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelement(22, \"ion-icon\", 10);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(23, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"br\")(25, \"br\")(26, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\")(28, \"ion-button\", 11);\n      i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_28_listener() {\n        return ctx.loginUser();\n      });\n      i0.ɵɵtext(29, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"br\")(31, \"br\")(32, \"br\");\n      i0.ɵɵelementStart(33, \"ion-button\", 12);\n      i0.ɵɵtext(34, \" Forgot Password \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"ion-button\", 13);\n      i0.ɵɵtext(36, \" Vous n'avez pas de compte ? Cr\\u00E9ez en un tout de suite . \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.password)(\"ngModelOptions\", i0.ɵɵpureFunction0(3, _c0));\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm, i1.IonButton, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonInput, i1.IonItem, i1.TextValueAccessor, i1.RouterLinkDelegate, i3.RouterLink],\n  styles: [\".connexion[_ngcontent-%COMP%] {\\n  background-color: #3575FE;\\n  border-radius: 0% 0% 20% 20%;\\n}\\n\\n.item[_ngcontent-%COMP%] {\\n  margin-left: 10%;\\n  margin-right: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vTWFjQm9vayUyMEFpci9pb25pYy1UUC9zaGlmYWkxL3NyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQUE7RUFDQSw0QkFBQTtBQ0NKOztBRENBO0VBRUksZ0JBQUE7RUFDQSxpQkFBQTtBQ0NKIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbm5leGlvbntcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzNTc1RkU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwJSAwJSAyMCUgMjAlIDtcclxufVxyXG4uaXRlbXtcclxuICAgXHJcbiAgICBtYXJnaW4tbGVmdDogMTAlO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMCU7XHJcbn0iLCIuY29ubmV4aW9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM1NzVGRTtcbiAgYm9yZGVyLXJhZGl1czogMCUgMCUgMjAlIDIwJTtcbn1cblxuLml0ZW0ge1xuICBtYXJnaW4tbGVmdDogMTAlO1xuICBtYXJnaW4tcmlnaHQ6IDEwJTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport let userUid;","map":{"version":3,"names":["loginUser","LoginPage","constructor","navCtrl","toastController","email","password","_this","_asyncToGenerator","userCredential","user","uid","userUid","console","log","navigateForward","presentToast","error","message","_this2","toast","create","duration","position","present","back","ngOnInit","i0","ɵɵdirectiveInject","i1","NavController","ToastController","selectors","decls","vars","consts","template","LoginPage_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","LoginPage_Template_ion_button_click_3_listener","ɵɵtext","ɵɵelementEnd","ɵɵelement","LoginPage_Template_ion_input_ngModelChange_15_listener","$event","LoginPage_Template_ion_input_ngModelChange_21_listener","LoginPage_Template_ion_button_click_28_listener","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","_c0"],"sources":["C:\\Users\\MacBook Air\\ionic-TP\\shifai1\\src\\app\\login\\login.page.ts","C:\\Users\\MacBook Air\\ionic-TP\\shifai1\\src\\app\\login\\login.page.html"],"sourcesContent":["// login.page.ts\n\nimport { Component, OnInit } from '@angular/core';\nimport { NavController, ToastController } from '@ionic/angular';\nimport { loginUser } from 'src/firebaseConfig'; // Assurez-vous que le chemin est correct\n\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\n\n\n\nexport class LoginPage implements OnInit {\n\n  email: string = '';\n  password: string = '';\n\n\n\n\n  constructor(private navCtrl: NavController, private toastController: ToastController) { }\n\n \n  async loginUser() {\n    try {\n      const userCredential = await loginUser(this.email, this.password);\n      const user = userCredential.user;\n      if (user) {\n        const uid = user.uid;\n        userUid = uid;\n        console.log('UID de l\\'utilisateur connecté :', uid);\n        this.navCtrl.navigateForward('tabs/tab1');\n      } else {\n        this.presentToast('Identifiants invalides');// Gérez les erreurs d'authentification ici (par exemple, affichez un message à l'utilisateur)\n        console.log('le toast d erreur s affiche ');\n      }\n    } catch (error) {\n      console.log('Error during login:', error);\n      \n      // Affichez un message à l'utilisateur pour l'informer de l'erreur\n    }\n  }\n  async presentToast(message: string) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 3000,\n      position: 'bottom',\n    });\n    toast.present();\n  }\n  back() {\n    this.navCtrl.navigateForward('/home');\n  }\n\n  ngOnInit() {\n  }\n}\nexport let userUid: string ;\n\n","\n  <ion-content>\n    <div class=\"connexion\">\n    <ion-header collapse=\"condense\">\n      <ion-button color=\"light\" slot=\"start\" (click)=\"back()\" fill=\"clear\">\n        ← Retour\n      </ion-button>\n    </ion-header>\n    \n    \n    \n          <div class=\"ion-text-center\" >\n            <br>\n            <h4>Connexion</h4>\n          </div>\n          <br><br><br>\n          <div class=\"form\">\n            <div class=\"item\">\n            <ion-item>\n              <ion-input placeholder=\"Enter email\" type=\"email\" [(ngModel)]=\"email\">\n\n                <ion-icon name=\"mail-outline\">\n                </ion-icon>\n              </ion-input>\n            </ion-item>\n          </div>\n            <br>\n            <form>\n              <div class=\"item\" shape=\"round\">\n            <ion-item>\n              <ion-input placeholder=\"Enter password\" type=\"password\" [(ngModel)]=\"password\" [ngModelOptions]=\"{standalone: true}\">\n\n                <ion-icon name=\"lock-closed-outline\"></ion-icon>\n              </ion-input>\n            </ion-item>\n            </div>\n          </form>\n            <br>\n          </div>\n          <br><br><br>\n        </div>\n          <div>\n            \n            <ion-button (click)=\"loginUser()\" size=\"large\" expand=\"block\" shape=\"round\">Login</ion-button>\n            <br><br><br>\n            <ion-button routerLink=\"/forgotpass\" fill=\"clear\">\n              Forgot Password\n            </ion-button>\n            \n          </div>\n    \n        <ion-button routerLink=\"/signup\" fill=\"clear\">\n          Vous n'avez pas de compte ? Créez en un tout de suite .\n        </ion-button>\n      \n  </ion-content>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}