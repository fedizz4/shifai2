{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _PersonneModalComponent, _PersonneModalModule;\nimport { CommonModule } from '@angular/common';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { getPersonByUid } from 'src/firebaseConfig';\nimport { WorkHoursModalComponent } from '../work-hours-modal/work-hours-modal.component';\nimport { AjoutPersonneModalComponent } from '../ajout-personne-modal/ajout-personne-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/common\";\nfunction PersonneModalComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\")(2, \"input\", 4);\n    i0.ɵɵlistener(\"change\", function PersonneModalComponent_div_10_Template_input_change_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const personne_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleSelection(personne_r1));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const personne_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", personne_r1.selected);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", personne_r1.nom, \" \", personne_r1.prenom, \" \");\n  }\n}\nexport class PersonneModalComponent {\n  constructor(firestore, modalController) {\n    this.firestore = firestore;\n    this.modalController = modalController;\n    this.people = [];\n    this.person = [];\n    this.selectedPersonne = null;\n  }\n  ngOnInit() {\n    this.fetchPersonne();\n  }\n  fetchPersonne() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const uid = \"D1UoD4reN0QvhgGDFnarodjbE782\";\n        const personnes = yield getPersonByUid(_this.firestore, uid);\n        if (personnes !== null) {\n          _this.people = _this.people.map(person => ({\n            ...person,\n            selected: false\n          }));\n          personnes.forEach(personne => {\n            _this.people.push(personne);\n          });\n          console.log('Personne trouvée :', _this.people);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la récupération de la personne par UID :', error);\n      }\n    })();\n  }\n  toggleSelection(person) {\n    this.selectedPersonne = person;\n    selectedNom = person.nom;\n    selectedPrenom = person.prenom;\n    console.log('Nom de la personne sélectionnée :', selectedNom);\n    console.log('Prénom de la personne sélectionnée :', selectedPrenom);\n  }\n  close() {\n    this.modalController.dismiss();\n  }\n  openWorkHoursModal() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this2.modalController.create({\n        component: WorkHoursModalComponent,\n        cssClass: 'work-hours-modal'\n      });\n      return yield modal.present();\n    })();\n  }\n  ajoutPersonneModal() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this3.modalController.create({\n        component: AjoutPersonneModalComponent,\n        cssClass: 'work-hours-modal'\n      });\n      return yield modal.present();\n    })();\n  }\n}\n_PersonneModalComponent = PersonneModalComponent;\n_PersonneModalComponent.ɵfac = function PersonneModalComponent_Factory(t) {\n  return new (t || _PersonneModalComponent)(i0.ɵɵdirectiveInject(i1.AngularFirestore), i0.ɵɵdirectiveInject(i2.ModalController));\n};\n_PersonneModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _PersonneModalComponent,\n  selectors: [[\"app-personne-modal\"]],\n  decls: 13,\n  vars: 1,\n  consts: [[\"slot\", \"end\"], [3, \"click\"], [\"slot\", \"start\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"radio\", \"name\", \"selectedPersonne\", 3, \"checked\", \"change\"]],\n  template: function PersonneModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Personne\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 0)(5, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function PersonneModalComponent_Template_ion_button_click_5_listener() {\n        return ctx.openWorkHoursModal();\n      });\n      i0.ɵɵtext(6, \"Suivant\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"ion-buttons\", 2)(8, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function PersonneModalComponent_Template_ion_button_click_8_listener() {\n        return ctx.close();\n      });\n      i0.ɵɵtext(9, \"Fermer\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(10, PersonneModalComponent_div_10_Template, 4, 3, \"div\", 3);\n      i0.ɵɵelementStart(11, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function PersonneModalComponent_Template_ion_button_click_11_listener() {\n        return ctx.ajoutPersonneModal();\n      });\n      i0.ɵɵtext(12, \"Ajouter une personne\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngForOf\", ctx.people);\n    }\n  },\n  dependencies: [i3.NgForOf, i2.IonButton, i2.IonButtons, i2.IonHeader, i2.IonTitle, i2.IonToolbar],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport class PersonneModalModule {}\n_PersonneModalModule = PersonneModalModule;\n_PersonneModalModule.ɵfac = function PersonneModalModule_Factory(t) {\n  return new (t || _PersonneModalModule)();\n};\n_PersonneModalModule.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n  type: _PersonneModalModule\n});\n_PersonneModalModule.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n  providers: [AngularFirestore],\n  imports: [CommonModule, FormsModule, IonicModule]\n});\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(PersonneModalModule, {\n    declarations: [PersonneModalComponent],\n    imports: [CommonModule, FormsModule, IonicModule]\n  });\n})();\nexport let selectedNom;\nexport let selectedPrenom;","map":{"version":3,"names":["CommonModule","AngularFirestore","FormsModule","IonicModule","getPersonByUid","WorkHoursModalComponent","AjoutPersonneModalComponent","i0","ɵɵelementStart","ɵɵlistener","PersonneModalComponent_div_10_Template_input_change_2_listener","restoredCtx","ɵɵrestoreView","_r3","personne_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","toggleSelection","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","selected","ɵɵtextInterpolate2","nom","prenom","PersonneModalComponent","constructor","firestore","modalController","people","person","selectedPersonne","ngOnInit","fetchPersonne","_this","_asyncToGenerator","uid","personnes","map","forEach","personne","push","console","log","error","selectedNom","selectedPrenom","close","dismiss","openWorkHoursModal","_this2","modal","create","component","cssClass","present","ajoutPersonneModal","_this3","ɵɵdirectiveInject","i1","i2","ModalController","selectors","decls","vars","consts","template","PersonneModalComponent_Template","rf","ctx","PersonneModalComponent_Template_ion_button_click_5_listener","PersonneModalComponent_Template_ion_button_click_8_listener","ɵɵtemplate","PersonneModalComponent_div_10_Template","PersonneModalComponent_Template_ion_button_click_11_listener","PersonneModalModule","imports","declarations"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\affiche-medecin\\personne-modal\\personne-modal.component.ts","C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\affiche-medecin\\personne-modal\\personne-modal.component.html"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component, NgModule, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { userUid } from 'src/app/login/login.page';\nimport { getPersonByUid } from 'src/firebaseConfig';\nimport { WorkHoursModalComponent } from '../work-hours-modal/work-hours-modal.component';\nimport { AjoutPersonneModalComponent } from '../ajout-personne-modal/ajout-personne-modal.component';\n\ninterface PersonneData {\n  nom: string;\n  prenom: string;\n}\n\n@Component({\n  selector: 'app-personne-modal',\n  templateUrl: './personne-modal.component.html',\n  styleUrls: ['./personne-modal.component.scss'],\n})\nexport class PersonneModalComponent  implements OnInit {\n\n\n  constructor(private firestore: AngularFirestore, private modalController: ModalController) { }\n\n  ngOnInit() {\n    this.fetchPersonne();\n  }\n\n\n  people: any[] = [];\n  \n\n\n  async fetchPersonne() {\n    try {\n      const uid = \"D1UoD4reN0QvhgGDFnarodjbE782\";\n      const personnes = await getPersonByUid(this.firestore, uid);\n      if (personnes !== null) {\n        this.people = this.people.map(person => ({ ...person, selected: false }));\n      personnes.forEach(personne => {\n        this.people.push(personne);\n      });\n      console.log('Personne trouvée :', this.people);\n    }\n    } catch (error) {\n      console.error('Erreur lors de la récupération de la personne par UID :', error);\n    }\n  }\nperson : PersonneData[] = [];\n\nselectedPersonne: PersonneData | null = null;\n\n\ntoggleSelection(person: PersonneData) {\n  this.selectedPersonne = person;\n  selectedNom = person.nom;\n  selectedPrenom = person.prenom;\n  console.log('Nom de la personne sélectionnée :', selectedNom);\n  console.log('Prénom de la personne sélectionnée :', selectedPrenom);\n}\n\n  close() {\n    this.modalController.dismiss();\n  }\n\n  async openWorkHoursModal() {\n    const modal = await this.modalController.create({\n      component: WorkHoursModalComponent,\n      cssClass: 'work-hours-modal',\n    });\n    return await modal.present();\n  }\n\n  async ajoutPersonneModal(){\n    const modal = await this.modalController.create({\n      component: AjoutPersonneModalComponent,\n      cssClass: 'work-hours-modal',\n    });\n    return await modal.present();\n  }\n\n}\n\n@NgModule({\n  declarations: [PersonneModalComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  providers: [AngularFirestore],\n})\nexport class PersonneModalModule {}\n\nexport let selectedNom: string ;\nexport let selectedPrenom: string ;\n","\n<ion-header>\n  <ion-toolbar>\n    <ion-title>Personne</ion-title>\n    <ion-buttons slot= \"end\">\n      <ion-button (click)=\"openWorkHoursModal()\">Suivant</ion-button>\n    </ion-buttons>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"close()\">Fermer</ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n\n<div *ngFor=\"let personne of people\">\n  <label>\n    <input type=\"radio\" name=\"selectedPersonne\" [checked]=\"personne.selected\" (change)=\"toggleSelection(personne)\">\n    {{ personne.nom }} {{ personne.prenom }}\n  </label>\n</div>\n\n\n\n\n\n<ion-button (click)=\"ajoutPersonneModal()\">Ajouter une personne</ion-button>\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}