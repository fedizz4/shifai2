{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _FormComponent;\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./form.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./form.component.scss?ngResource\";\nimport { CommonModule } from '@angular/common';\nimport { Component, Input, NgModule } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormBuilder, FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { getSecretaireBysecUid, medecinUid, modifierSecretaire } from 'src/firebaseConfig';\nimport { uida } from '../parametre-secretaire.page';\nlet FormComponent = (_FormComponent = class FormComponent {\n  constructor(modalController, firestore, fb) {\n    this.modalController = modalController;\n    this.firestore = firestore;\n    this.fb = fb;\n    this.myForm = this.fb.group({\n      prenom: ['', Validators.required],\n      nom: ['', Validators.required],\n      numero: ['', Validators.required],\n      gmail: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.initializeForm();\n    console.log('uid   ', uida);\n  }\n  initializeForm() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      var _this$secretaire, _this$secretaire2, _this$secretaire3, _this$secretaire4, _this$secretaire5;\n      _this.secretaire = yield getSecretaireBysecUid(_this.firestore, _this.secretaireID);\n      _this.myForm.patchValue({\n        prenom: ((_this$secretaire = _this.secretaire) === null || _this$secretaire === void 0 ? void 0 : _this$secretaire.prenom) || '',\n        // Initialiser avec la valeur préremplie ou une chaîne vide\n        nom: ((_this$secretaire2 = _this.secretaire) === null || _this$secretaire2 === void 0 ? void 0 : _this$secretaire2.nom) || '',\n        // Initialiser avec la valeur préremplie ou une chaîne vide\n        numero: ((_this$secretaire3 = _this.secretaire) === null || _this$secretaire3 === void 0 ? void 0 : _this$secretaire3.numero) || '',\n        // Initialiser avec la valeur préremplie ou une chaîne vide\n        gmail: ((_this$secretaire4 = _this.secretaire) === null || _this$secretaire4 === void 0 ? void 0 : _this$secretaire4.gmail) || '',\n        // Initialiser avec la valeur préremplie ou une chaîne vide\n        password: ((_this$secretaire5 = _this.secretaire) === null || _this$secretaire5 === void 0 ? void 0 : _this$secretaire5.password) || '' // Initialiser avec la valeur préremplie ou une chaîne vide\n      });\n    })();\n  }\n  onSubmit() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const medecinId = medecinUid.uid;\n      if (_this2.myForm.valid) {\n        yield _this2.modifierSecretaire();\n        yield _this2.modalController.dismiss();\n      }\n    })();\n  }\n  modifierSecretaire() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      var _this3$myForm$get, _this3$myForm$get2, _this3$myForm$get3, _this3$myForm$get4, _this3$myForm$get5;\n      const nom = (_this3$myForm$get = _this3.myForm.get('nom')) === null || _this3$myForm$get === void 0 ? void 0 : _this3$myForm$get.value;\n      const prenom = (_this3$myForm$get2 = _this3.myForm.get('prenom')) === null || _this3$myForm$get2 === void 0 ? void 0 : _this3$myForm$get2.value;\n      const mail = (_this3$myForm$get3 = _this3.myForm.get('gmail')) === null || _this3$myForm$get3 === void 0 ? void 0 : _this3$myForm$get3.value;\n      const numero = (_this3$myForm$get4 = _this3.myForm.get('numero')) === null || _this3$myForm$get4 === void 0 ? void 0 : _this3$myForm$get4.value;\n      const password = (_this3$myForm$get5 = _this3.myForm.get('password')) === null || _this3$myForm$get5 === void 0 ? void 0 : _this3$myForm$get5.value;\n      const medecinUid = 'meduid';\n      try {\n        yield modifierSecretaire(_this3.firestore, _this3.secretaireID, nom, prenom, mail, numero, password, uida);\n        yield _this3.modalController.dismiss();\n        console.log('Secrétaire enregistrée avec succès.');\n      } catch (error) {\n        console.error('Erreur lors de l\\'enregistrement du secrétaire :', error);\n        // Gérez les erreurs ici\n      }\n    })();\n  }\n  fermer() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      yield _this4.modalController.dismiss();\n    })();\n  }\n}, _FormComponent.ctorParameters = () => [{\n  type: ModalController\n}, {\n  type: AngularFirestore\n}, {\n  type: FormBuilder\n}], _FormComponent.propDecorators = {\n  secretaireID: [{\n    type: Input\n  }]\n}, _FormComponent);\nFormComponent = __decorate([Component({\n  selector: 'app-form',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], FormComponent);\nexport { FormComponent };\nlet FormModule = class FormModule {};\nFormModule = __decorate([NgModule({\n  declarations: [FormComponent],\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, IonicModule],\n  exports: [FormComponent],\n  providers: [AngularFirestore]\n})], FormModule);\nexport { FormModule };","map":{"version":3,"names":["CommonModule","Component","Input","NgModule","AngularFirestore","FormBuilder","FormsModule","ReactiveFormsModule","Validators","IonicModule","ModalController","getSecretaireBysecUid","medecinUid","modifierSecretaire","uida","FormComponent","_FormComponent","constructor","modalController","firestore","fb","myForm","group","prenom","required","nom","numero","gmail","email","password","ngOnInit","initializeForm","console","log","_this","_asyncToGenerator","_this$secretaire","_this$secretaire2","_this$secretaire3","_this$secretaire4","_this$secretaire5","secretaire","secretaireID","patchValue","onSubmit","_this2","medecinId","uid","valid","dismiss","_this3","_this3$myForm$get","_this3$myForm$get2","_this3$myForm$get3","_this3$myForm$get4","_this3$myForm$get5","get","value","mail","error","fermer","_this4","__decorate","selector","template","__NG_CLI_RESOURCE__0","FormModule","declarations","imports","exports","providers"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\parametre-secretaire\\form\\form.component.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component, Input, NgModule, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormBuilder, FormGroup, FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport {  getSecretaireBysecUid, medecinUid, modifierSecretaire } from 'src/firebaseConfig';\nimport { uida } from '../parametre-secretaire.page';\ninterface secretaireData {\n  uid:string ;\n  prenom : string ;\n  nom : string ;\n  numero : string ;\n  gmail : string ;\n  password : string ;\n}\n\n@Component({\n  selector: 'app-form',\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.scss'],\n})\nexport class FormComponent  implements OnInit {\n\n  @Input() secretaireID!: string;\n  myForm: FormGroup = this.fb.group({\n    prenom: ['', Validators.required],\n    nom: ['', Validators.required],\n    numero: ['', Validators.required],\n    gmail: ['', [Validators.required, Validators.email]],\n    password: ['', Validators.required],\n  });\n  secretaire:secretaireData | null | undefined ;\n\n\n  constructor(private modalController: ModalController, private firestore: AngularFirestore, private fb: FormBuilder) {}\n  ngOnInit() {\n    this.initializeForm();\n    \n  console.log('uid   ', uida);\n  }\n  async initializeForm() {\n    this.secretaire = await (getSecretaireBysecUid(this.firestore, this.secretaireID));\n    this.myForm.patchValue({\n      prenom: this.secretaire?.prenom || '', // Initialiser avec la valeur préremplie ou une chaîne vide\n      nom: this.secretaire?.nom || '', // Initialiser avec la valeur préremplie ou une chaîne vide\n      numero: this.secretaire?.numero || '', // Initialiser avec la valeur préremplie ou une chaîne vide\n      gmail: this.secretaire?.gmail || '', // Initialiser avec la valeur préremplie ou une chaîne vide\n      password: this.secretaire?.password || '', // Initialiser avec la valeur préremplie ou une chaîne vide\n    });\n  }\n\n  async onSubmit() {\n    const medecinId = medecinUid.uid;\n\n    if (this.myForm.valid) {\n      await this.modifierSecretaire();\n      await this.modalController.dismiss();\n    }\n  }\n\n  async modifierSecretaire() {\n    const nom = this.myForm.get('nom')?.value;\n    const prenom = this.myForm.get('prenom')?.value;\n    const mail = this.myForm.get('gmail')?.value;\n    const numero = this.myForm.get('numero')?.value;\n    const password = this.myForm.get('password')?.value;\n    const medecinUid = 'meduid';\n\n    try {\n      await modifierSecretaire(this.firestore, this.secretaireID,nom, prenom, mail, numero, password, uida);\n      await this.modalController.dismiss(); \n      console.log('Secrétaire enregistrée avec succès.');\n    } catch (error) {\n      console.error('Erreur lors de l\\'enregistrement du secrétaire :', error);\n      // Gérez les erreurs ici\n    }\n  }\n\n  async fermer() {\n    await this.modalController.dismiss(); \n  }\n}\n@NgModule({\n  declarations: [FormComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n  ],\n  exports: [FormComponent],\n  providers: [AngularFirestore],\n})\nexport class FormModule {}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}