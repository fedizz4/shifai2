{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CommonModule } from '@angular/common';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { getSecretaireBysecUid, medecinUid, modifierSecretaire } from 'src/firebaseConfig';\nimport { uida } from '../parametre-secretaire.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@angular/forms\";\nexport let FormComponent = /*#__PURE__*/(() => {\n  var _FormComponent;\n  class FormComponent {\n    constructor(modalController, firestore, fb) {\n      this.modalController = modalController;\n      this.firestore = firestore;\n      this.fb = fb;\n      this.myForm = this.fb.group({\n        prenom: ['', Validators.required],\n        nom: ['', Validators.required],\n        numero: ['', Validators.required],\n        gmail: ['', [Validators.required, Validators.email]],\n        password: ['', Validators.required]\n      });\n    }\n    ngOnInit() {\n      this.initializeForm();\n      console.log('uid   ', uida);\n    }\n    initializeForm() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        var _this$secretaire, _this$secretaire2, _this$secretaire3, _this$secretaire4, _this$secretaire5;\n        _this.secretaire = yield getSecretaireBysecUid(_this.firestore, _this.secretaireID);\n        _this.myForm.patchValue({\n          prenom: ((_this$secretaire = _this.secretaire) === null || _this$secretaire === void 0 ? void 0 : _this$secretaire.prenom) || '',\n          // Initialiser avec la valeur préremplie ou une chaîne vide\n          nom: ((_this$secretaire2 = _this.secretaire) === null || _this$secretaire2 === void 0 ? void 0 : _this$secretaire2.nom) || '',\n          // Initialiser avec la valeur préremplie ou une chaîne vide\n          numero: ((_this$secretaire3 = _this.secretaire) === null || _this$secretaire3 === void 0 ? void 0 : _this$secretaire3.numero) || '',\n          // Initialiser avec la valeur préremplie ou une chaîne vide\n          gmail: ((_this$secretaire4 = _this.secretaire) === null || _this$secretaire4 === void 0 ? void 0 : _this$secretaire4.gmail) || '',\n          // Initialiser avec la valeur préremplie ou une chaîne vide\n          password: ((_this$secretaire5 = _this.secretaire) === null || _this$secretaire5 === void 0 ? void 0 : _this$secretaire5.password) || '' // Initialiser avec la valeur préremplie ou une chaîne vide\n        });\n      })();\n    }\n    onSubmit() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const medecinId = medecinUid.uid;\n        if (_this2.myForm.valid) {\n          yield _this2.modifierSecretaire();\n          yield _this2.modalController.dismiss();\n        }\n      })();\n    }\n    modifierSecretaire() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        var _this3$myForm$get, _this3$myForm$get2, _this3$myForm$get3, _this3$myForm$get4, _this3$myForm$get5;\n        const nom = (_this3$myForm$get = _this3.myForm.get('nom')) === null || _this3$myForm$get === void 0 ? void 0 : _this3$myForm$get.value;\n        const prenom = (_this3$myForm$get2 = _this3.myForm.get('prenom')) === null || _this3$myForm$get2 === void 0 ? void 0 : _this3$myForm$get2.value;\n        const mail = (_this3$myForm$get3 = _this3.myForm.get('gmail')) === null || _this3$myForm$get3 === void 0 ? void 0 : _this3$myForm$get3.value;\n        const numero = (_this3$myForm$get4 = _this3.myForm.get('numero')) === null || _this3$myForm$get4 === void 0 ? void 0 : _this3$myForm$get4.value;\n        const password = (_this3$myForm$get5 = _this3.myForm.get('password')) === null || _this3$myForm$get5 === void 0 ? void 0 : _this3$myForm$get5.value;\n        const medecinUid = 'meduid';\n        try {\n          yield modifierSecretaire(_this3.firestore, _this3.secretaireID, nom, prenom, mail, numero, password, uida);\n          console.log('Secrétaire enregistrée avec succès.');\n        } catch (error) {\n          console.error('Erreur lors de l\\'enregistrement du secrétaire :', error);\n          // Gérez les erreurs ici\n        }\n      })();\n    }\n    fermer() {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        yield _this4.modalController.dismiss();\n      })();\n    }\n  }\n  _FormComponent = FormComponent;\n  _FormComponent.ɵfac = function FormComponent_Factory(t) {\n    return new (t || _FormComponent)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.AngularFirestore), i0.ɵɵdirectiveInject(i3.FormBuilder));\n  };\n  _FormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _FormComponent,\n    selectors: [[\"app-form\"]],\n    inputs: {\n      secretaireID: \"secretaireID\"\n    },\n    decls: 21,\n    vars: 2,\n    consts: [[3, \"translucent\"], [\"slot\", \"end\"], [3, \"click\"], [\"name\", \"close\"], [3, \"formGroup\"], [\"formControlName\", \"prenom\", \"label\", \"Pr\\u00E9nom\"], [\"formControlName\", \"nom\", \"label\", \"Nom\"], [\"formControlName\", \"numero\", \"label\", \"Num\\u00E9ro\"], [\"formControlName\", \"gmail\", \"label\", \"Gmail\"], [\"formControlName\", \"password\", \"type\", \"password\", \"label\", \"Password\"], [\"expand\", \"full\", \"type\", \"submit\", 3, \"click\"]],\n    template: function FormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n        i0.ɵɵtext(3, \"Formulaire\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-buttons\", 1)(5, \"ion-button\", 2);\n        i0.ɵɵlistener(\"click\", function FormComponent_Template_ion_button_click_5_listener() {\n          return ctx.fermer();\n        });\n        i0.ɵɵelement(6, \"ion-icon\", 3);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(7, \"ion-content\")(8, \"form\", 4)(9, \"ion-item\");\n        i0.ɵɵelement(10, \"ion-input\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"ion-item\");\n        i0.ɵɵelement(12, \"ion-input\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"ion-item\");\n        i0.ɵɵelement(14, \"ion-input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"ion-item\");\n        i0.ɵɵelement(16, \"ion-input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"ion-item\");\n        i0.ɵɵelement(18, \"ion-input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"ion-button\", 10);\n        i0.ɵɵlistener(\"click\", function FormComponent_Template_ion_button_click_19_listener() {\n          return ctx.modifierSecretaire();\n        });\n        i0.ɵɵtext(20, \"Soumettre\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"translucent\", true);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"formGroup\", ctx.myForm);\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i1.IonButton, i1.IonButtons, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonInput, i1.IonItem, i1.IonTitle, i1.IonToolbar, i1.TextValueAccessor]\n  });\n  return FormComponent;\n})();\nexport let FormModule = /*#__PURE__*/(() => {\n  var _FormModule;\n  class FormModule {}\n  _FormModule = FormModule;\n  _FormModule.ɵfac = function FormModule_Factory(t) {\n    return new (t || _FormModule)();\n  };\n  _FormModule.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n    type: _FormModule\n  });\n  _FormModule.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n    providers: [AngularFirestore],\n    imports: [CommonModule, FormsModule, ReactiveFormsModule, IonicModule]\n  });\n  return FormModule;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}