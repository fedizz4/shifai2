{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _FichePatientModalComponent;\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./fiche-patient-modal.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./fiche-patient-modal.component.scss?ngResource\";\nimport { CommonModule } from '@angular/common';\nimport { Component, Input, NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { AngularFirestore } from '@angular/fire/compat/firestore'; // Assurez-vous que le chemin d'importation est correct\nlet FichePatientModalComponent = (_FichePatientModalComponent = class FichePatientModalComponent {\n  constructor(firestore, modalController) {\n    this.firestore = firestore;\n    this.modalController = modalController;\n    this.fichePatient = {\n      nom: '',\n      prenom: '',\n      age: null,\n      adresse: '',\n      telephone: ''\n      // Ajoutez d'autres champs selon vos besoins\n    };\n    this.prenom = this.rendezVousData.prenom;\n    this.nom = this.rendezVousData.nom;\n    // Initialisez rendezVousData ici si nécessaire\n    this.rendezVousData = {};\n  }\n  ngOnInit() {}\n  closeModal() {\n    this.modalController.dismiss(); // Fermer le modal\n  }\n  saveFichePatient() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        _this.fichePatient.nom = _this.nom;\n        _this.fichePatient.prenom = _this.prenom;\n        console.log('prenom ', _this.fichePatient.prenom, 'nom ', _this.fichePatient.nom);\n        console.log('Données de la fiche patient à sauvegarder :', _this.fichePatient);\n        // Appel de la fonction savePatient pour sauvegarder le patient chez le médecin\n        _this.modalController.dismiss({\n          data: _this.fichePatient\n        });\n      } catch (error) {\n        console.error('Erreur lors de l\\'ajout du patient chez le médecin :', error);\n      }\n    })();\n  }\n}, _FichePatientModalComponent.ctorParameters = () => [{\n  type: AngularFirestore\n}, {\n  type: ModalController\n}], _FichePatientModalComponent.propDecorators = {\n  rendezVousData: [{\n    type: Input\n  }]\n}, _FichePatientModalComponent);\nFichePatientModalComponent = __decorate([Component({\n  selector: 'app-fiche-patient-modal',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], FichePatientModalComponent);\nexport { FichePatientModalComponent };\nlet FichePatientModalModule = class FichePatientModalModule {};\nFichePatientModalModule = __decorate([NgModule({\n  declarations: [FichePatientModalComponent],\n  imports: [CommonModule, FormsModule, IonicModule],\n  providers: [AngularFirestore]\n})], FichePatientModalModule);\nexport { FichePatientModalModule };","map":{"version":3,"names":["CommonModule","Component","Input","NgModule","FormsModule","IonicModule","ModalController","AngularFirestore","FichePatientModalComponent","_FichePatientModalComponent","constructor","firestore","modalController","fichePatient","nom","prenom","age","adresse","telephone","rendezVousData","ngOnInit","closeModal","dismiss","saveFichePatient","_this","_asyncToGenerator","console","log","data","error","__decorate","selector","template","__NG_CLI_RESOURCE__0","FichePatientModalModule","declarations","imports","providers"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\patients\\fiche-patient-modal\\fiche-patient-modal.component.ts"],"sourcesContent":["import {  CommonModule } from '@angular/common';\nimport { Component, Input, NgModule, OnInit } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { AngularFirestore } from '@angular/fire/compat/firestore'; // Assurez-vous que le chemin d'importation est correct\nimport { savePatient } from 'src/firebaseConfig';\n\n\n\ninterface RendezVousData {\n  date: string;\n  heure: string;\n  nom: string;\n  prenom: string;\n  useruid: string;\n  medecinNom?: string; // Ajout de la propriété medecinNom comme optionnelle\n  medecinPrenom?: string; \n  medecinuid:string;// Ajout de la propriété medecinPrenom comme optionnelle\n  key:string ;\n  excuse?:string;\n  statut?:string;\n}\n@Component({\n  selector: 'app-fiche-patient-modal',\n  templateUrl: './fiche-patient-modal.component.html',\n  styleUrls: ['./fiche-patient-modal.component.scss'],\n})\nexport class FichePatientModalComponent implements OnInit {\n  @Input() rendezVousData!: RendezVousData; // Propriété d'entrée pour recevoir les données du rendez-vous\n  \n\n  fichePatient = {\n    nom: '',\n    prenom: '',\n    age: null,\n    adresse: '',\n    telephone: ''\n    // Ajoutez d'autres champs selon vos besoins\n  };\n  \n\n  constructor(private firestore: AngularFirestore,private modalController: ModalController) {\n    // Initialisez rendezVousData ici si nécessaire\n    this.rendezVousData = {} as RendezVousData;\n  }\n  prenom :string = this.rendezVousData.prenom;\n  nom:string=this.rendezVousData.nom;\n\n\n  ngOnInit() {}\n\n  closeModal() {\n    this.modalController.dismiss(); // Fermer le modal\n  }\n\n  async saveFichePatient() {\n    try {\n     this.fichePatient.nom=this.nom ;\n     this.fichePatient.prenom=this.prenom;\n     console.log('prenom ',this.fichePatient.prenom,'nom ',this.fichePatient.nom)\n     \n      console.log('Données de la fiche patient à sauvegarder :', this.fichePatient);\n\n      // Appel de la fonction savePatient pour sauvegarder le patient chez le médecin\n\n      this.modalController.dismiss({ data: this.fichePatient });\n    } catch (error) {\n      console.error('Erreur lors de l\\'ajout du patient chez le médecin :', error);\n    }\n  }\n\n}\n\n@NgModule({\n  declarations: [FichePatientModalComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  providers: [AngularFirestore],\n})\nexport class FichePatientModalModule {}\n\n"],"mappings":";;;;;AAAA,SAAUA,YAAY,QAAQ,iBAAiB;AAC/C,SAASC,SAAS,EAAEC,KAAK,EAAEC,QAAQ,QAAgB,eAAe;AAClE,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,WAAW,EAAEC,eAAe,QAAQ,gBAAgB;AAC7D,SAASC,gBAAgB,QAAQ,gCAAgC,CAAC,CAAC;AAuB5D,IAAMC,0BAA0B,IAAAC,2BAAA,GAAhC,MAAMD,0BAA0B;EAcrCE,YAAoBC,SAA2B,EAASC,eAAgC;IAApE,KAAAD,SAAS,GAATA,SAAS;IAA2B,KAAAC,eAAe,GAAfA,eAAe;IAVvE,KAAAC,YAAY,GAAG;MACbC,GAAG,EAAE,EAAE;MACPC,MAAM,EAAE,EAAE;MACVC,GAAG,EAAE,IAAI;MACTC,OAAO,EAAE,EAAE;MACXC,SAAS,EAAE;MACX;KACD;IAOD,KAAAH,MAAM,GAAW,IAAI,CAACI,cAAc,CAACJ,MAAM;IAC3C,KAAAD,GAAG,GAAQ,IAAI,CAACK,cAAc,CAACL,GAAG;IAJhC;IACA,IAAI,CAACK,cAAc,GAAG,EAAoB;EAC5C;EAKAC,QAAQA,CAAA,GAAI;EAEZC,UAAUA,CAAA;IACR,IAAI,CAACT,eAAe,CAACU,OAAO,EAAE,CAAC,CAAC;EAClC;EAEMC,gBAAgBA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACpB,IAAI;QACHD,KAAI,CAACX,YAAY,CAACC,GAAG,GAACU,KAAI,CAACV,GAAG;QAC9BU,KAAI,CAACX,YAAY,CAACE,MAAM,GAACS,KAAI,CAACT,MAAM;QACpCW,OAAO,CAACC,GAAG,CAAC,SAAS,EAACH,KAAI,CAACX,YAAY,CAACE,MAAM,EAAC,MAAM,EAACS,KAAI,CAACX,YAAY,CAACC,GAAG,CAAC;QAE3EY,OAAO,CAACC,GAAG,CAAC,6CAA6C,EAAEH,KAAI,CAACX,YAAY,CAAC;QAE7E;QAEAW,KAAI,CAACZ,eAAe,CAACU,OAAO,CAAC;UAAEM,IAAI,EAAEJ,KAAI,CAACX;QAAY,CAAE,CAAC;MAC3D,CAAC,CAAC,OAAOgB,KAAK,EAAE;QACdH,OAAO,CAACG,KAAK,CAAC,sDAAsD,EAAEA,KAAK,CAAC;MAC9E;IAAC;EACH;;;;;;;UAzCC3B;EAAK;;AADKM,0BAA0B,GAAAsB,UAAA,EALtC7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,yBAAyB;EACnCC,QAAA,EAAAC,oBAAmD;;CAEpD,CAAC,C,EACWzB,0BAA0B,CA4CtC;;AAWM,IAAM0B,uBAAuB,GAA7B,MAAMA,uBAAuB,GAAG;AAA1BA,uBAAuB,GAAAJ,UAAA,EATnC3B,QAAQ,CAAC;EACRgC,YAAY,EAAE,CAAC3B,0BAA0B,CAAC;EAC1C4B,OAAO,EAAE,CACPpC,YAAY,EACZI,WAAW,EACXC,WAAW,CACZ;EACDgC,SAAS,EAAE,CAAC9B,gBAAgB;CAC7B,CAAC,C,EACW2B,uBAAuB,CAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}