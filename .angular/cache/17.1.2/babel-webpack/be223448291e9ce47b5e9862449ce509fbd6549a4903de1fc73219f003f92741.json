{"ast":null,"code":"var _RendezvousmodalComponent, _RendezvousmodalModule;\nimport { IonicModule } from '@ionic/angular';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@angular/forms\";\nexport class RendezvousmodalComponent {\n  constructor(modalController, firestore) {\n    this.modalController = modalController;\n    this.firestore = firestore;\n    this.medecin = {\n      nom: '',\n      prenom: '',\n      uid: ''\n    }; // Initialisez la propriété medecin\n    this.selectedTime = ''; // Heure sélectionnée pour le rendez-vous\n    this.patientName = ''; // Nom du patient (pré-rempli avec le nom du médecin)\n    this.uidPatient = ''; // UID du patient\n  }\n  closeModal() {\n    this.modalController.dismiss();\n  }\n  saveRendezVous() {\n    // Logique pour enregistrer le rendez-vous dans la sous-collection rdv du médecin\n    const rendezVousData = {\n      date: new Date().toISOString().split('T')[0],\n      // Date actuelle\n      heure: this.selectedTime,\n      prenom: this.patientName,\n      nom: this.medecin.nom,\n      uidPatient: this.uidPatient // Utilisation de uidPatient au lieu de idPatient\n    };\n    // Enregistrez les données du rendez-vous dans la sous-collection rdv du médecin\n    this.firestore.collection('medecins').doc(this.medecin.uid).collection('rdv').add(rendezVousData).then(() => {\n      console.log('Rendez-vous enregistré avec succès.');\n      this.closeModal(); // Fermez le modal après avoir enregistré le rendez-vous\n    }).catch(error => {\n      console.error('Erreur lors de l\\'enregistrement du rendez-vous :', error);\n    });\n  }\n}\n_RendezvousmodalComponent = RendezvousmodalComponent;\n_RendezvousmodalComponent.ɵfac = function RendezvousmodalComponent_Factory(t) {\n  return new (t || _RendezvousmodalComponent)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.AngularFirestore));\n};\n_RendezvousmodalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _RendezvousmodalComponent,\n  selectors: [[\"app-rendezvousmodal\"]],\n  inputs: {\n    medecin: \"medecin\"\n  },\n  decls: 20,\n  vars: 3,\n  consts: [[\"slot\", \"end\"], [3, \"click\"], [\"name\", \"close\"], [\"position\", \"stacked\"], [\"type\", \"text\", \"disabled\", \"\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"displayFormat\", \"HH:mm\", \"pickerFormat\", \"HH:mm\", 3, \"ngModel\", \"ngModelChange\"], [1, \"modal-buttons\"], [\"expand\", \"block\", \"color\", \"primary\", 3, \"click\"]],\n  template: function RendezvousmodalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Ajouter un rendez-vous\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 0)(5, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function RendezvousmodalComponent_Template_ion_button_click_5_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵelement(6, \"ion-icon\", 2);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(7, \"ion-content\")(8, \"ion-list\")(9, \"ion-item\")(10, \"ion-label\", 3);\n      i0.ɵɵtext(11, \"Nom du patient\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"ion-input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function RendezvousmodalComponent_Template_ion_input_ngModelChange_12_listener($event) {\n        return ctx.personneName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"ion-item\")(14, \"ion-label\", 3);\n      i0.ɵɵtext(15, \"Heure\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"ion-datetime\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function RendezvousmodalComponent_Template_ion_datetime_ngModelChange_16_listener($event) {\n        return ctx.selectedTime = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"div\", 6)(18, \"ion-button\", 7);\n      i0.ɵɵlistener(\"click\", function RendezvousmodalComponent_Template_ion_button_click_18_listener() {\n        return ctx.saveRendezVous();\n      });\n      i0.ɵɵtext(19, \"Enregistrer\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngModel\", ctx.personneName)(\"value\", ctx.personneName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedTime);\n    }\n  },\n  dependencies: [i3.NgControlStatus, i3.NgModel, i1.IonButton, i1.IonButtons, i1.IonContent, i1.IonDatetime, i1.IonHeader, i1.IonIcon, i1.IonInput, i1.IonItem, i1.IonLabel, i1.IonList, i1.IonTitle, i1.IonToolbar, i1.SelectValueAccessor, i1.TextValueAccessor],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport class RendezvousmodalModule {}\n_RendezvousmodalModule = RendezvousmodalModule;\n_RendezvousmodalModule.ɵfac = function RendezvousmodalModule_Factory(t) {\n  return new (t || _RendezvousmodalModule)();\n};\n_RendezvousmodalModule.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n  type: _RendezvousmodalModule\n});\n_RendezvousmodalModule.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n  providers: [AngularFirestore],\n  imports: [CommonModule, FormsModule, IonicModule]\n});\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(RendezvousmodalModule, {\n    declarations: [RendezvousmodalComponent],\n    imports: [CommonModule, FormsModule, IonicModule]\n  });\n})();","map":{"version":3,"names":["IonicModule","AngularFirestore","CommonModule","FormsModule","RendezvousmodalComponent","constructor","modalController","firestore","medecin","nom","prenom","uid","selectedTime","patientName","uidPatient","closeModal","dismiss","saveRendezVous","rendezVousData","date","Date","toISOString","split","heure","collection","doc","add","then","console","log","catch","error","i0","ɵɵdirectiveInject","i1","ModalController","i2","selectors","inputs","decls","vars","consts","template","RendezvousmodalComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","RendezvousmodalComponent_Template_ion_button_click_5_listener","ɵɵelement","RendezvousmodalComponent_Template_ion_input_ngModelChange_12_listener","$event","personneName","RendezvousmodalComponent_Template_ion_datetime_ngModelChange_16_listener","RendezvousmodalComponent_Template_ion_button_click_18_listener","ɵɵadvance","ɵɵproperty","RendezvousmodalModule","imports","declarations"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\affiche-medecin\\rendezvousmodal\\rendezvousmodal.component.ts","C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\affiche-medecin\\rendezvousmodal\\rendezvousmodal.component.html"],"sourcesContent":["import { Component, Input, NgModule } from '@angular/core';\nimport { IonicModule, ModalController } from '@ionic/angular';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\ninterface MedecinData {\n  nom: string;\n  prenom: string;\n  uid: string; // Ajoutez l'UID du médecin\n  // Ajoutez d'autres propriétés du médecin si nécessaire\n}\n\ninterface RendezVousData {\n  date: string;\n  heure: string;\n  prenom: string;\n  nom: string;\n  uidPatient: string; // Renommé idPatient en uidPatient\n}\n\n@Component({\n  selector: 'app-rendezvousmodal',\n  templateUrl: './rendezvousmodal.component.html',\n  styleUrls: ['./rendezvousmodal.component.scss'],\n})\nexport class RendezvousmodalComponent {\n  @Input() medecin: MedecinData = { nom: '', prenom: '', uid: '' }; // Initialisez la propriété medecin\n\n  selectedTime: string = ''; // Heure sélectionnée pour le rendez-vous\n  patientName: string = ''; // Nom du patient (pré-rempli avec le nom du médecin)\n  uidPatient: string = ''; // UID du patient\n\n  constructor(private modalController: ModalController, private firestore: AngularFirestore) {}\n\n  closeModal() {\n    this.modalController.dismiss();\n  }\n\n  saveRendezVous() {\n    // Logique pour enregistrer le rendez-vous dans la sous-collection rdv du médecin\n    const rendezVousData: RendezVousData = {\n      date: new Date().toISOString().split('T')[0], // Date actuelle\n      heure: this.selectedTime,\n      prenom: this.patientName,\n      nom: this.medecin.nom,\n      uidPatient: this.uidPatient, // Utilisation de uidPatient au lieu de idPatient\n    };\n\n    // Enregistrez les données du rendez-vous dans la sous-collection rdv du médecin\n    this.firestore.collection('medecins').doc(this.medecin.uid).collection('rdv').add(rendezVousData)\n      .then(() => {\n        console.log('Rendez-vous enregistré avec succès.');\n        this.closeModal(); // Fermez le modal après avoir enregistré le rendez-vous\n      })\n      .catch((error) => {\n        console.error('Erreur lors de l\\'enregistrement du rendez-vous :', error);\n      });\n  }\n}\n\n\n@NgModule({\n  declarations: [RendezvousmodalComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  providers: [AngularFirestore],\n})\nexport class RendezvousmodalModule {}","<ion-header>\n  <ion-toolbar>\n    <ion-title>Ajouter un rendez-vous</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"closeModal()\">\n        <ion-icon name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n    <ion-item>\n      <ion-label position=\"stacked\">Nom du patient</ion-label>\n      <ion-input type=\"text\" [(ngModel)]=\"personneName\" [value]=\"personneName\" disabled></ion-input>\n    </ion-item>\n    <ion-item>\n      <ion-label position=\"stacked\">Heure</ion-label>\n      <ion-datetime displayFormat=\"HH:mm\" pickerFormat=\"HH:mm\" [(ngModel)]=\"selectedTime\"></ion-datetime>\n    </ion-item>\n    <!-- Ajoutez d'autres champs pour les informations du rendez-vous si nécessaire -->\n  </ion-list>\n\n  <div class=\"modal-buttons\">\n    <ion-button expand=\"block\" color=\"primary\" (click)=\"saveRendezVous()\">Enregistrer</ion-button>\n  </div>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}