{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/MacBook Air/Desktop/shifai1VV/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _DocumentmedecinPage;\nimport { getDocumentsByMedecin, medecinUid } from 'src/firebaseConfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nfunction DocumentmedecinPage_ion_item_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\");\n    i0.ɵɵelement(1, \"img\", 5);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"h2\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"a\", 6);\n    i0.ɵɵtext(6, \" Voir d\\u00E9tail..\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const document_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", document_r1.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(document_r1.description);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"href\", document_r1.url, i0.ɵɵsanitizeUrl);\n  }\n}\nexport class DocumentmedecinPage {\n  constructor(route, firestore, router, toastController) {\n    this.route = route;\n    this.firestore = firestore;\n    this.router = router;\n    this.toastController = toastController;\n    this.filteredDocuments = [];\n    this.documents = [];\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const documents = yield getDocumentsByMedecin(_this.firestore, medecinUid.uid);\n      _this.documents = documents;\n      console.log('Documents du médecin:', documents);\n    })();\n  }\n  search(event) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const searchTerm = event.target.value.toLowerCase(); // Convertir en minuscules pour la comparaison\n      if (!searchTerm) {\n        // Si la barre de recherche est vide, réinitialiser la liste des patients\n        const documents = yield getDocumentsByMedecin(_this2.firestore, medecinUid.uid);\n        _this2.documents = documents;\n        return;\n      }\n      console.log('Le mot saisie est  :', searchTerm);\n      const documents = yield getDocumentsByMedecin(_this2.firestore, medecinUid.uid);\n      _this2.documents = documents;\n      // Filtrer les documents en fonction de la description\n      _this2.filteredDocuments = _this2.documents.filter(document => document.description.toLowerCase().startsWith(searchTerm));\n      return _this2.filteredDocuments;\n      console.log('Les documents saisis sont :', _this2.filteredDocuments);\n    })();\n  }\n}\n_DocumentmedecinPage = DocumentmedecinPage;\n_DocumentmedecinPage.ɵfac = function DocumentmedecinPage_Factory(t) {\n  return new (t || _DocumentmedecinPage)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AngularFirestore), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i3.ToastController));\n};\n_DocumentmedecinPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _DocumentmedecinPage,\n  selectors: [[\"app-documentmedecin\"]],\n  decls: 13,\n  vars: 3,\n  consts: [[3, \"translucent\"], [\"routerLink\", \"/app-medecin\", \"slot\", \"start\", \"fill\", \"clear\"], [3, \"fullscreen\"], [\"placeholder\", \"Rechercher\", 3, \"ionInput\"], [4, \"ngFor\", \"ngForOf\"], [\"width\", \"60\", \"height\", \"60\", 3, \"src\"], [\"float\", \"right\", \"target\", \"_blank\", 3, \"href\"]],\n  template: function DocumentmedecinPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-button\", 1);\n      i0.ɵɵtext(3, \"retour\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-title\");\n      i0.ɵɵtext(5, \"Documents\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"ion-content\", 2)(7, \"ion-header\");\n      i0.ɵɵelement(8, \"br\");\n      i0.ɵɵelementStart(9, \"ion-searchbar\", 3);\n      i0.ɵɵlistener(\"ionInput\", function DocumentmedecinPage_Template_ion_searchbar_ionInput_9_listener($event) {\n        return ctx.search($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"ion-list\");\n      i0.ɵɵtemplate(12, DocumentmedecinPage_ion_item_12_Template, 7, 3, \"ion-item\", 4);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.documents);\n    }\n  },\n  dependencies: [i4.NgForOf, i3.IonButton, i3.IonContent, i3.IonHeader, i3.IonItem, i3.IonLabel, i3.IonList, i3.IonSearchbar, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor, i3.RouterLinkDelegate, i1.RouterLink],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["getDocumentsByMedecin","medecinUid","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","document_r1","url","ɵɵsanitizeUrl","ɵɵtextInterpolate","description","DocumentmedecinPage","constructor","route","firestore","router","toastController","filteredDocuments","documents","ngOnInit","_this","_asyncToGenerator","uid","console","log","search","event","_this2","searchTerm","target","value","toLowerCase","filter","document","startsWith","ɵɵdirectiveInject","i1","ActivatedRoute","i2","AngularFirestore","Router","i3","ToastController","selectors","decls","vars","consts","template","DocumentmedecinPage_Template","rf","ctx","ɵɵlistener","DocumentmedecinPage_Template_ion_searchbar_ionInput_9_listener","$event","ɵɵtemplate","DocumentmedecinPage_ion_item_12_Template"],"sources":["C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\documentmedecin\\documentmedecin.page.ts","C:\\Users\\MacBook Air\\Desktop\\shifai1VV\\src\\app\\documentmedecin\\documentmedecin.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore, DocumentData } from '@angular/fire/compat/firestore';\nimport { AngularFireStorage } from '@angular/fire/compat/storage';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { getDocumentsByMedecin, medecinUid } from 'src/firebaseConfig';\ninterface Documentdata{\n  url:string;\n  description:string;\n}\n@Component({\n  selector: 'app-documentmedecin',\n  templateUrl: './documentmedecin.page.html',\n  styleUrls: ['./documentmedecin.page.scss'],\n})\n\nexport class DocumentmedecinPage implements OnInit {\n  filteredDocuments:Documentdata[]=[];\n\n  constructor(\n    private route: ActivatedRoute,\n    private firestore: AngularFirestore,\n    private router: Router,\n    private toastController: ToastController\n  ) {}\ndocuments:Documentdata[]=[];\n  async ngOnInit() {\n    const documents = await getDocumentsByMedecin(this.firestore, medecinUid.uid);\n    this.documents=documents;\n    console.log('Documents du médecin:', documents);\n  }\n\n  async search(event: any) {\n    const searchTerm = event.target.value.toLowerCase(); // Convertir en minuscules pour la comparaison\n    if (!searchTerm) {\n      // Si la barre de recherche est vide, réinitialiser la liste des patients\n      const documents = await getDocumentsByMedecin(this.firestore, medecinUid.uid);\n      this.documents = documents;\n      return;\n    }\n    console.log('Le mot saisie est  :', searchTerm);\n    const documents = await getDocumentsByMedecin(this.firestore, medecinUid.uid);\n      this.documents = documents;\n    // Filtrer les documents en fonction de la description\n    this.filteredDocuments = this.documents.filter((document) =>\n      document.description.toLowerCase().startsWith(searchTerm)\n    );\n    return this.filteredDocuments;\n    console.log('Les documents saisis sont :', this.filteredDocuments);\n  }\n  \n\n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-button routerLink=\"/app-medecin\" slot=\"start\" fill=\"clear\">retour</ion-button>\n    <ion-title>Documents</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n  <ion-header>\n    <br>\n    <ion-searchbar placeholder=\"Rechercher\" (ionInput)=\"search($event)\"></ion-searchbar>\n    <br>\n  </ion-header>\n  <ion-list>\n    <ion-item *ngFor=\"let document of documents\">\n      <img [src]=\"document.url\" width=\"60\" height=\"60\">\n      <ion-label><h2>{{ document.description }}</h2></ion-label>\n      <a float=\"right\" [href]=\"document.url\"  target=\"_blank\" > Voir détail..</a>\n    </ion-item>\n  </ion-list>\n\n</ion-content>\n"],"mappings":";;AAKA,SAASA,qBAAqB,EAAEC,UAAU,QAAQ,oBAAoB;;;;;;;;ICSlEC,EAAA,CAAAC,cAAA,eAA6C;IAC3CD,EAAA,CAAAE,SAAA,aAAiD;IACjDF,EAAA,CAAAC,cAAA,gBAAW;IAAID,EAAA,CAAAG,MAAA,GAA0B;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC9CJ,EAAA,CAAAC,cAAA,WAAyD;IAACD,EAAA,CAAAG,MAAA,0BAAa;IAAAH,EAAA,CAAAI,YAAA,EAAI;;;;IAFtEJ,EAAA,CAAAK,SAAA,EAAoB;IAApBL,EAAA,CAAAM,UAAA,QAAAC,WAAA,CAAAC,GAAA,EAAAR,EAAA,CAAAS,aAAA,CAAoB;IACVT,EAAA,CAAAK,SAAA,GAA0B;IAA1BL,EAAA,CAAAU,iBAAA,CAAAH,WAAA,CAAAI,WAAA,CAA0B;IACxBX,EAAA,CAAAK,SAAA,EAAqB;IAArBL,EAAA,CAAAM,UAAA,SAAAC,WAAA,CAAAC,GAAA,EAAAR,EAAA,CAAAS,aAAA,CAAqB;;;ADD5C,OAAM,MAAOG,mBAAmB;EAG9BC,YACUC,KAAqB,EACrBC,SAA2B,EAC3BC,MAAc,EACdC,eAAgC;IAHhC,KAAAH,KAAK,GAALA,KAAK;IACL,KAAAC,SAAS,GAATA,SAAS;IACT,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,eAAe,GAAfA,eAAe;IANzB,KAAAC,iBAAiB,GAAgB,EAAE;IAQrC,KAAAC,SAAS,GAAgB,EAAE;EADtB;EAEGC,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACZ,MAAMH,SAAS,SAASrB,qBAAqB,CAACuB,KAAI,CAACN,SAAS,EAAEhB,UAAU,CAACwB,GAAG,CAAC;MAC7EF,KAAI,CAACF,SAAS,GAACA,SAAS;MACxBK,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEN,SAAS,CAAC;IAAC;EAClD;EAEMO,MAAMA,CAACC,KAAU;IAAA,IAAAC,MAAA;IAAA,OAAAN,iBAAA;MACrB,MAAMO,UAAU,GAAGF,KAAK,CAACG,MAAM,CAACC,KAAK,CAACC,WAAW,EAAE,CAAC,CAAC;MACrD,IAAI,CAACH,UAAU,EAAE;QACf;QACA,MAAMV,SAAS,SAASrB,qBAAqB,CAAC8B,MAAI,CAACb,SAAS,EAAEhB,UAAU,CAACwB,GAAG,CAAC;QAC7EK,MAAI,CAACT,SAAS,GAAGA,SAAS;QAC1B;MACF;MACAK,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEI,UAAU,CAAC;MAC/C,MAAMV,SAAS,SAASrB,qBAAqB,CAAC8B,MAAI,CAACb,SAAS,EAAEhB,UAAU,CAACwB,GAAG,CAAC;MAC3EK,MAAI,CAACT,SAAS,GAAGA,SAAS;MAC5B;MACAS,MAAI,CAACV,iBAAiB,GAAGU,MAAI,CAACT,SAAS,CAACc,MAAM,CAAEC,QAAQ,IACtDA,QAAQ,CAACvB,WAAW,CAACqB,WAAW,EAAE,CAACG,UAAU,CAACN,UAAU,CAAC,CAC1D;MACD,OAAOD,MAAI,CAACV,iBAAiB;MAC7BM,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEG,MAAI,CAACV,iBAAiB,CAAC;IAAC;EACrE;;uBAjCWN,mBAAmB;;mBAAnBA,oBAAmB,EAAAZ,EAAA,CAAAoC,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAtC,EAAA,CAAAoC,iBAAA,CAAAG,EAAA,CAAAC,gBAAA,GAAAxC,EAAA,CAAAoC,iBAAA,CAAAC,EAAA,CAAAI,MAAA,GAAAzC,EAAA,CAAAoC,iBAAA,CAAAM,EAAA,CAAAC,eAAA;AAAA;;QAAnB/B,oBAAmB;EAAAgC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,6BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MChBhClD,EAAA,CAAAC,cAAA,oBAAiC;MAEmCD,EAAA,CAAAG,MAAA,aAAM;MAAAH,EAAA,CAAAI,YAAA,EAAa;MACnFJ,EAAA,CAAAC,cAAA,gBAAW;MAAAD,EAAA,CAAAG,MAAA,gBAAS;MAAAH,EAAA,CAAAI,YAAA,EAAY;MAIpCJ,EAAA,CAAAC,cAAA,qBAAiC;MAE7BD,EAAA,CAAAE,SAAA,SAAI;MACJF,EAAA,CAAAC,cAAA,uBAAoE;MAA5BD,EAAA,CAAAoD,UAAA,sBAAAC,+DAAAC,MAAA;QAAA,OAAYH,GAAA,CAAAzB,MAAA,CAAA4B,MAAA,CAAc;MAAA,EAAC;MAACtD,EAAA,CAAAI,YAAA,EAAgB;MACpFJ,EAAA,CAAAE,SAAA,UAAI;MACNF,EAAA,CAAAI,YAAA,EAAa;MACbJ,EAAA,CAAAC,cAAA,gBAAU;MACRD,EAAA,CAAAuD,UAAA,KAAAC,wCAAA,sBAIW;MACbxD,EAAA,CAAAI,YAAA,EAAW;;;MAnBDJ,EAAA,CAAAM,UAAA,qBAAoB;MAOnBN,EAAA,CAAAK,SAAA,GAAmB;MAAnBL,EAAA,CAAAM,UAAA,oBAAmB;MAOGN,EAAA,CAAAK,SAAA,GAAY;MAAZL,EAAA,CAAAM,UAAA,YAAA6C,GAAA,CAAAhC,SAAA,CAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}