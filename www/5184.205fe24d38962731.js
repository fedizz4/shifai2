"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5184],{428:(U,P,a)=>{a.r(P),a.d(P,{ConsultationlistePageModule:()=>f});var d=a(6814),M=a(95),e=a(878),h=a(2344),o=a(1187),g=a(9212);const C=[{path:"",component:o.B}];let A=(()=>{var r;class p{}return(r=p).\u0275fac=function(Z){return new(Z||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({imports:[h.Bz.forChild(C),h.Bz]}),p})(),f=(()=>{var r;class p{}return(r=p).\u0275fac=function(Z){return new(Z||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({imports:[d.ez,M.u5,e.Pc,A]}),p})()},7015:(U,P,a)=>{a.d(P,{_D:()=>m,n:()=>_,p:()=>T,A_:()=>F});var d=a(5861),M=a(1497),e=a(9212),h=a(6369),o=a(878),g=a(95);let C=(()=>{var s;class c{constructor(t,n){this.firestore=t,this.modalController=n,this.fichePatient={nom:"",prenom:"",age:null,adresse:"",telephone:""}}ngOnInit(){this.fichePatient.nom=_,this.fichePatient.prenom=T,console.log("prenom",T,"nom",_)}closeModal(){this.modalController.dismiss()}saveFichePatient(){var t=this;return(0,d.Z)(function*(){try{console.log("Donn\xe9es de la fiche patient \xe0 sauvegarder :",t.fichePatient),t.modalController.dismiss({data:t.fichePatient})}catch(n){console.error("Erreur lors de l'ajout du patient chez le m\xe9decin :",n)}})()}}return(s=c).\u0275fac=function(t){return new(t||s)(e.Y36(h.ST),e.Y36(o.IN))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-fiche-patient-modal"]],inputs:{rendezVousData:"rendezVousData"},decls:35,vars:7,consts:[["slot","end"],[3,"click"],["disabled","",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["type","tel",3,"ngModel","ngModelChange"],["expand","block",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Fiche Patient"),e.qZA(),e.TgZ(4,"ion-buttons",0)(5,"ion-button",1),e.NdJ("click",function(){return n.closeModal()}),e._uU(6,"Fermer"),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"ion-card")(9,"ion-card-header")(10,"ion-card-title"),e._uU(11),e.qZA()(),e.TgZ(12,"ion-card-content")(13,"ion-item")(14,"ion-label"),e._uU(15,"Nom"),e.qZA(),e.TgZ(16,"ion-input",2),e.NdJ("ngModelChange",function(i){return n.rendezVousData.nom=i}),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-label"),e._uU(19,"Pr\xe9nom"),e.qZA(),e.TgZ(20,"ion-input",2),e.NdJ("ngModelChange",function(i){return n.rendezVousData.prenom=i}),e.qZA()(),e.TgZ(21,"ion-item")(22,"ion-label"),e._uU(23,"\xc2ge"),e.qZA(),e.TgZ(24,"ion-input",3),e.NdJ("ngModelChange",function(i){return n.fichePatient.age=i}),e.qZA()(),e.TgZ(25,"ion-item")(26,"ion-label"),e._uU(27,"Adresse"),e.qZA(),e.TgZ(28,"ion-input",4),e.NdJ("ngModelChange",function(i){return n.fichePatient.adresse=i}),e.qZA()(),e.TgZ(29,"ion-item")(30,"ion-label"),e._uU(31,"T\xe9l\xe9phone"),e.qZA(),e.TgZ(32,"ion-input",5),e.NdJ("ngModelChange",function(i){return n.fichePatient.telephone=i}),e.qZA()(),e.TgZ(33,"ion-button",6),e.NdJ("click",function(){return n.saveFichePatient()}),e._uU(34,"Enregistrer"),e.qZA()()()()),2&t&&(e.xp6(11),e.AsE("",n.rendezVousData.nom," ",n.rendezVousData.prenom,""),e.xp6(5),e.Q6J("ngModel",n.rendezVousData.nom),e.xp6(4),e.Q6J("ngModel",n.rendezVousData.prenom),e.xp6(4),e.Q6J("ngModel",n.fichePatient.age),e.xp6(4),e.Q6J("ngModel",n.fichePatient.adresse),e.xp6(4),e.Q6J("ngModel",n.fichePatient.telephone))},dependencies:[g.JJ,g.On,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.Gu,o.pK,o.Ie,o.Q$,o.wd,o.sr,o.as,o.j9]}),c})();var f=a(2344),r=a(6814);function p(s,c){if(1&s){const u=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-button",3),e.NdJ("click",function(){const l=e.CHM(u).$implicit,i=e.oxw();return e.KtG(i.gotopatientpage(l))}),e._UZ(3,"ion-icon",4),e.qZA()(),e.TgZ(4,"ion-col"),e._uU(5),e.qZA(),e.TgZ(6,"ion-col"),e._uU(7),e.qZA(),e.TgZ(8,"ion-col"),e._uU(9),e.qZA(),e.TgZ(10,"ion-col"),e._uU(11),e.qZA()()}if(2&s){const u=c.$implicit;e.xp6(5),e.Oqu(u.nom),e.xp6(2),e.Oqu(u.prenom),e.xp6(2),e.Oqu(u.age),e.xp6(2),e.Oqu(u.telephone)}}let _,T,F,v,m=(()=>{var s;class c{constructor(t,n,l){this.firestore=t,this.modalController=n,this.router=l,this.patients=[],this.rdvs=[],this.uid=M.Ru.uid,this.nomPatient="",this.prenomPatient="",this.patientUid="",this.med=this.uid,this.n=this.nomPatient,this.p=this.prenomPatient}ngOnInit(){this.getPatients(),console.log(v)}gotopatientpage(t){var n=this;return(0,d.Z)(function*(){v=t,F=t.uid,n.router.navigate(["/patientpage"]),console.log("going to patientpage")})()}getPatients(){var t=this;return(0,d.Z)(function*(){try{t.patients=yield(0,M.m3)(t.firestore,t.uid),t.patients.length>0&&(t.nomPatient=t.patients[0].nom,t.prenomPatient=t.patients[0].prenom),console.log("Patients trouv\xe9s :",t.patients)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des patients :",n)}})()}openFichePatientModal(t){var n=this;return(0,d.Z)(function*(){const l=yield n.modalController.create({component:C,componentProps:{patientData:t,medecinUid:n.uid}});return l.onDidDismiss().then(i=>{i&&i.data&&console.log("Donn\xe9es de la fiche patient \xe0 enregistrer :",i.data)}),yield l.present()})()}showConsultations(t){var n=this;return(0,d.Z)(function*(){F=t,n.router.navigate(["/consultationliste"])})()}search(t){var n=this;return(0,d.Z)(function*(){const l=t.target.value.toLowerCase().trim();l?n.patients=n.patients.filter(i=>i.prenom.toLowerCase().startsWith(l)):n.getPatients()})()}}return(s=c).\u0275fac=function(t){return new(t||s)(e.Y36(h.ST),e.Y36(o.IN),e.Y36(f.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-affiche-patient"]],decls:30,vars:1,consts:[["routerLink","/app-medecin","fill","clear","slot","start"],["placeholder","Rechercher",3,"ionInput"],[4,"ngFor","ngForOf"],["color","primary",3,"click"],["name","folder-sharp"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-button",0),e._uU(3," Retour "),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Liste des Patients"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-header"),e._UZ(8,"br"),e.TgZ(9,"ion-searchbar",1),e.NdJ("ionInput",function(i){return n.search(i)}),e.qZA(),e._UZ(10,"br"),e.qZA(),e.TgZ(11,"ion-list")(12,"ion-grid")(13,"ion-row")(14,"ion-col")(15,"strong"),e._uU(16,"Option"),e.qZA()(),e.TgZ(17,"ion-col")(18,"strong"),e._uU(19,"Nom"),e.qZA()(),e.TgZ(20,"ion-col")(21,"strong"),e._uU(22,"Pr\xe9nom"),e.qZA()(),e.TgZ(23,"ion-col")(24,"strong"),e._uU(25,"Age"),e.qZA()(),e.TgZ(26,"ion-col")(27,"strong"),e._uU(28,"T\xe9l\xe9phone"),e.qZA()()(),e.YNc(29,p,12,4,"ion-row",2),e.qZA()()()),2&t&&(e.xp6(29),e.Q6J("ngForOf",n.patients))},dependencies:[r.sg,o.YG,o.wI,o.W2,o.jY,o.Gu,o.gu,o.q_,o.Nd,o.VI,o.wd,o.sr,o.j9,o.YI,f.rH]}),c})()}}]);