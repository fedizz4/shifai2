"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3662],{6844:(A,f,a)=>{a.r(f),a.d(f,{ConsultationPageModule:()=>F});var h=a(6814),M=a(95),e=a(878),P=a(2344),o=a(1187),g=a(9212),_=a(6369);const Z=[{path:"",component:(()=>{var i;class p{constructor(c){this.firestore=c,this.date=o.w,this.newDetails=""}ngOnInit(){}}return(i=p).\u0275fac=function(c){return new(c||i)(g.Y36(_.ST))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-consultation"]],decls:0,vars:0,template:function(c,C){}}),p})()}];let T=(()=>{var i;class p{}return(i=p).\u0275fac=function(c){return new(c||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[P.Bz.forChild(Z),P.Bz]}),p})(),F=(()=>{var i;class p{}return(i=p).\u0275fac=function(c){return new(c||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[h.ez,M.u5,e.Pc,T]}),p})()},7015:(A,f,a)=>{a.d(f,{_D:()=>i,n:()=>d,p:()=>c,A_:()=>C});var h=a(5861),M=a(1497),e=a(9212),P=a(6369),o=a(878),g=a(95);let _=(()=>{var s;class m{constructor(t,n){this.firestore=t,this.modalController=n,this.fichePatient={nom:"",prenom:"",age:null,adresse:"",telephone:""}}ngOnInit(){this.fichePatient.nom=d,this.fichePatient.prenom=c,console.log("prenom",c,"nom",d)}closeModal(){this.modalController.dismiss()}saveFichePatient(){var t=this;return(0,h.Z)(function*(){try{console.log("Donn\xe9es de la fiche patient \xe0 sauvegarder :",t.fichePatient),t.modalController.dismiss({data:t.fichePatient})}catch(n){console.error("Erreur lors de l'ajout du patient chez le m\xe9decin :",n)}})()}}return(s=m).\u0275fac=function(t){return new(t||s)(e.Y36(P.ST),e.Y36(o.IN))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-fiche-patient-modal"]],inputs:{rendezVousData:"rendezVousData"},decls:35,vars:7,consts:[["slot","end"],[3,"click"],["disabled","",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["type","tel",3,"ngModel","ngModelChange"],["expand","block",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Fiche Patient"),e.qZA(),e.TgZ(4,"ion-buttons",0)(5,"ion-button",1),e.NdJ("click",function(){return n.closeModal()}),e._uU(6,"Fermer"),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"ion-card")(9,"ion-card-header")(10,"ion-card-title"),e._uU(11),e.qZA()(),e.TgZ(12,"ion-card-content")(13,"ion-item")(14,"ion-label"),e._uU(15,"Nom"),e.qZA(),e.TgZ(16,"ion-input",2),e.NdJ("ngModelChange",function(r){return n.rendezVousData.nom=r}),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-label"),e._uU(19,"Pr\xe9nom"),e.qZA(),e.TgZ(20,"ion-input",2),e.NdJ("ngModelChange",function(r){return n.rendezVousData.prenom=r}),e.qZA()(),e.TgZ(21,"ion-item")(22,"ion-label"),e._uU(23,"\xc2ge"),e.qZA(),e.TgZ(24,"ion-input",3),e.NdJ("ngModelChange",function(r){return n.fichePatient.age=r}),e.qZA()(),e.TgZ(25,"ion-item")(26,"ion-label"),e._uU(27,"Adresse"),e.qZA(),e.TgZ(28,"ion-input",4),e.NdJ("ngModelChange",function(r){return n.fichePatient.adresse=r}),e.qZA()(),e.TgZ(29,"ion-item")(30,"ion-label"),e._uU(31,"T\xe9l\xe9phone"),e.qZA(),e.TgZ(32,"ion-input",5),e.NdJ("ngModelChange",function(r){return n.fichePatient.telephone=r}),e.qZA()(),e.TgZ(33,"ion-button",6),e.NdJ("click",function(){return n.saveFichePatient()}),e._uU(34,"Enregistrer"),e.qZA()()()()),2&t&&(e.xp6(11),e.AsE("",n.rendezVousData.nom," ",n.rendezVousData.prenom,""),e.xp6(5),e.Q6J("ngModel",n.rendezVousData.nom),e.xp6(4),e.Q6J("ngModel",n.rendezVousData.prenom),e.xp6(4),e.Q6J("ngModel",n.fichePatient.age),e.xp6(4),e.Q6J("ngModel",n.fichePatient.adresse),e.xp6(4),e.Q6J("ngModel",n.fichePatient.telephone))},dependencies:[g.JJ,g.On,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.Gu,o.pK,o.Ie,o.Q$,o.wd,o.sr,o.as,o.j9]}),m})();var Z=a(2344),T=a(6814);function F(s,m){if(1&s){const u=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-button",3),e.NdJ("click",function(){const l=e.CHM(u).$implicit,r=e.oxw();return e.KtG(r.gotopatientpage(l))}),e._UZ(3,"ion-icon",4),e.qZA()(),e.TgZ(4,"ion-col"),e._uU(5),e.qZA(),e.TgZ(6,"ion-col"),e._uU(7),e.qZA(),e.TgZ(8,"ion-col"),e._uU(9),e.qZA(),e.TgZ(10,"ion-col"),e._uU(11),e.qZA()()}if(2&s){const u=m.$implicit;e.xp6(5),e.Oqu(u.nom),e.xp6(2),e.Oqu(u.prenom),e.xp6(2),e.Oqu(u.age),e.xp6(2),e.Oqu(u.telephone)}}let d,c,C,v,i=(()=>{var s;class m{constructor(t,n,l){this.firestore=t,this.modalController=n,this.router=l,this.patients=[],this.rdvs=[],this.uid=M.Ru.uid,this.nomPatient="",this.prenomPatient="",this.patientUid="",this.med=this.uid,this.n=this.nomPatient,this.p=this.prenomPatient}ngOnInit(){this.getPatients(),console.log(v)}gotopatientpage(t){var n=this;return(0,h.Z)(function*(){v=t,C=t.uid,n.router.navigate(["/patientpage"]),console.log("going to patientpage")})()}getPatients(){var t=this;return(0,h.Z)(function*(){try{t.patients=yield(0,M.m3)(t.firestore,t.uid),t.patients.length>0&&(t.nomPatient=t.patients[0].nom,t.prenomPatient=t.patients[0].prenom),console.log("Patients trouv\xe9s :",t.patients)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des patients :",n)}})()}openFichePatientModal(t){var n=this;return(0,h.Z)(function*(){const l=yield n.modalController.create({component:_,componentProps:{patientData:t,medecinUid:n.uid}});return l.onDidDismiss().then(r=>{r&&r.data&&console.log("Donn\xe9es de la fiche patient \xe0 enregistrer :",r.data)}),yield l.present()})()}showConsultations(t){var n=this;return(0,h.Z)(function*(){C=t,n.router.navigate(["/consultationliste"])})()}search(t){var n=this;return(0,h.Z)(function*(){const l=t.target.value.toLowerCase().trim();l?n.patients=n.patients.filter(r=>r.prenom.toLowerCase().startsWith(l)):n.getPatients()})()}}return(s=m).\u0275fac=function(t){return new(t||s)(e.Y36(P.ST),e.Y36(o.IN),e.Y36(Z.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-affiche-patient"]],decls:30,vars:1,consts:[["routerLink","/app-medecin","fill","clear","slot","start"],["placeholder","Rechercher",3,"ionInput"],[4,"ngFor","ngForOf"],["color","primary",3,"click"],["name","folder-sharp"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-button",0),e._uU(3," Retour "),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Liste des Patients"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-header"),e._UZ(8,"br"),e.TgZ(9,"ion-searchbar",1),e.NdJ("ionInput",function(r){return n.search(r)}),e.qZA(),e._UZ(10,"br"),e.qZA(),e.TgZ(11,"ion-list")(12,"ion-grid")(13,"ion-row")(14,"ion-col")(15,"strong"),e._uU(16,"Option"),e.qZA()(),e.TgZ(17,"ion-col")(18,"strong"),e._uU(19,"Nom"),e.qZA()(),e.TgZ(20,"ion-col")(21,"strong"),e._uU(22,"Pr\xe9nom"),e.qZA()(),e.TgZ(23,"ion-col")(24,"strong"),e._uU(25,"Age"),e.qZA()(),e.TgZ(26,"ion-col")(27,"strong"),e._uU(28,"T\xe9l\xe9phone"),e.qZA()()(),e.YNc(29,F,12,4,"ion-row",2),e.qZA()()()),2&t&&(e.xp6(29),e.Q6J("ngForOf",n.patients))},dependencies:[T.sg,o.YG,o.wI,o.W2,o.jY,o.Gu,o.gu,o.q_,o.Nd,o.VI,o.wd,o.sr,o.j9,o.YI,Z.rH]}),m})()}}]);