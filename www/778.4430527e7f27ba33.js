"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[778],{778:(k,A,d)=>{d.d(A,{Q1:()=>W});var y=d(1180),p=d(1920),x=d(5592),L=d(2096),f=d(2459),I=d(6321),E=d(9360),$=d(8251),b=d(7398),M=d(4664),l=d(9212),m=d(7217),O=d(3106),o=d(8153),j=d(4537);class w{constructor(e,t,a){this._delegate=e,this.task=t,this.ref=a}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class _{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new w(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(a=>{if(e)return e(new w(a,this,this._ref))},t)}on(e,t,a,r){let i;return t&&(i="function"==typeof t?s=>t(new w(s,this,this._ref)):{next:t.next?s=>t.next(new w(s,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,a||void 0,r||void 0)}}class D{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new g(e,this._service))}get items(){return this._delegate.items.map(e=>new g(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class g{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=(0,o.g6)(this._delegate,e);return new g(t,this.storage)}get root(){return new g(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new g(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new _((0,o.B0)(this._delegate,e,t),this)}putString(e,t=o.bm.RAW,a){this._throwIfRoot("putString");const r=(0,o.qm)(t,e),i=Object.assign({},a);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new _(new o.IX(this._delegate,new o.UJ(r.data,!0),i),this)}listAll(){return(0,o.aF)(this._delegate).then(e=>new D(e,this.storage))}list(e){return(0,o.pb)(this._delegate,e||void 0).then(t=>new D(t,this.storage))}getMetadata(){return(0,o.sd)(this._delegate)}updateMetadata(e){return(0,o.Ym)(this._delegate,e)}getDownloadURL(){return(0,o.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,o.oq)(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw(0,o.y4)(e)}}class F{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(S(e))throw(0,o.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new g((0,o.iH)(this._delegate,e),this)}refFromURL(e){if(!S(e))throw(0,o.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{o.gE.makeFromUrl(e,this._delegate.host)}catch{throw(0,o.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new g((0,o.iH)(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,a={}){(0,o.a1)(this._delegate,e,t,a)}}function S(n){return/^[A-Za-z]+:\/\//.test(n)}function Y(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),a=n.getProvider("storage").getImmediate({identifier:e});return new F(t,a)}function T(n){const e=function V(n){return new x.y(e=>{const t=s=>e.next(s);t(n.snapshot);const i=n.on("state_changed",t);return n.then(s=>{t(s),e.complete()},s=>{t(n.snapshot),(s=>{e.error(s)})(s)}),function(){i()}}).pipe(function C(n,e=I.z){return(0,E.e)((t,a)=>{let r=null,i=null,s=null;const h=()=>{if(r){r.unsubscribe(),r=null;const u=i;i=null,a.next(u)}};function P(){const u=s+n,c=e.now();if(c<u)return r=this.schedule(void 0,u-c),void a.add(r);h()}t.subscribe((0,$.x)(a,u=>{i=u,s=e.now(),r||(r=e.schedule(P,n),a.add(r))},()=>{h(),a.complete()},void 0,()=>{i=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,b.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function R(n){return{getDownloadURL:()=>(0,L.of)(void 0).pipe(p.fc,(0,M.w)(()=>n.getDownloadURL()),p.iC),getMetadata:()=>(0,L.of)(void 0).pipe(p.fc,(0,M.w)(()=>n.getMetadata()),p.iC),delete:()=>(0,f.D)(n.delete()),child:e=>R(n.child(e)),updateMetadata:e=>(0,f.D)(n.updateMetadata(e)),put:(e,t)=>T(n.put(e,t)),putString:(e,t,a)=>T(n.putString(e,t,a)),list:e=>(0,f.D)(n.list(e)),listAll:()=>(0,f.D)(n.listAll())}}!function Z(n){const e={TaskState:o.$Y,TaskEvent:o.FN,StringFormat:o.bm,Storage:F,Reference:g};n.INTERNAL.registerComponent(new j.wA("storage-compat",Y,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(O.Z),d(7142);const X=new l.OlP("angularfire2.storageBucket"),z=new l.OlP("angularfire2.storage.maxUploadRetryTime"),J=new l.OlP("angularfire2.storage.maxOperationRetryTime"),K=new l.OlP("angularfire2.storage.use-emulator");let W=(()=>{var n;class e{constructor(a,r,i,s,h,P,u,c,Q,ae){(0,y.Z)(this,"storage",void 0);const U=(0,m.on)(a,h,r);this.storage=(0,m.cc)(`${U.name}.storage.${i}`,"AngularFireStorage",U.name,()=>{const v=h.runOutsideAngular(()=>U.storage(i||void 0)),G=Q;return G&&v.useEmulator(...G),u&&v.setMaxUploadRetryTime(u),c&&v.setMaxOperationRetryTime(c),v},[u,c])}ref(a){return R(this.storage.ref(a))}refFromURL(a){return R(this.storage.refFromURL(a))}upload(a,r,i){return R(this.storage.ref(a)).put(r,i)}}return n=e,(0,y.Z)(e,"\u0275fac",function(a){return new(a||n)(l.LFG(m.Dh),l.LFG(m.xv,8),l.LFG(X,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(p.HU),l.LFG(z,8),l.LFG(J,8),l.LFG(K,8),l.LFG(p.Rf,8))}),(0,y.Z)(e,"\u0275prov",l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})),e})()}}]);