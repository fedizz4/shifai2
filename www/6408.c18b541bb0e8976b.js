"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6408],{6408:(T,f,a)=>{a.r(f),a.d(f,{SallesecPageModule:()=>C});var u=a(6814),g=a(95),s=a(878),d=a(2344),m=a(5861),p=a(1497),e=a(9212),h=a(6369);function v(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col",1)(2,"h3"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col",1)(5,"ion-item")(6,"ion-label"),e._uU(7,"Pr\xe9sent"),e.qZA(),e.TgZ(8,"ion-checkbox",5),e.NdJ("ngModelChange",function(l){const i=e.CHM(t).$implicit;return e.KtG(i.present=l)})("ionChange",function(){const c=e.CHM(t).$implicit,i=e.oxw(2);return e.KtG(i.updatePresent(c))}),e.qZA()()()()}if(2&n){const t=r.$implicit,o=e.oxw(2);e.ekj("barre",o.present),e.xp6(3),e.lnq("",t.nom," ",t.prenom," ",t.heure,""),e.xp6(5),e.Q6J("ngModel",t.present)}}function P(n,r){if(1&n&&(e.ynx(0),e.YNc(1,v,9,6,"ion-row",4),e.BQk()),2&n){const t=e.oxw();e.xp6(),e.Q6J("ngForOf",t.rdvs)}}function S(n,r){1&n&&(e.TgZ(0,"ion-row")(1,"ion-col"),e._uU(2,"Vous n'avez pas de rendez-vous aujourd'hui"),e.qZA()())}const _=[{path:"",component:(()=>{var n;class r{constructor(o,l){this.firestore=o,this.toastController=l,this.rdvs=[],this.p=!1,this.present=!1,this.med=p.Kl,this.uid=p.Ru.uid}ngOnInit(){console.log(this.uid),console.log(this.med),this.loadEvents()}loadEvents(){var o=this;return(0,m.Z)(function*(){const l=yield(0,p.dB)(o.firestore,o.med);if(l&&l.length>0){o.p=!0;const c=new Date;c.setHours(0,0,0,0),o.rdvs=l.filter(i=>new Date(i.date).setHours(0,0,0,0)===c.setHours(0,0,0,0)).map(i=>(i.present=!1,i)).sort((i,M)=>new Date(M.date).getTime()-new Date(i.date).getTime()),console.log(o.rdvs)}else o.p=!1,console.log("vous n'avez pas de rendezvous aujourd'hui"),(yield o.toastController.create({message:"Vous n'avez pas de rendez-vous aujourd'hui. Veuillez retourner avec le bouton retour.",duration:1500,position:"top",color:"danger"})).present()})()}updatePresent(o){return(0,m.Z)(function*(){o.present=!o.present})()}}return(n=r).\u0275fac=function(o){return new(o||n)(e.Y36(h.ST),e.Y36(s.yF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sallesec"]],decls:15,vars:2,consts:[["routerLink","/app-secretaire","slot","start","fill","clear"],["size","6"],[4,"ngIf","ngIfElse"],["noAppointments",""],[3,"barre",4,"ngFor","ngForOf"],["slot","start",3,"ngModel","ngModelChange","ionChange"]],template:function(o,l){if(1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Salle d'attente"),e.qZA(),e.TgZ(4,"ion-button",0),e._uU(5,"retour"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-grid")(8,"ion-row")(9,"ion-col",1)(10,"h2"),e._uU(11,"Rendrez-vous du jour"),e.qZA()()(),e.YNc(12,P,2,1,"ng-container",2)(13,S,3,0,"ng-template",null,3,e.W1O),e.qZA()()),2&o){const c=e.MAs(14);e.xp6(12),e.Q6J("ngIf",l.p)("ngIfElse",c)}},dependencies:[u.sg,u.O5,g.JJ,g.On,s.YG,s.nz,s.wI,s.W2,s.jY,s.Gu,s.Ie,s.Q$,s.Nd,s.wd,s.sr,s.w,s.YI,d.rH]}),r})()}];let x=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(_),d.Bz]}),r})(),C=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,g.u5,s.Pc,x]}),r})()}}]);