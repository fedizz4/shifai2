"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5310],{5310:(z,f,r)=>{r.r(f),r.d(f,{Tab2PageModule:()=>D});var o=r(878),d=r(6814),b=r(95),P=r(6536),u=r(6132),Z=r(4572),g=r(2344),p=r(5861),T=r(7374),C=r(5587),v=r(1497),y=r(1086),m=r(8814),e=r(9212),M=r(6369);function x(i,c){if(1&i){const s=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-button",23),e.NdJ("click",function(){const a=e.CHM(s).$implicit,l=e.oxw();return e.KtG(l.deleteRendezVouscalendar(a))}),e._uU(4,"Supprimer"),e.qZA()()}if(2&i){const s=c.$implicit,t=e.oxw();e.xp6(2),e.HOy("",s.date," - ",s.heure," - ",s.nom," ",s.prenom,""),e.xp6(),e.Q6J("disabled",t.isRendezVousDatePassed(s))}}const O=[{path:"",component:(()=>{var i;class c{constructor(t,n){this.firestore=t,this.modalController=n,this.viewDate=new Date,this.events=[],this.activeDayIsOpen=!1,this.uid=y.z,this.rdvs=[],this.loadEvents()}loadEvents(){var t=this;return(0,p.Z)(function*(){try{const n=yield(0,v.F3)(t.firestore,t.uid);n&&n.length>0&&(t.events=n.map(a=>({start:new Date(a.date),title:`\n          Rendez-vous de ${a.prenom} ${a.nom} \xe0 ${a.heure} chez ${a.medecinPrenom} ${a.medecinNom}\n          ${a.statut?`<b><u><u><mark>${a.statut}</mark></u></u></b>`:""} \n          ${a.excuse?`<b><u><u><mark>${a.excuse}</mark></u></u></b>`:""} \n        `})),t.rdvs=n)}catch(n){console.error("Erreur lors du chargement des rendez-vous:",n)}})()}dayClicked({date:t,events:n}){(0,T.x)(t,this.viewDate)&&((0,C.K)(this.viewDate,t)&&!0===this.activeDayIsOpen||0===n.length?this.activeDayIsOpen=!1:(this.activeDayIsOpen=!0,this.viewDate=t))}deleteRendezVouscalendar(t){var n=this;return(0,p.Z)(function*(){try{yield n.presentExcuseModal(),void 0!==m.uV?(yield(0,v.i7)(n.firestore,y.z,t,m.uV),console.log("Rendez-vous supprim\xe9 avec succ\xe8s."),yield n.loadEvents()):console.log("Excuse non fournie. Annulation de la suppression du rendez-vous.")}catch(a){console.error("Erreur lors de la suppression du rendez-vous:",a)}})()}presentExcuseModal(){var t=this;return(0,p.Z)(function*(){const n=yield t.modalController.create({component:m.ED});return yield n.present(),new Promise(a=>{n.onDidDismiss().then(l=>{const h=null==l?void 0:l.data;a(null==h?void 0:h.excuse)})})})()}isRendezVousDatePassed(t){const n=t.date,a=new Date;return new Date(n)<a}}return(i=c).\u0275fac=function(t){return new(t||i)(e.Y36(M.ST),e.Y36(o.IN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-tab2"]],decls:53,vars:6,consts:[[3,"translucent"],["href","https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css","rel","stylesheet"],["href","https://unpkg.com/@fortawesome/fontawesome-free@6.2.1/css/all.css","rel","stylesheet"],["href","https://unpkg.com/angular-calendar@0.31.0/css/angular-calendar.css","rel","stylesheet"],["href","https://unpkg.com/flatpickr@4.6.13/dist/flatpickr.css","rel","stylesheet"],[1,"left"],["large","","routerLink","/profil",1,"right"],["name","person-circle-outline"],[1,"content",3,"fullscreen"],["color","primary",1,"header-rd"],[1,"center"],["color","primary"],["color","light","routerLink","/recherche-medecin",1,"center1"],["name","search-circle-outline",2,"color","rgb(110, 110, 248)"],[2,"color","rgb(110, 110, 248)"],[1,"calendar"],[3,"viewDate","events","activeDayIsOpen","dayClicked"],[4,"ngFor","ngForOf"],["collapse","fade"],["slot","bottom"],["name","home-outline","routerLink","/tabs/tab1"],["name","calendar-outline","routerLink","/tabs/tab2"],["name","pin-outline","routerLink","/tabs/tab3"],["color","danger",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0),e._UZ(1,"link",1)(2,"link",2)(3,"link",3)(4,"link",4),e.TgZ(5,"ion-toolbar")(6,"ion-item",5)(7,"p"),e._uU(8,"Rendez-vous"),e.qZA()(),e.TgZ(9,"ion-item",6),e._UZ(10,"ion-icon",7),e.qZA()()(),e.TgZ(11,"ion-content",8)(12,"ion-grid")(13,"ion-row")(14,"ion-col")(15,"ion-card",9)(16,"ion-card-header"),e._UZ(17,"br")(18,"br"),e.TgZ(19,"ion-card-title",10)(20,"div",10),e._uU(21,"Trouver"),e.qZA(),e.TgZ(22,"div")(23,"span"),e._uU(24,"Tous les sp\xe9cialistes "),e.qZA()()(),e._UZ(25,"br")(26,"br")(27,"ion-card-subtitle",10),e.qZA(),e.TgZ(28,"ion-content",11)(29,"ion-button",12),e._UZ(30,"ion-icon",13),e.TgZ(31,"p",14),e._uU(32,"Rechercher"),e.qZA()(),e._UZ(33,"br")(34,"br"),e.qZA()()()(),e.TgZ(35,"ion-row")(36,"ion-col",15)(37,"mwl-calendar-month-view",16),e.NdJ("dayClicked",function(l){return n.dayClicked(l.day)}),e.qZA()()()(),e.TgZ(38,"ion-list"),e.YNc(39,x,5,5,"ion-item",17),e.qZA()(),e.TgZ(40,"ion-footer",18)(41,"ion-toolbar")(42,"ion-tabs")(43,"ion-tab-bar",19)(44,"ion-tab-button"),e._UZ(45,"ion-icon",20),e._uU(46," Home "),e.qZA(),e.TgZ(47,"ion-tab-button"),e._UZ(48,"ion-icon",21),e._uU(49," Rendez-vous "),e.qZA(),e.TgZ(50,"ion-tab-button"),e._UZ(51,"ion-icon",22),e._uU(52," A remplir "),e.qZA()()()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(11),e.Q6J("fullscreen",!0),e.xp6(26),e.Q6J("viewDate",n.viewDate)("events",n.events)("activeDayIsOpen",n.activeDayIsOpen),e.xp6(2),e.Q6J("ngForOf",n.rdvs))},dependencies:[o.YG,o.PM,o.Zi,o.tO,o.Dq,o.wI,o.W2,o.fr,o.jY,o.Gu,o.gu,o.Ie,o.Q$,o.q_,o.Nd,o.yq,o.ZU,o.sr,o.UN,o.YI,d.sg,g.rH,u.GH],styles:['@charset "UTF-8";.right[_ngcontent-%COMP%]{float:right}.left[_ngcontent-%COMP%]{float:left}.header-rd[_ngcontent-%COMP%]{height:250px}.center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block}.center1[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:5px;margin-left:auto;margin-right:auto;display:block;width:200px;height:5px}body[_ngcontent-%COMP%]{text-align:center;background:linear-gradient(141deg,#ccc 25%,#eee,#ddd 55%);color:#555;font-family:Roboto;font-weight:300;font-size:32px;padding-top:40vh;height:100vh;overflow:hidden}div[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;white-space:nowrap}div[_ngcontent-%COMP%]:first-of-type{animation:_ngcontent-%COMP%_showup 7s infinite}div[_ngcontent-%COMP%]:last-of-type{width:0px;animation:_ngcontent-%COMP%_reveal 7s infinite}div[_ngcontent-%COMP%]:last-of-type   span[_ngcontent-%COMP%]{margin-left:-355px;animation:_ngcontent-%COMP%_slidein 7s infinite}@keyframes _ngcontent-%COMP%_showup{0%{opacity:0}20%{opacity:1}80%{opacity:1}to{opacity:0}}@keyframes _ngcontent-%COMP%_slidein{0%{margin-left:-800px}20%{margin-left:-800px}35%{margin-left:0}to{margin-left:0}}@keyframes _ngcontent-%COMP%_reveal{0%{opacity:0;width:0px}20%{opacity:1;width:0px}30%{width:355px}80%{opacity:1}to{opacity:0;width:355px}}.calendar[_ngcontent-%COMP%]{width:100%;position:sticky}.footer[_ngcontent-%COMP%]{margin-bottom:0%}.content[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.text-rouge[_ngcontent-%COMP%]{color:var(--ion-color-new)}']}),c})()}];let w=(()=>{var i;class c{}return(i=c).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.Bz.forChild(O),g.Bz]}),c})(),D=(()=>{var i;class c{}return(i=c).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[o.Pc,d.ez,b.u5,P.e,w,d.ez,u._8.forRoot({provide:u._A,useFactory:Z.x})]}),c})()}}]);